import{_ as e,r as t,e as a,s as l,Y as s,f as i,o as r,c as o,a as u,w as n,b as m,t as p,d,n as c,F as v,x as f,q as j,g,p as _,l as h}from"./index-d93ecfd9.js";import{_ as x}from"./Upload-0b69cedd.js";import{_ as y}from"./InputNumber-43a45814.js";import{_ as w}from"./Empty-d19cae85.js";import{_ as I}from"./GradientText-8c62cc47.js";import{N as b}from"./headers-79a1892a.js";import{_ as k}from"./text-f881741e.js";import{_ as L}from"./Divider-2b26e657.js";import"./Add-00122154.js";import"./Progress-6ebfbbb8.js";import"./light-5da1e5bf.js";import"./Image-46cbaef1.js";import"./utils-5d91cb42.js";import"./light-c2ad2c79.js";import"./light-f76c98be.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./Tooltip-0ede3859.js";import"./Popover-92ca2497.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./use-merged-state-bb55b613.js";import"./use-compitable-f583eb1a.js";import"./Input-19ebdc3b.js";import"./light-1b9db3a7.js";import"./light-5ea3e982.js";import"./light-16e65505.js";import"./use-houdini-2a8f5bbb.js";import"./light-6dc1ea6d.js";import"./light-3a92740e.js";const U={class:"img-cut-container"},D={class:"content-box"},E={class:"line-num-container"},F={class:"line-num-input"},R={key:0,class:"preview-container"},A={class:"preview-section"},C=["src"],P=["src"],$={key:1},q=(e=>(_("data-v-a8847dcf"),e=e(),h(),e))((()=>d("br",null,null,-1))),z=e({__name:"ImgCut",setup(e){const _=t({title:"图片切割"}),h=a(),z=a(3),M=a({}),N=a([]),S=a(),T=async e=>{let t=new FileReader;t.readAsDataURL(e.file),t.addEventListener("load",(async()=>{const e=new Image;e.onload=()=>{M.value=e,B()},e.src=t.result}),!1)},Y=e=>{var t;null==(t=S.value)||t.clear();const a=e[0];T({file:a})},B=()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),a=M.value,l=Math.floor(a.naturalWidth/z.value),s=Math.floor(a.naturalHeight/z.value),i=[];e.width=l,e.height=s;for(let r=0;r<z.value;r++)for(let o=0;o<z.value;o++)null==t||t.drawImage(a,o*l,r*s,l,s,0,0,l,s),i.push(e.toDataURL());N.value=i},G=l((()=>`width: ${M.value.width||800}px;`+`grid: repeat(${z.value}, 1fr) / repeat(${z.value}, 1fr);`));return s(G,(()=>{h.value&&B()})),i((()=>{})),(e,t)=>{const a=I,l=b,s=g,i=x,B=k,H=y,K=w,V=L;return r(),o("div",U,[u(l,null,{default:n((()=>[u(a,{type:"info"},{default:n((()=>[m(p(_.title),1)])),_:1})])),_:1}),d("div",D,[u(i,{"file-list":h.value,"onUpdate:fileList":t[0]||(t[0]=e=>h.value=e),class:"data-file-ref",ref_key:"dataFileRef",ref:S,accept:"image/*","custom-request":T,max:1,"on-exceed":Y},{default:n((()=>[u(s,{type:"primary"},{default:n((()=>[m("请上传需要切割的图片")])),_:1})])),_:1},8,["file-list"]),d("div",E,[d("div",F,[u(B,null,{default:n((()=>[m("行数和列数")])),_:1}),u(H,{value:z.value,"onUpdate:value":t[1]||(t[1]=e=>z.value=e),min:1,max:10,class:"line-num-control"},null,8,["value"])])]),M.value.src?(r(),o("div",R,[d("div",A,[u(B,null,{default:n((()=>[m("预览:")])),_:1}),d("div",{style:c(G.value),class:"grid-container"},[(r(!0),o(v,null,f(N.value,((e,t)=>(r(),o("img",{key:t,src:e,alt:"结果"},null,8,C)))),128))],4)]),d("div",null,[u(B,null,{default:n((()=>[m("原图:")])),_:1}),d("div",null,[M.value.src?(r(),o("img",{key:0,src:M.value.src,alt:"原图"},null,8,P)):j("",!0)])])])):(r(),o("div",$,[u(K,{size:"large",description:"无预览"})]))]),u(V,{"title-placement":"left"},{default:n((()=>[m("描述")])),_:1}),u(B,null,{default:n((()=>[m(" 将图片分割成四宫格、九宫格、十六宫格，支持自定义行与列；"),q,m(" 比如：九宫格切图广泛应用于微信朋友圈，微博等社交媒体。 ")])),_:1})])}}},[["__scopeId","data-v-a8847dcf"]]);export{z as default};
