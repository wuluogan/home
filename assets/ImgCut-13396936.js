import{_ as e,r as t,e as a,s as l,Y as s,f as i,o as r,c as o,a as u,w as n,b as m,t as d,d as p,n as c,F as f,x as v,q as j,g,p as _,l as h}from"./index-c72c5b0c.js";import{_ as x}from"./Upload-c23e3976.js";import{_ as y}from"./InputNumber-3459a9d0.js";import{_ as w}from"./Empty-3e1da814.js";import{_ as I}from"./GradientText-fc4bdbf9.js";import{N as b}from"./headers-9bed30c4.js";import{_ as k}from"./text-64fc9966.js";import{_ as F}from"./Divider-de4c325a.js";import"./Add-b088e338.js";import"./Progress-90277c5d.js";import"./light-7a086192.js";import"./Image-6ba3d672.js";import"./utils-48198701.js";import"./light-a43afc3c.js";import"./light-cb0cf260.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./Tooltip-f5342231.js";import"./Popover-87b27d79.js";import"./Follower-ef4b8179.js";import"./next-frame-once-924ab492.js";import"./cssr-ed8d5782.js";import"./use-merged-state-74230ec8.js";import"./use-compitable-a1866e01.js";import"./Input-b4caa030.js";import"./light-6c88686a.js";import"./light-6a3b8d52.js";import"./light-170bfcda.js";import"./use-houdini-1a86f12f.js";import"./light-a7677734.js";import"./light-5d80b650.js";const U={class:"img-cut-container"},D={class:"content-box"},E={class:"line-num-container"},L={class:"line-num-input"},R={key:0,class:"preview-container"},$={class:"preview-section"},q=["src"],A=["src"],C={key:1},N=(e=>(_("data-v-a8847dcf"),e=e(),h(),e))((()=>p("br",null,null,-1))),G=e({__name:"ImgCut",setup(e){const _=t({title:"图片切割"}),h=a(),G=a(3),H=a({}),M=a([]),P=a(),S=async e=>{let t=new FileReader;t.readAsDataURL(e.file),t.addEventListener("load",(async()=>{const e=new Image;e.onload=()=>{H.value=e,Y()},e.src=t.result}),!1)},T=e=>{var t;null==(t=P.value)||t.clear();const a=e[0];S({file:a})},Y=()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),a=H.value,l=Math.floor(a.naturalWidth/G.value),s=Math.floor(a.naturalHeight/G.value),i=[];e.width=l,e.height=s;for(let r=0;r<G.value;r++)for(let o=0;o<G.value;o++)null==t||t.drawImage(a,o*l,r*s,l,s,0,0,l,s),i.push(e.toDataURL());M.value=i},z=l((()=>`width: ${H.value.width||800}px;`+`grid: repeat(${G.value}, 1fr) / repeat(${G.value}, 1fr);`));return s(z,(()=>{h.value&&Y()})),i((()=>{})),(e,t)=>{const a=I,l=b,s=g,i=x,Y=k,B=y,O=w,V=F;return r(),o("div",U,[u(l,null,{default:n((()=>[u(a,{type:"info"},{default:n((()=>[m(d(_.title),1)])),_:1})])),_:1}),p("div",D,[u(i,{"file-list":h.value,"onUpdate:fileList":t[0]||(t[0]=e=>h.value=e),class:"data-file-ref",ref_key:"dataFileRef",ref:P,accept:"image/*","custom-request":S,max:1,"on-exceed":T},{default:n((()=>[u(s,{type:"primary"},{default:n((()=>[m("请上传需要切割的图片")])),_:1})])),_:1},8,["file-list"]),p("div",E,[p("div",L,[u(Y,null,{default:n((()=>[m("行数和列数")])),_:1}),u(B,{value:G.value,"onUpdate:value":t[1]||(t[1]=e=>G.value=e),min:1,max:10,class:"line-num-control"},null,8,["value"])])]),H.value.src?(r(),o("div",R,[p("div",$,[u(Y,null,{default:n((()=>[m("预览:")])),_:1}),p("div",{style:c(z.value),class:"grid-container"},[(r(!0),o(f,null,v(M.value,((e,t)=>(r(),o("img",{key:t,src:e,alt:"结果"},null,8,q)))),128))],4)]),p("div",null,[u(Y,null,{default:n((()=>[m("原图:")])),_:1}),p("div",null,[H.value.src?(r(),o("img",{key:0,src:H.value.src,alt:"原图"},null,8,A)):j("",!0)])])])):(r(),o("div",C,[u(O,{size:"large",description:"无预览"})]))]),u(V,{"title-placement":"left"},{default:n((()=>[m("描述")])),_:1}),u(Y,null,{default:n((()=>[m(" 将图片分割成四宫格、九宫格、十六宫格，支持自定义行与列；"),N,m(" 比如：九宫格切图广泛应用于微信朋友圈，微博等社交媒体。 ")])),_:1})])}}},[["__scopeId","data-v-a8847dcf"]]);export{G as default};
