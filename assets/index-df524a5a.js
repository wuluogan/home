import{y as e,D as t,aS as n,h as r,Q as o,d6 as a,aM as s,S as l,o as c,c as u,d,d7 as p,e as h,Y as f,f as m,k as g,w as y,a as v,bk as b,u as k,ao as w,cp as S,cq as P,cN as x,cr as D,cO as C,cs as _,ct as O,cu as L,_ as T,ac as E,d8 as j,cP as R,d9 as A,da as I,r as z,j as M,db as V,ch as $,ae as B,m as F,dc as H,b as U,t as N,F as q,x as Y,dd as G,q as X,cY as W,v as K,de as J,c9 as Q,df as Z,dg as ee,dh as te,bO as ne,an as re,di as oe,i as ae,c5 as ie,dj as se,dk as le,cT as ce,z as ue,cR as de,cS as pe,cn as he,dl as fe,dm as me,dn as ge,dp as ye,dq as ve,dr as be,g as ke,c_ as we,cv as Se,cw as Pe,am as xe,n as De,ds as Ce,dt as _e,du as Oe,dv as Le,dw as Te,p as Ee,l as je,co as Re,cJ as Ae,dx as Ie,dy as ze,dz as Me,dA as Ve,dB as $e,dC as Be,dD as Fe,dE as He,dF as Ue,dG as Ne,dH as qe,cU as Ye,c6 as Ge}from"./index-d93ecfd9.js";import{g as Xe,r as We}from"./login-d4906cc3.js";import{t as Ke}from"./themeColor-10df075c.js";import{u as Je}from"./use-os-theme-9276446e.js";import{d as Qe}from"./dark-d4e3c53e.js";import{z as Ze,d as et}from"./zhCN-bd9efa0e.js";import{g as tt,a as nt}from"./search-199a9ff5.js";import{_ as rt}from"./Input-19ebdc3b.js";import{_ as ot}from"./text-f881741e.js";import{_ as at}from"./Tag-9bd41f20.js";import{_ as it}from"./Space-76cfe381.js";import{_ as st}from"./Scrollbar-b297dc5c.js";import{_ as lt}from"./Avatar-d697b90d.js";import{_ as ct}from"./Dropdown-ca523edc.js";import{_ as ut}from"./Progress-6ebfbbb8.js";import{A as dt}from"./AddPlaylist-0e9ef9cc.js";import{A as pt}from"./AllArtists-e33e1687.js";import{_ as ht,a as ft}from"./DrawerContent-b50dea9b.js";import{T as mt,P as gt,a as yt,S as vt}from"./ThumbDownRound-6029eb8b.js";import{_ as bt}from"./Switch-d55d0dfc.js";import{F as kt,_ as wt,a as St}from"./FullscreenRound-def0bbea.js";import{_ as Pt}from"./Popover-92ca2497.js";import{_ as xt}from"./Slider-d57b5f15.js";import{_ as Dt,a as Ct}from"./Layout-65fc5fa4.js";import"./_common-60fffae6.js";import"./light-25af1eec.js";import"./light-f76c98be.js";import"./light-16e65505.js";import"./light-1b9db3a7.js";import"./light-d2124738.js";import"./light-689a4673.js";import"./light-2c22dcb8.js";import"./light-12c62e2d.js";import"./light-45644e18.js";import"./light-ca51619b.js";import"./light-f5dc26c8.js";import"./light-72b21668.js";import"./light-c2ad2c79.js";import"./light-5ced6f1c.js";import"./light-3a92740e.js";import"./light-51fd1fd4.js";import"./_common-991711fd.js";import"./_common-89f2509f.js";import"./light-d411e82b.js";import"./light-8230dd77.js";import"./light-65e6542b.js";import"./light-5da1e5bf.js";import"./light-c009801c.js";import"./_common-b0d8bea4.js";import"./light-f8d78f18.js";import"./_common-6222e43f.js";import"./light-af7849c2.js";import"./light-6dc1ea6d.js";import"./light-5ea3e982.js";import"./index-92eb66c0.js";import"./Suffix-1fd55ec3.js";import"./use-merged-state-bb55b613.js";import"./use-compitable-f583eb1a.js";import"./get-slot-a0e67e91.js";import"./utils-5d91cb42.js";import"./create-07671515.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./create-ref-setter-ee697025.js";import"./CreatePlaylist-db76e905.js";import"./Checkbox-995e550a.js";const _t=e({name:"GlobalStyle",setup(){if("undefined"==typeof document)return;const e=t(n,null),{body:i}=document,{style:c}=i;let u=!1,d=!0;r((()=>{o((()=>{var t,n;const{textColor2:r,fontSize:o,fontFamily:l,bodyColor:p,cubicBezierEaseInOut:h,lineHeight:f}=e?a({},(null===(t=e.mergedThemeRef.value)||void 0===t?void 0:t.common)||s,null===(n=e.mergedThemeOverridesRef.value)||void 0===n?void 0:n.common):s;if(u||!i.hasAttribute("n-styled")){c.setProperty("-webkit-text-size-adjust","100%"),c.setProperty("-webkit-tap-highlight-color","transparent"),c.padding="0",c.margin="0",c.backgroundColor=p,c.color=r,c.fontSize=o,c.fontFamily=l,c.lineHeight=f;const e=`color .3s ${h}, background-color .3s ${h}`;d?setTimeout((()=>{c.transition=e}),0):c.transition=e,i.setAttribute("n-styled",""),u=!0,d=!1}}))})),l((()=>{u&&i.removeAttribute("n-styled")}))},render:()=>null}),Ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Lt=[d("path",{d:"M19.66 3.99c-2.64-1.8-5.9-.96-7.66 1.1c-1.76-2.06-5.02-2.91-7.66-1.1c-1.4.96-2.28 2.58-2.34 4.29c-.14 3.88 3.3 6.99 8.55 11.76l.1.09c.76.69 1.93.69 2.69-.01l.11-.1c5.25-4.76 8.68-7.87 8.55-11.75c-.06-1.7-.94-3.32-2.34-4.28zM12.1 18.55l-.1.1l-.1-.1C7.14 14.24 4 11.39 4 8.5C4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5c0 2.89-3.14 5.74-7.9 10.05z",fill:"currentColor"},null,-1)],Tt=e({name:"FavoriteBorderRound",render:function(e,t){return c(),u("svg",Ot,Lt)}}),Et={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},jt=[d("path",{d:"M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29c2.64-1.8 5.9-.96 7.66 1.1c1.76-2.06 5.02-2.91 7.66-1.1c1.41.96 2.28 2.59 2.34 4.29c.14 3.88-3.3 6.99-8.55 11.76l-.1.09z",fill:"currentColor"},null,-1)],Rt=e({name:"FavoriteRound",render:function(e,t){return c(),u("svg",Et,jt)}}),At={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},It=[d("path",{d:"M6 16h2v2c0 .55.45 1 1 1s1-.45 1-1v-3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1zm2-8H6c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1s-1 .45-1 1v2zm7 11c.55 0 1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm1-11V6c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1h-2z",fill:"currentColor"},null,-1)],zt=e({name:"FullscreenExitRound",render:function(e,t){return c(),u("svg",At,It)}}),Mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Vt=[d("path",{d:"M21 4H11l-1-3H3c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8l1 3h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 16c-2.76 0-5-2.24-5-5s2.24-5 5-5c1.35 0 2.48.5 3.35 1.3L9.03 8.57c-.38-.36-1.04-.78-2.03-.78c-1.74 0-3.15 1.44-3.15 3.21S5.26 14.21 7 14.21c2.01 0 2.84-1.44 2.92-2.41H7v-1.71h4.68c.07.31.12.61.12 1.02C11.8 13.97 9.89 16 7 16zm6.17-5.42h3.7c-.43 1.25-1.11 2.43-2.05 3.47c-.31-.35-.6-.72-.86-1.1l-.79-2.37zm8.33 9.92c0 .55-.45 1-1 1H14l2-2.5l-1.04-3.1l3.1 3.1l.92-.92l-3.3-3.25l.02-.02c1.13-1.25 1.93-2.69 2.4-4.22H20v-1.3h-4.53V8h-1.29v1.29h-1.44L11.46 5.5h9.04c.55 0 1 .45 1 1v14z",fill:"currentColor"},null,-1)],$t=e({name:"GTranslateFilled",render:function(e,t){return c(),u("svg",Mt,Vt)}}),Bt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ft=[d("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6l1.41-1.41z",fill:"currentColor"},null,-1)],Ht=e({name:"KeyboardArrowDownFilled",render:function(e,t){return c(),u("svg",Bt,Ft)}}),Ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Nt=[d("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z",fill:"currentColor"},null,-1)],qt=e({name:"KeyboardArrowUpFilled",render:function(e,t){return c(),u("svg",Ut,Nt)}}),Yt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Gt=[d("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z",fill:"currentColor"},null,-1)],Xt=e({name:"MessageFilled",render:function(e,t){return c(),u("svg",Yt,Gt)}}),Wt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Kt=[d("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",fill:"currentColor"},null,-1)],Jt=e({name:"PauseRound",render:function(e,t){return c(),u("svg",Wt,Kt)}}),Qt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Zt=[d("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 0 0 0-1.69L9.54 5.98A.998.998 0 0 0 8 6.82z",fill:"currentColor"},null,-1)],en=e({name:"PlayArrowRound",render:function(e,t){return c(),u("svg",Qt,Zt)}}),tn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},nn=[d("path",{d:"M13 10H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm0-4H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zm5 8v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3zM3 16h6c.55 0 1-.45 1-1s-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1z",fill:"currentColor"},null,-1)],rn=e({name:"PlaylistAddRound",render:function(e,t){return c(),u("svg",tn,nn)}}),on={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},an=[d("path",{d:"M5 10h10c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm0-4h10c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm0 8h6c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm9 .88v4.23c0 .39.42.63.76.43l3.53-2.12c.32-.19.32-.66 0-.86l-3.53-2.12a.508.508 0 0 0-.76.44z",fill:"currentColor"},null,-1)],sn=e({name:"PlaylistPlayRound",render:function(e,t){return c(),u("svg",on,an)}}),ln={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},cn=[d("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23a.987.987 0 0 0-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41a7.343 7.343 0 0 0 0 1.35l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68zm-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5s3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5z",fill:"currentColor"},null,-1)],un=e({name:"SettingsRound",render:function(e,t){return c(),u("svg",ln,cn)}}),dn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},pn=[d("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07a1 1 0 0 0 0 1.64z",fill:"currentColor"},null,-1)],hn=e({name:"SkipPreviousRound",render:function(e,t){return c(),u("svg",dn,pn)}}),fn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},mn=[d("path",{d:"M18.5 12A4.5 4.5 0 0 0 16 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L9 9H6c-.55 0-1 .45-1 1z",fill:"currentColor"},null,-1)],gn=e({name:"VolumeDownRound",render:function(e,t){return c(),u("svg",fn,mn)}}),yn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},vn=[d("path",{d:"M7 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L11 9H8c-.55 0-1 .45-1 1z",fill:"currentColor"},null,-1)],bn=e({name:"VolumeMuteRound",render:function(e,t){return c(),u("svg",yn,vn)}}),kn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},wn=[d("path",{d:"M3.63 3.63a.996.996 0 0 0 0 1.41L7.29 8.7L7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91c-.36.15-.58.53-.58.92c0 .72.73 1.18 1.39.91c.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 1 0 1.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87c0-3.83-2.4-7.11-5.78-8.4c-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0 0 14 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z",fill:"currentColor"},null,-1)],Sn=e({name:"VolumeOffRound",render:function(e,t){return c(),u("svg",kn,wn)}}),Pn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},xn=[d("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",fill:"currentColor"},null,-1)],Dn=e({name:"VolumeUpRound",render:function(e,t){return c(),u("svg",Pn,xn)}}),Cn={__name:"index",setup(t){const n=p(),r=Je(),o=h(null),a=h(null),i=document.querySelector('meta[name="theme-color"]'),s=()=>{"light"==n.getSiteTheme?(a.value=null,i.setAttribute("content","#ffffff")):"dark"==n.getSiteTheme&&(a.value=Qe,i.setAttribute("content","#18181c"))},l=e=>{n.themeAuto&&("dark"==e?n.setSiteTheme("dark"):n.setSiteTheme("light"))},u=e=>{const t=Ke[e];o.value={common:t},n.themeData=t,d("--main-color",t.primaryColor),d("--main-second-color",t.primaryColor+"1f"),d("--main-boxshadow-color",t.primaryColor+"26"),d("--main-boxshadow-hover-color",t.primaryColor+"05")},d=(e,t)=>{document.documentElement.style.setProperty(e,t)},T=e({setup(){window.$loadingBar=C(),window.$notification=_(),window.$message=O(),window.$dialog=L()},render(){}});return f((()=>n.getSiteTheme),(()=>{s()})),f((()=>r.value),(e=>{l(e)})),f((()=>n.themeType),(e=>u(e))),m((()=>{s(),u(n.themeType),l(r.value)})),(e,t)=>{const n=_t,r=w,i=S,s=P,l=x,u=D;return c(),g(u,{locale:k(Ze),"date-locale":k(et),theme:k(a),"theme-overrides":k(o),breakpoints:{xs:0,mb:480,s:640,m:1024,l:1280,xl:1536,xxl:1920},abstract:"","inline-theme-disabled":""},{default:y((()=>[v(n),v(l,null,{default:y((()=>[v(s,null,{default:y((()=>[v(i,null,{default:y((()=>[v(r,null,{default:y((()=>[b(e.$slots,"default"),v(k(T))])),_:3})])),_:3})])),_:3})])),_:3})])),_:3},8,["locale","date-locale","theme","theme-overrides"])}}};const _n=T({name:"CollapseTransition",props:{name:{type:String,required:!1,default:"collapse"},dimension:{type:String,required:!1,default:"height",validator:e=>["height","width"].includes(e)},duration:{type:Number,required:!1,default:300},easing:{type:String,required:!1,default:"ease-in-out"}},watch:{dimension(){this.clearCachedDimensions()}},data:()=>({cachedStyles:null}),computed:{transition(){let e=[];return Object.keys(this.cachedStyles).forEach((t=>{e.push(`${this.convertToCssProperty(t)} ${this.duration}ms ${this.easing}`)})),e.join(", ")}},methods:{beforeAppear(e){this.$emit("before-appear",e)},appear(e){this.$emit("appear",e)},afterAppear(e){this.$emit("after-appear",e)},appearCancelled(e){this.$emit("appear-cancelled",e)},beforeEnter(e){this.$emit("before-enter",e)},enter(e,t){this.detectAndCacheDimensions(e),this.setClosedDimensions(e),this.hideOverflow(e),this.forceRepaint(e),this.setTransition(e),this.setOpenedDimensions(e),this.$emit("enter",e,t),setTimeout(t,this.duration)},afterEnter(e){this.unsetOverflow(e),this.unsetTransition(e),this.unsetDimensions(e),this.clearCachedDimensions(),this.$emit("after-enter",e)},enterCancelled(e){this.$emit("enter-cancelled",e)},beforeLeave(e){this.$emit("before-leave",e)},leave(e,t){this.detectAndCacheDimensions(e),this.setOpenedDimensions(e),this.hideOverflow(e),this.forceRepaint(e),this.setTransition(e),this.setClosedDimensions(e),this.$emit("leave",e,t),setTimeout(t,this.duration)},afterLeave(e){this.unsetOverflow(e),this.unsetTransition(e),this.unsetDimensions(e),this.clearCachedDimensions(),this.$emit("after-leave",e)},leaveCancelled(e){this.$emit("leave-cancelled",e)},detectAndCacheDimensions(e){if(this.cachedStyles)return;const t=e.style.visibility,n=e.style.display;e.style.visibility="hidden",e.style.display="",this.cachedStyles=this.detectRelevantDimensions(e),e.style.visibility=t,e.style.display=n},clearCachedDimensions(){this.cachedStyles=null},detectRelevantDimensions(e){return"height"===this.dimension?{height:e.offsetHeight+"px",paddingTop:e.style.paddingTop||this.getCssValue(e,"padding-top"),paddingBottom:e.style.paddingBottom||this.getCssValue(e,"padding-bottom")}:"width"===this.dimension?{width:e.offsetWidth+"px",paddingLeft:e.style.paddingLeft||this.getCssValue(e,"padding-left"),paddingRight:e.style.paddingRight||this.getCssValue(e,"padding-right")}:{}},setTransition(e){e.style.transition=this.transition},unsetTransition(e){e.style.transition=""},hideOverflow(e){e.style.overflow="hidden"},unsetOverflow(e){e.style.overflow=""},setClosedDimensions(e){Object.keys(this.cachedStyles).forEach((t=>{e.style[t]="0"}))},setOpenedDimensions(e){Object.keys(this.cachedStyles).forEach((t=>{e.style[t]=this.cachedStyles[t]}))},unsetDimensions(e){Object.keys(this.cachedStyles).forEach((t=>{e.style[t]=""}))},forceRepaint(e){getComputedStyle(e)[this.dimension]},getCssValue:(e,t)=>getComputedStyle(e,null).getPropertyValue(t),convertToCssProperty(e){const t=e.match(/([A-Z])/g);if(!t)return e;for(let n=0,r=t.length;n<r;n++)e=e.replace(new RegExp(t[n]),"-"+t[n].toLowerCase());return"-"===e.slice(0,1)&&(e=e.slice(1)),e}}},[["render",function(e,t,n,r,o,a){return c(),g(E,{name:n.name,onBeforeAppear:a.beforeAppear,onAppear:a.appear,onAfterAppear:a.afterAppear,onAppearCancelled:a.appearCancelled,onBeforeEnter:a.beforeEnter,onEnter:a.enter,onAfterEnter:a.afterEnter,onEnterCancelled:a.enterCancelled,onBeforeLeave:a.beforeLeave,onLeave:a.leave,onAfterLeave:a.afterLeave,onLeaveCancelled:a.leaveCancelled},{default:y((()=>[b(e.$slots,"default")])),_:3},8,["name","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled"])}]]);let On;const Ln={class:"searchInp"},Tn={key:0,class:"history-list"},En={class:"list-title"},jn={key:1,class:"hot-list"},Rn={class:"list-title"},An=["onClick"],In={class:"title"},zn={class:"name"},Mn={key:0,class:"suggest-tip"},Vn={key:1,class:"suggest-all"},$n={class:"loading"},Bn={key:0,class:"suggest-item"},Fn={class:"type"},Hn={class:"name"},Un=["onClick"],Nn={key:1,class:"suggest-item"},qn={class:"type"},Yn={class:"name"},Gn=["onClick","innerHTML"],Xn={key:2,class:"suggest-item"},Wn={class:"type"},Kn={class:"name"},Jn=["onClick"],Qn={key:3,class:"suggest-item"},Zn={class:"type"},er={class:"name"},tr=["onClick"],nr={__name:"index",setup(e){const{t:t}=j(),n=R(),r=A(),o=p(),a=I(),i=h(null),s=h(null),b=()=>{var e;null==(e=s.value)||e.focus(),a.searchInputActive=!0,r.showPlayList=!1,S()},w=z({hot:[],suggest:{}}),S=()=>{tt().then((e=>{w.hot=e.data}))},P=(e,t)=>{switch(t){case 0:i.value=e,r.setSearchHistory(i.value.trim()),n.push({path:"/search/songs",query:{keywords:e,page:1}});break;case 1:n.push(`/song?id=${e}`);break;case 10:n.push(`/album?id=${e}`);break;case 100:n.push(`/artist?id=${e}`);break;case 1e3:n.push(`/playlist?id=${e}`)}},x=()=>{$dialog.warning({class:"s-dialog",title:t("general.dialog.delete"),content:t("nav.search.tip"),positiveText:t("general.dialog.delete"),negativeText:t("general.dialog.cancel"),onPositiveClick:()=>{r.setSearchHistory(null,!0),$message.success(t("general.message.deleteSuccess"))}})};return m((()=>{S(),document.addEventListener("click",(()=>{var e;null==(e=s.value)||e.blur(),a.searchInputActive=!1}))})),l((()=>{document.removeEventListener("click",(()=>{var e;null==(e=s.value)||e.blur(),a.searchInputActive=!1}))})),f((()=>i.value),(e=>{e.trim()&&((e,t=300,n=!1)=>{if(null!==On&&clearTimeout(On),n){var r=!On;On=setTimeout((function(){On=null}),t),r&&"function"==typeof e&&e()}else On=setTimeout((function(){"function"==typeof e&&e()}),t)})((()=>{var t;e.trim(),t=e.trim(),w.suggest=[],nt(t).then((e=>{w.suggest=e.result}))}),500)})),f((()=>r.showPlayList),(e=>{var t;e&&(null==(t=s.value)||t.blur(),a.searchInputActive=!1)})),(e,t)=>{const l=ne,p=rt,h=ot,f=at,m=it,S=st,D=re;return c(),u("div",Ln,[v(p,{class:M(k(a).searchInputActive?"input focus":"input"),"input-props":{autoComplete:!1},placeholder:e.$t("nav.search.placeholder"),ref_key:"searchInpRef",ref:s,round:"",clearable:"",value:k(i),"onUpdate:value":t[0]||(t[0]=e=>$(i)?i.value=e:null),onFocus:b,onKeydown:t[1]||(t[1]=e=>{var t;"Enter"===e.key&&null!=i.value&&(i.value.trim(),null==(t=s.value)||t.blur(),a.searchInputActive=!1,r.setSearchHistory(i.value.trim()),n.push({path:"/search/songs",query:{keywords:i.value.trim()}}))}),onClick:t[2]||(t[2]=B((()=>{}),["stop"]))},{prefix:y((()=>[v(l,{size:"16",class:M(k(a).searchInputActive?"active":""),component:k(V)},null,8,["class","component"])])),_:1},8,["class","placeholder","value"]),v(_n,{easing:"ease-in-out"},{default:y((()=>[F(v(D,{class:"list","content-style":"padding: 0"},{default:y((()=>[v(S,null,{default:y((()=>[k(r).getSearchHistory[0]&&k(o).searchHistory?(c(),u("div",Tn,[d("div",En,[v(l,{size:"16",component:k(H)},null,8,["component"]),v(h,null,{default:y((()=>[U(N(e.$t("nav.search.history")),1)])),_:1})]),v(m,null,{default:y((()=>[(c(!0),u(q,null,Y(k(r).getSearchHistory,(e=>(c(),g(f,{key:e,bordered:!1,round:"",innerHTML:e,onClick:t=>P(e,0)},null,8,["innerHTML","onClick"])))),128))])),_:1}),d("div",{class:"del",onClick:x},[v(l,{size:"16",depth:3},{default:y((()=>[v(k(G),{theme:"filled"})])),_:1}),v(h,{depth:3},{default:y((()=>[U(N(e.$t("nav.search.delHistory")),1)])),_:1})])])):X("",!0),k(w).hot[0]?(c(),u("div",jn,[d("div",Rn,[v(l,{size:"16"},{default:y((()=>[v(k(W),{theme:"filled"})])),_:1}),v(h,null,{default:y((()=>[U(N(e.$t("nav.search.hotList")),1)])),_:1})]),(c(!0),u(q,null,Y(k(w).hot,((e,t)=>(c(),u("div",{class:"hot-item",key:e,onClick:t=>P(e.searchWord,0)},[d("div",{class:M(t<3?"num hot":"num")},N(t+1),3),d("div",In,[d("span",zn,[U(N(e.searchWord)+" ",1),e.iconUrl?(c(),g(f,{key:0,class:"tag",round:"",bordered:!1,size:"small"},{default:y((()=>[U(N(1==e.iconType?"HOT":"UP"),1)])),_:2},1024)):X("",!0)]),v(h,{class:"tip",depth:"3",innerHTML:e.content},null,8,["innerHTML"])])],8,An)))),128))])):X("",!0)])),_:1})])),_:1},512),[[K,k(a).searchInputActive&&!k(i)&&(k(r).getSearchHistory[0]||k(w).hot[0])]])])),_:1}),v(_n,{easing:"ease-in-out"},{default:y((()=>[F(v(D,{class:"list","content-style":"padding: 0"},{default:y((()=>[v(S,null,{default:y((()=>[0===Object.keys(k(w).suggest).length?(c(),u("div",Mn,[v(l,{size:"16",component:k(J)},null,8,["component"]),d("span",null,N(e.$t("nav.search.noSuggestions")),1)])):(c(),u("div",Vn,[F(d("div",$n,[v(l,{size:"16",component:k(J)},null,8,["component"]),d("span",null,N(e.$t("nav.search.searchTip")),1)],512),[[K,!k(w).suggest.order]]),k(w).suggest.songs?(c(),u("div",Bn,[d("div",Fn,[v(l,{size:"18"},{default:y((()=>[v(k(Q),{theme:"filled"})])),_:1}),d("span",Hn,N(e.$t("nav.search.songs")),1)]),(c(!0),u(q,null,Y(k(w).suggest.songs,(e=>(c(),u("span",{class:"names",key:e,onClick:t=>P(e.id,1)},N(e.name)+" - "+N(e.artists[0].name),9,Un)))),128))])):X("",!0),k(w).suggest.artists?(c(),u("div",Nn,[d("div",qn,[v(l,{size:"18"},{default:y((()=>[v(k(Z),{theme:"filled"})])),_:1}),d("span",Yn,N(e.$t("nav.search.artists")),1)]),(c(!0),u(q,null,Y(k(w).suggest.artists,(e=>(c(),u("span",{class:"names",key:e,onClick:t=>P(e.id,100),innerHTML:e.name},null,8,Gn)))),128))])):X("",!0),k(w).suggest.albums?(c(),u("div",Xn,[d("div",Wn,[v(l,{size:"18"},{default:y((()=>[v(k(ee),{theme:"filled"})])),_:1}),d("span",Kn,N(e.$t("nav.search.albums")),1)]),(c(!0),u(q,null,Y(k(w).suggest.albums,(e=>(c(),u("span",{class:"names",key:e,onClick:t=>P(e.id,10)},N(e.name)+" - "+N(e.artist.name),9,Jn)))),128))])):X("",!0),k(w).suggest.playlists?(c(),u("div",Qn,[d("div",Zn,[v(l,{size:"18"},{default:y((()=>[v(k(te),{theme:"filled"})])),_:1}),d("span",er,N(e.$t("nav.search.playlists")),1)]),(c(!0),u(q,null,Y(k(w).suggest.playlists,(e=>(c(),u("span",{class:"names",key:e,onClick:t=>P(e.id,1e3)},N(e.name),9,tr)))),128))])):X("",!0)]))])),_:1})])),_:1},512),[[K,k(a).searchInputActive&&k(i)&&k(w).suggest]])])),_:1})])}}},rr=T(nr,[["__scopeId","data-v-04d8f91e"]]),or={class:"left"},ar=["src"],ir={class:"controls"},sr={class:"center"},lr={class:"right"},cr={__name:"index",setup(e){const{t:t}=j(),n=R(),r=oe(),o=I(),a=p(),i=h(null),s=h(!1),l=e=>{"avatarImg"==e.target.className?s.value=!0:s.value=!1},g=e=>()=>ue(ne,{style:{transform:"translateX(2px)"}},{default:()=>e}),b=()=>ue("div",{style:"display: flex; align-items: center; padding: 8px 12px; cursor: pointer",onclick:()=>{r.userLogin?n.push("/user"):n.push("/login"),s.value=!1}},[ue(lt,{round:!0,style:"margin-right: 12px",src:r.userLogin?r.getUserData.avatarUrl.replace(/^http:/,"https:")+"?param=60y60":"/img/music/ico/user-filling.svg",fallbackSrc:"/img/music/ico/user-filling.svg"}),ue("div",null,[ue("div",null,[ue(ot,{depth:2},{default:()=>r.userLogin?r.getUserData.nickname:t("nav.avatar.notLogin")})]),ue("div",{style:"font-size: 12px;"},[ue(ot,{depth:3},{default:()=>r.userLogin?Object.keys(r.getUserOtherData).length?ue(ut,{height:4,type:"line",percentage:100*r.getUserOtherData.level.progress,color:a.themeData.primaryColor},{default:()=>"Lv."+r.getUserOtherData.level.level}):t("nav.avatar.loginError"):t("nav.avatar.notLoginSubtitle")})])])]),w=h([]),S=h([]),P=h([]),x=()=>{w.value=[{label:t("nav.discoverChildren.playlists"),key:"/discover/playlists"},{label:t("nav.discoverChildren.toplists"),key:"/discover/toplists"},{label:t("nav.discoverChildren.artists"),key:"/discover/artists"}]},D=e=>{S.value=e?[{label:t("nav.userChildren.playlist"),key:"/user/playlists"},{label:t("nav.userChildren.like"),key:"/user/like"},{label:t("nav.userChildren.album"),key:"/user/album"},{label:t("nav.userChildren.artist"),key:"/user/artists"},{label:t("nav.userChildren.cloud"),key:"/user/cloud"}]:[{label:t("nav.userChildren.login"),key:"/login"}]},C=()=>{P.value=[{key:"header",type:"render",render:b},{key:"header-divider",type:"divider"},{label:()=>ue(ot,{style:{transform:"translateX(2px)"}},{default:()=>"light"==a.getSiteTheme?t("nav.avatar.dark"):t("nav.avatar.light")}),key:"changeTheme",icon:()=>ue(ne,{style:{transform:"translateX(2px)"}},{default:()=>"light"==a.getSiteTheme?ue(de):ue(pe)})},{label:t("nav.avatar.history"),key:"history",icon:g(ue(H))},{label:t("nav.avatar.setting"),key:"setting",icon:g(ue(he))},{label:()=>ue(ot,{style:{transform:"translateX(2px)"}},{default:()=>r.userLogin?t("nav.avatar.logout"):t("nav.avatar.login")}),key:"user",icon:()=>ue(ne,{style:{transform:"translateX(2px)"}},{default:()=>r.userLogin?ue(fe):ue(me)})},{label:t("nav.avatar.about"),key:"about",icon:g(ue(ge))}]},_=h([]),O=()=>{_.value=[{label:t("nav.home"),key:"/music",icon:g(ue(ye))},{label:t("nav.discover"),key:"/discover",icon:g(ue(ve))},{label:t("nav.user"),key:"/user",icon:g(ue(be))}]},L=e=>{n.push(e)},T=e=>{switch(s.value=!1,e){case"changeTheme":"light"==a.getSiteTheme?a.setSiteTheme("dark"):a.setSiteTheme("light"),a.themeAuto=!1;break;case"history":n.push("/history");break;case"setting":n.push("/setting");break;case"user":r.userLogin?$dialog.warning({class:"s-dialog",title:t("nav.avatar.logout"),content:t("nav.avatar.tip"),positiveText:t("nav.avatar.logout"),negativeText:t("general.dialog.cancel"),onPositiveClick:()=>{r.userLogOut(),$message.success(t("nav.avatar.success")),i.value=setTimeout((()=>{document.location.reload()}),1e3)}}):n.push("/login")}};return f((()=>r.userLogin),(e=>{D(e)})),f((()=>a.language),(()=>{x(),O(),C(),D(r.userLogin)})),m((()=>{x(),O(),C(),D(r.userLogin)})),ae((()=>{clearTimeout(i.value)})),(e,t)=>{const a=ie("router-link"),i=ct,p=ke;return c(),u("nav",null,[d("div",or,[d("div",{class:"logo",onClick:t[0]||(t[0]=e=>k(n).push("/"))},[d("img",{src:k("/img/music/logo/favicon.png"),alt:"logo"},null,8,ar)]),v(E,{name:"fade",mode:"out-in"},{default:y((()=>[F(d("div",ir,[v(k(ne),{size:"22",component:k(se),onClick:t[1]||(t[1]=e=>k(n).go(-1))},null,8,["component"]),v(k(ne),{size:"22",component:k(le),onClick:t[2]||(t[2]=e=>k(n).go(1))},null,8,["component"])],512),[[K,!k(o).searchInputActive]])])),_:1})]),d("div",sr,[v(a,{class:"link",to:"/music"},{default:y((()=>[U(N(e.$t("nav.home")),1)])),_:1}),v(i,{trigger:"hover",options:k(w),onSelect:L},{default:y((()=>[v(a,{class:"link",to:"/discover"},{default:y((()=>[U(N(e.$t("nav.discover")),1)])),_:1})])),_:1},8,["options"]),v(i,{trigger:"hover",options:k(S),onSelect:L},{default:y((()=>[v(a,{class:"link",to:"/user"},{default:y((()=>[U(N(e.$t("nav.user")),1)])),_:1})])),_:1},8,["options"])]),d("div",lr,[v(rr),v(i,{trigger:"click",options:k(_),onSelect:L},{default:y((()=>[v(p,{class:"mb-menu",circle:""},{icon:y((()=>[v(k(ne),{component:k(ce)},null,8,["component"])])),_:1})])),_:1},8,["options"]),v(i,{placement:"bottom-end",show:k(s),"show-arrow":!0,options:k(P),"on-clickoutside":l,onSelect:T},{default:y((()=>[v(k(lt),{class:"avatar",round:"",size:"small",src:k(r).getUserData.avatarUrl?k(r).getUserData.avatarUrl.replace(/^http:/,"https:")+"?param=60y60":"/img/music/ico/user-filling.svg","img-props":{class:"avatarImg"},"fallback-src":"/img/music/ico/user-filling.svg",onClick:t[3]||(t[3]=e=>s.value=!k(s))},null,8,["src"])])),_:1},8,["show","options"])])])}}},ur=T(cr,[["__scopeId","data-v-62870e31"]]);function dr(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,o=n||{},a=o.noTrailing,i=void 0!==a&&a,s=o.noLeading,l=void 0!==s&&s,c=o.debounceMode,u=void 0===c?void 0:c,d=!1,p=0;function h(){r&&clearTimeout(r)}function f(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=this,c=Date.now()-p;function f(){p=Date.now(),t.apply(s,o)}function m(){r=void 0}d||(l||!u||r||f(),h(),void 0===u&&c>e?l?(p=Date.now(),i||(r=setTimeout(u?m:f,e))):f():!0!==i&&(r=setTimeout(u?m:f,void 0===u?e-c:e)))}return f.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;h(),d=!n},f}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}var pr,hr={exports:{}};"undefined"!=typeof self&&self;const fr=Pe(hr.exports=(pr=we,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"091b":function(e,t,n){(t=n("24fb")(!1)).push([e.i,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),e.exports=t},"24fb":function(e,t,n){function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=o(r),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([a]).join("\n")}return[n].join("\n")}function o(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},2638:function(e,t,n){function r(){return r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)}var o=["attrs","props","domProps"],a=["class","style","directives"],i=["on","nativeOn"],s=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==o.indexOf(n))e[n]=r({},e[n],t[n]);else if(-1!==a.indexOf(n)){var s=e[n]instanceof Array?e[n]:[e[n]],c=t[n]instanceof Array?t[n]:[t[n]];e[n]=s.concat(c)}else if(-1!==i.indexOf(n))for(var u in t[n])if(e[n][u]){var d=e[n][u]instanceof Array?e[n][u]:[e[n][u]],p=t[n][u]instanceof Array?t[n][u]:[t[n][u]];e[n][u]=d.concat(p)}else e[n][u]=t[n][u];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?l(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})},l=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=s},"499e":function(e,t,n){function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],i=a[0],s={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return f}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},i=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,o){c=n,d=o||{};var i=r(e,t);return m(i),function(t){for(var n=[],o=0;o<i.length;o++){var s=i[o],l=a[s.id];l.refs--,n.push(l)}for(t?m(i=r(e,t)):i=[],o=0;o<n.length;o++)if(0===(l=n[o]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=a[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(y(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(y(n.parts[o]));a[n.id]={id:n.id,refs:1,parts:i}}}}function g(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function y(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(h){var o=l++;r=s||(s=g()),t=k.bind(null,r,o,!1),n=k.bind(null,r,o,!0)}else r=g(),t=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var v,b=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function k(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function w(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(p,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"4abb":function(e,t,n){var r=n("7a57");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),(0,n("499e").default)("b2af7572",r,!0,{sourceMap:!1,shadowMode:!1})},"4ed8":function(e,t,n){var r=n("091b");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),(0,n("499e").default)("2f6bee1a",r,!0,{sourceMap:!1,shadowMode:!1})},"556c":function(e,t,n){var r=n("eef2");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),(0,n("499e").default)("1209fd47",r,!0,{sourceMap:!1,shadowMode:!1})},"65d9":function(e,t,n){
/**
      * vue-class-component v7.0.1
      * (c) 2015-present Evan You
      * @license MIT
      */
function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("8bbf")),a="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function i(e,t){s(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){s(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){s(e,t,n)}))}function s(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,o,e,n):Reflect.defineMetadata(r,o,e)}))}var l={__proto__:[]}instanceof Array;function c(e){return function(t,n,r){var o="function"==typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(t){return e(t,n,r)}))}}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.extend({mixins:e})}function d(e){var t=typeof e;return null==e||"object"!==t&&"function"!==t}function p(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var o={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),o}var h=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function f(e,t){void 0===t&&(t={}),t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(h.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){var t;return(t={})[e]=r.value,t}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return p(this,e)}});var r=e.__decorators__;r&&(r.forEach((function(e){return e(t)})),delete e.__decorators__);var s=Object.getPrototypeOf(e.prototype),l=s instanceof o?s.constructor:o,c=l.extend(t);return m(c,e,l),a&&i(c,e),c}function m(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if("prototype"!==r){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var a=Object.getOwnPropertyDescriptor(t,r);if(!l){if("cid"===r)return;var i=Object.getOwnPropertyDescriptor(n,r);if(!d(a.value)&&i&&i.value===a.value)return}Object.defineProperty(e,r,a)}}}))}function g(e){return"function"==typeof e?f(e):function(t){return f(t,e)}}g.registerHooks=function(e){h.push.apply(h,e)},t.default=g,t.createDecorator=c,t.mixins=u},"7a57":function(e,t,n){(t=n("24fb")(!1)).push([e.i,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),e.exports=t},8875:function(e,t,n){var r,o,a;"undefined"!=typeof self&&self,o=[],void 0===(a="function"==typeof(r=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,o,a=/@([^@]*):(\d+):(\d+)\s*$/gi,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(p.stack)||a.exec(p.stack),s=i&&i[1]||!1,l=i&&i[2]||!1,c=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");s===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<u.length;d++){if("interactive"===u[d].readyState)return u[d];if(u[d].src===s)return u[d];if(s===c&&u[d].innerHTML&&u[d].innerHTML.trim()===o)return u[d]}return null}}return e})?r.apply(t,o):r)||(e.exports=a)},"8bbf":function(e,t){e.exports=pr},eef2:function(e,t,n){(t=n("24fb")(!1)).push([e.i,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),e.exports=t},fb15:function(e,t,n){if(n.r(t),n.d(t,"ERROR_TYPE",(function(){return Q})),n.d(t,"VueSliderMark",(function(){return U})),n.d(t,"VueSliderDot",(function(){return L})),"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}var i=n("2638"),s=n.n(i);function l(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}var c=n("8bbf"),u=n.n(c),d=n("65d9"),p=n.n(d);function h(e,t){return void 0===t&&(t={}),Object(d.createDecorator)((function(n,r){(n.props||(n.props={}))[r]=t,n.model={prop:r,event:e||r}}))}function f(e){return void 0===e&&(e={}),Object(d.createDecorator)((function(t,n){(t.props||(t.props={}))[n]=e}))}function m(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,o=t.immediate,a=void 0!==o&&o;return Object(d.createDecorator)((function(t,n){"object"!=typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!=typeof o[e]||Array.isArray(o[e])?void 0===o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:n,deep:r,immediate:a})}))}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=D();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("4ed8");var _,O=(_=function(e){k(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"dragStart",value:function(e){if(this.disabled)return!1;this.$emit("drag-start")}},{key:"render",value:function(){var e=arguments[0];return e("div",{ref:"dot",class:this.dotClasses,attrs:{"aria-valuetext":"number"==typeof this.tooltipValue?this.tooltipValue.toString():this.tooltipValue},on:{mousedown:this.dragStart,touchstart:this.dragStart}},[this.$slots.dot||e("div",{class:this.handleClasses,style:this.dotStyle}),"none"!==this.tooltip?e("div",{class:this.tooltipClasses},[this.$slots.tooltip||e("div",{class:this.tooltipInnerClasses,style:this.tooltipStyle},[e("span",{class:"vue-slider-dot-tooltip-text"},[this.tooltipValue])])]):null])}},{key:"dotClasses",get:function(){return["vue-slider-dot",{"vue-slider-dot-hover":"hover"===this.tooltip||"active"===this.tooltip,"vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]}},{key:"handleClasses",get:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]}},{key:"tooltipClasses",get:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]}},{key:"tooltipInnerClasses",get:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]}},{key:"showTooltip",get:function(){switch(this.tooltip){case"always":return!0;case"none":default:return!1;case"focus":case"active":return!!this.focus}}},{key:"tooltipValue",get:function(){return this.tooltipFormatter?"string"==typeof this.tooltipFormatter?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}}]),n}(u.a),l([f({default:0})],_.prototype,"value",void 0),l([f()],_.prototype,"tooltip",void 0),l([f()],_.prototype,"dotStyle",void 0),l([f()],_.prototype,"tooltipStyle",void 0),l([f({type:String,validator:function(e){return["top","right","bottom","left"].indexOf(e)>-1},required:!0})],_.prototype,"tooltipPlacement",void 0),l([f({type:[String,Function]})],_.prototype,"tooltipFormatter",void 0),l([f({type:Boolean,default:!1})],_.prototype,"focus",void 0),l([f({default:!1})],_.prototype,"disabled",void 0),_=l([p()({name:"VueSliderDot"})],_)),L=O;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=$();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("556c");var F,H=function(){var e=function(e){A(n,e);var t=z(n);function n(){return E(this,n),t.apply(this,arguments)}return R(n,[{key:"labelClickHandle",value:function(e){e.stopPropagation(),this.$emit("pressLabel",this.mark.pos)}},{key:"render",value:function(){var e=arguments[0],t=this.mark;return e("div",{class:this.marksClasses},[this.$slots.step||e("div",{class:this.stepClasses,style:[this.stepStyle||{},t.style||{},t.active&&this.stepActiveStyle||{},t.active&&t.activeStyle||{}]}),this.hideLabel?null:this.$slots.label||e("div",{class:this.labelClasses,style:[this.labelStyle||{},t.labelStyle||{},t.active&&this.labelActiveStyle||{},t.active&&t.labelActiveStyle||{}],on:{click:this.labelClickHandle}},[t.label])])}},{key:"marksClasses",get:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]}},{key:"stepClasses",get:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]}},{key:"labelClasses",get:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}}]),n}(u.a);return l([f({required:!0})],e.prototype,"mark",void 0),l([f(Boolean)],e.prototype,"hideLabel",void 0),l([f()],e.prototype,"stepStyle",void 0),l([f()],e.prototype,"stepActiveStyle",void 0),l([f()],e.prototype,"labelStyle",void 0),l([f()],e.prototype,"labelActiveStyle",void 0),e=l([p()({name:"VueSlideMark"})],e)}(),U=H,N=function(e){return"number"==typeof e?"".concat(e,"px"):e},q=function(e){var t=document.documentElement,n=document.body,r=e.getBoundingClientRect();return{y:r.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||n.clientTop||0),x:r.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||n.clientLeft||0)}},Y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o="targetTouches"in e?e.targetTouches[0]:e,a=q(t),i={x:o.pageX-a.x,y:o.pageY-a.y};return{x:n?t.offsetWidth*r-i.x:i.x,y:n?t.offsetHeight*r-i.y:i.y}};!function(e){e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"}(F||(F={}));var G=function(e,t){if(t.hook){var n=t.hook(e);if("function"==typeof n)return n;if(!n)return null}switch(e.keyCode){case F.UP:return function(e){return"ttb"===t.direction?e-1:e+1};case F.RIGHT:return function(e){return"rtl"===t.direction?e-1:e+1};case F.DOWN:return function(e){return"ttb"===t.direction?e+1:e-1};case F.LEFT:return function(e){return"rtl"===t.direction?e+1:e-1};case F.END:return function(){return t.max};case F.HOME:return function(){return t.min};case F.PAGE_UP:return function(e){return e+10};case F.PAGE_DOWN:return function(e){return e-10};default:return null}};function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}var J,Q,Z=function(){function e(t){X(this,e),this.num=t}return K(e,[{key:"decimal",value:function(e,t){var n=this.num,r=this.getDecimalLen(n),o=this.getDecimalLen(e),a=0;switch(t){case"+":a=this.getExponent(r,o),this.num=(this.safeRoundUp(n,a)+this.safeRoundUp(e,a))/a;break;case"-":a=this.getExponent(r,o),this.num=(this.safeRoundUp(n,a)-this.safeRoundUp(e,a))/a;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(n,this.getExponent(r)),this.safeRoundUp(e,this.getExponent(o)))/this.getExponent(r+o);break;case"/":a=this.getExponent(r,o),this.num=this.safeRoundUp(n,a)/this.safeRoundUp(e,a);break;case"%":a=this.getExponent(r,o),this.num=this.safeRoundUp(n,a)%this.safeRoundUp(e,a)/a}return this}},{key:"plus",value:function(e){return this.decimal(e,"+")}},{key:"minus",value:function(e){return this.decimal(e,"-")}},{key:"multiply",value:function(e){return this.decimal(e,"*")}},{key:"divide",value:function(e){return this.decimal(e,"/")}},{key:"remainder",value:function(e){return this.decimal(e,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(e){var t="".concat(e).split("e");return("".concat(t[0]).split(".")[1]||"").length-(t[1]?+t[1]:0)}},{key:"getExponent",value:function(e,t){return Math.pow(10,void 0!==t?Math.max(e,t):e)}},{key:"safeRoundUp",value:function(e,t){return Math.round(e*t)}}]),e}();function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){return ae(e)||oe(e,t)||le(e,t)||re()}function re(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}function ae(e){if(Array.isArray(e))return e}function ie(e){return ue(e)||ce(e)||le(e)||se()}function se(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function le(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function ce(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ue(e){if(Array.isArray(e))return de(e)}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.VALUE=1]="VALUE",e[e.INTERVAL=2]="INTERVAL",e[e.MIN=3]="MIN",e[e.MAX=4]="MAX",e[e.ORDER=5]="ORDER"}(Q||(Q={}));var ge=(me(J={},Q.VALUE,'The type of the "value" is illegal'),me(J,Q.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),me(J,Q.MIN,'The "value" must be greater than or equal to the "min".'),me(J,Q.MAX,'The "value" must be less than or equal to the "max".'),me(J,Q.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),J),ye=function(){function e(t){pe(this,e),this.dotsPos=[],this.dotsValue=[],this.cacheRangeDir={},this.data=t.data,this.max=t.max,this.min=t.min,this.interval=t.interval,this.order=t.order,this.marks=t.marks,this.included=t.included,this.process=t.process,this.adsorb=t.adsorb,this.dotOptions=t.dotOptions,this.onError=t.onError,this.order?(this.minRange=t.minRange||0,this.maxRange=t.maxRange||0,this.enableCross=t.enableCross,this.fixed=t.fixed):((t.minRange||t.maxRange||!t.enableCross||t.fixed)&&this.emitError(Q.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(t.value)}return fe(e,[{key:"setValue",value:function(e){var t=this;this.setDotsValue(Array.isArray(e)?this.order?ie(e).sort((function(e,n){return t.getIndexByValue(e)-t.getIndexByValue(n)})):ie(e):[e],!0)}},{key:"setDotsValue",value:function(e,t){this.dotsValue=e,t&&this.syncDotsPos()}},{key:"setDotsPos",value:function(e){var t=this,n=this.order?ie(e).sort((function(e,t){return e-t})):e;this.dotsPos=n,this.setDotsValue(n.map((function(e){return t.getValueByPos(e)})),this.adsorb)}},{key:"getValueByPos",value:function(e){var t=this.parsePos(e);if(this.included){var n=100;this.markList.forEach((function(r){var o=Math.abs(r.pos-e);o<n&&(n=o,t=r.value)}))}return t}},{key:"syncDotsPos",value:function(){var e=this;this.dotsPos=this.dotsValue.map((function(t){return e.parseValue(t)}))}},{key:"getRecentDot",value:function(e){var t=this,n=this.dotsPos.filter((function(e,n){return!(t.getDotOption(n)&&t.getDotOption(n).disabled)})).map((function(t){return Math.abs(t-e)}));return n.indexOf(Math.min.apply(Math,ie(n)))}},{key:"getIndexByValue",value:function(e){return this.data?this.data.indexOf(e):new Z(+e).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(e){return e<0?e=0:e>this.total&&(e=this.total),this.data?this.data[e]:new Z(e).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(e,t){var n=(e=this.getValidPos(e,t).pos)-this.dotsPos[t];if(n){var r=new Array(this.dotsPos.length);this.fixed?r=this.getFixedChangePosArr(n,t):this.minRange||this.maxRange?r=this.getLimitRangeChangePosArr(e,n,t):r[t]=n,this.setDotsPos(this.dotsPos.map((function(e,t){return e+(r[t]||0)})))}}},{key:"getFixedChangePosArr",value:function(e,t){var n=this;return this.dotsPos.forEach((function(r,o){if(o!==t){var a=n.getValidPos(r+e,o),i=a.pos;a.inRange||(e=Math.min(Math.abs(i-r),Math.abs(e))*(e<0?-1:1))}})),this.dotsPos.map((function(t){return e}))}},{key:"getLimitRangeChangePosArr",value:function(e,t,n){var r=this,o=[{index:n,changePos:t}],a=t;return[this.minRange,this.maxRange].forEach((function(i,s){if(!i)return!1;for(var l=0===s,c=t>0,u=0,d=function(e,t){var n=Math.abs(e-t);return l?n<r.minRangeDir:n>r.maxRangeDir},p=n+(u=l?c?1:-1:c?-1:1),h=r.dotsPos[p],f=e;r.isPos(h)&&d(h,f);){var m=r.getValidPos(h+a,p).pos;o.push({index:p,changePos:m-h}),p+=u,f=m,h=r.dotsPos[p]}})),this.dotsPos.map((function(e,t){var n=o.filter((function(e){return e.index===t}));return n.length?n[0].changePos:0}))}},{key:"isPos",value:function(e){return"number"==typeof e}},{key:"getValidPos",value:function(e,t){var n=this.valuePosRange[t],r=!0;return e<n[0]?(e=n[0],r=!1):e>n[1]&&(e=n[1],r=!1),{pos:e,inRange:r}}},{key:"parseValue",value:function(e){if(this.data)e=this.data.indexOf(e);else if("number"==typeof e||"string"==typeof e){if((e=+e)<this.min)return this.emitError(Q.MIN),0;if(e>this.max)return this.emitError(Q.MAX),0;if("number"!=typeof e||e!=e)return this.emitError(Q.VALUE),0;e=new Z(e).minus(this.min).divide(this.interval).toNumber()}var t=new Z(e).multiply(this.gap).toNumber();return t<0?0:t>100?100:t}},{key:"parsePos",value:function(e){var t=Math.round(e/this.gap);return this.getValueByIndex(t)}},{key:"isActiveByPos",value:function(e){return this.processArray.some((function(t){var n=ne(t,2),r=n[0],o=n[1];return e>=r&&e<=o}))}},{key:"getValues",value:function(){if(this.data)return this.data;for(var e=[],t=0;t<=this.total;t++)e.push(new Z(t).multiply(this.interval).plus(this.min).toNumber());return e}},{key:"getRangeDir",value:function(e){return e?new Z(e).divide(new Z(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(e){this.onError&&this.onError(e,ge[e])}},{key:"getDotOption",value:function(e){return Array.isArray(this.dotOptions)?this.dotOptions[e]:this.dotOptions}},{key:"getDotRange",value:function(e,t,n){if(!this.dotOptions)return n;var r=this.getDotOption(e);return r&&void 0!==r[t]?this.parseValue(r[t]):n}},{key:"markList",get:function(){var e=this;if(!this.marks)return[];var t=function(t,n){var r=e.parseValue(t);return te({pos:r,value:t,label:t,active:e.isActiveByPos(r)},n)};return!0===this.marks?this.getValues().map((function(e){return t(e)})):"[object Object]"===Object.prototype.toString.call(this.marks)?Object.keys(this.marks).sort((function(e,t){return+e-+t})).map((function(n){var r=e.marks[n];return t(n,"string"!=typeof r?r:{label:r})})):Array.isArray(this.marks)?this.marks.map((function(e){return t(e)})):"function"==typeof this.marks?this.getValues().map((function(t){return{value:t,result:e.marks(t)}})).filter((function(e){return!!e.result})).map((function(e){var n=e.value,r=e.result;return t(n,r)})):[]}},{key:"processArray",get:function(){if(this.process){if("function"==typeof this.process)return this.process(this.dotsPos);if(1===this.dotsPos.length)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,ie(this.dotsPos)),Math.max.apply(Math,ie(this.dotsPos))]]}return[]}},{key:"total",get:function(){var e=0;return(e=this.data?this.data.length-1:new Z(this.max).minus(this.min).divide(this.interval).toNumber())-Math.floor(e)!=0?(this.emitError(Q.INTERVAL),0):e}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"valuePosRange",get:function(){var e=this,t=this.dotsPos,n=[];return t.forEach((function(r,o){n.push([Math.max(e.minRange?e.minRangeDir*o:0,e.enableCross?0:t[o-1]||0,e.getDotRange(o,"min",0)),Math.min(e.minRange?100-e.minRangeDir*(t.length-1-o):100,e.enableCross?100:t[o+1]||100,e.getDotRange(o,"max",100))])})),n}},{key:"dotsIndex",get:function(){var e=this;return this.dotsValue.map((function(t){return e.getIndexByValue(t)}))}}]),e}();function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}var we=function(){function e(t){ve(this,e),this.states=0,this.map=t}return ke(e,[{key:"add",value:function(e){this.states|=e}},{key:"delete",value:function(e){this.states&=~e}},{key:"toggle",value:function(e){this.has(e)?this.delete(e):this.add(e)}},{key:"has",value:function(e){return!!(this.states&e)}}]),e}();function Se(e,t){return De(e)||xe(e,t)||Ee(e,t)||Pe()}function Pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}function De(e){if(Array.isArray(e))return e}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){return Re(e)||je(e)||Ee(e)||Te()}function Te(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ee(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function je(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Re(e){if(Array.isArray(e))return Ae(e)}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=Ne();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Ue(e):t}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("4abb");var Ye={None:0,Drag:2,Focus:4},Ge=4,Xe=function(){var e=function(e){$e(n,e);var t=Fe(n);function n(){var e;return ze(this,n),(e=t.apply(this,arguments)).states=new we(Ye),e.scale=1,e.focusDotIndex=0,e}return Ve(n,[{key:"isObjectData",value:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)}},{key:"isObjectArrayData",value:function(e){return!!e&&Array.isArray(e)&&e.length>0&&"object"===Ie(e[0])}},{key:"onValueChanged",value:function(){this.control&&!this.states.has(Ye.Drag)&&this.isNotSync&&(this.control.setValue(this.value),this.syncValueByPos())}},{key:"created",value:function(){this.initControl()}},{key:"mounted",value:function(){this.bindEvent()}},{key:"beforeDestroy",value:function(){this.unbindEvent()}},{key:"bindEvent",value:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove,{passive:!1}),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)}},{key:"unbindEvent",value:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)}},{key:"setScale",value:function(){var e=new Z(Math.floor(this.isHorizontal?this.$refs.rail.offsetWidth:this.$refs.rail.offsetHeight));void 0!==this.zoom&&e.multiply(this.zoom),e.divide(100),this.scale=e.toNumber()}},{key:"initControl",value:function(){var e=this;this.control=new ye({value:this.value,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),this.syncValueByPos(),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach((function(t){e.$watch(t,(function(n){if("data"===t&&Array.isArray(e.control.data)&&Array.isArray(n)&&e.control.data.length===n.length&&n.every((function(t,n){return t===e.control.data[n]})))return!1;switch(t){case"data":case"dataLabel":case"dataValue":e.control.data=e.sliderData;break;case"mark":e.control.marks=e.sliderMarks;break;default:e.control[t]=n}["data","max","min","interval"].indexOf(t)>-1&&e.control.syncDotsPos()}))}))}},{key:"syncValueByPos",value:function(){var e=this.control.dotsValue;this.isDiff(e,Array.isArray(this.value)?this.value:[this.value])&&this.$emit("change",1===e.length?e[0]:Le(e),this.focusDotIndex)}},{key:"isDiff",value:function(e,t){return e.length!==t.length||e.some((function(e,n){return e!==t[n]}))}},{key:"emitError",value:function(e,t){this.silent||console.error("[VueSlider error]: ".concat(t)),this.$emit("error",e,t)}},{key:"dragStartOnProcess",value:function(e){if(this.dragOnClick){this.setScale();var t=this.getPosByEvent(e),n=this.control.getRecentDot(t);if(this.dots[n].disabled)return;this.dragStart(n),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos()}}},{key:"dragStart",value:function(e){this.focusDotIndex=e,this.setScale(),this.states.add(Ye.Drag),this.states.add(Ye.Focus),this.$emit("drag-start",this.focusDotIndex)}},{key:"dragMove",value:function(e){if(!this.states.has(Ye.Drag))return!1;e.preventDefault();var t=this.getPosByEvent(e);this.isCrossDot(t),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos();var n=this.control.dotsValue;this.$emit("dragging",1===n.length?n[0]:Le(n),this.focusDotIndex)}},{key:"isCrossDot",value:function(e){if(this.canSort){var t=this.focusDotIndex,n=e;if(n>this.dragRange[1]?(n=this.dragRange[1],this.focusDotIndex++):n<this.dragRange[0]&&(n=this.dragRange[0],this.focusDotIndex--),t!==this.focusDotIndex){var r=this.$refs["dot-".concat(this.focusDotIndex)];r&&r.$el&&r.$el.focus(),this.control.setDotPos(n,t)}}}},{key:"dragEnd",value:function(e){var t=this;if(!this.states.has(Ye.Drag))return!1;setTimeout((function(){t.lazy&&t.syncValueByPos(),t.included&&t.isNotSync?t.control.setValue(t.value):t.control.syncDotsPos(),t.states.delete(Ye.Drag),t.useKeyboard&&!("targetTouches"in e)||t.states.delete(Ye.Focus),t.$emit("drag-end",t.focusDotIndex)}))}},{key:"blurHandle",value:function(e){if(!this.states.has(Ye.Focus)||!this.$refs.container||this.$refs.container.contains(e.target))return!1;this.states.delete(Ye.Focus)}},{key:"clickHandle",value:function(e){if(!this.clickable||this.disabled)return!1;if(!this.states.has(Ye.Drag)){this.setScale();var t=this.getPosByEvent(e);this.setValueByPos(t)}}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.states.add(Ye.Focus),this.focusDotIndex=e}},{key:"blur",value:function(){this.states.delete(Ye.Focus)}},{key:"getValue",value:function(){var e=this.control.dotsValue;return 1===e.length?e[0]:e}},{key:"getIndex",value:function(){var e=this.control.dotsIndex;return 1===e.length?e[0]:e}},{key:"setValue",value:function(e){this.control.setValue(Array.isArray(e)?Le(e):[e]),this.syncValueByPos()}},{key:"setIndex",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return t.control.getValueByIndex(e)})):this.control.getValueByIndex(e);this.setValue(n)}},{key:"setValueByPos",value:function(e){var t=this,n=this.control.getRecentDot(e);if(this.disabled||this.dots[n].disabled)return!1;this.focusDotIndex=n,this.control.setDotPos(e,n),this.syncValueByPos(),this.useKeyboard&&this.states.add(Ye.Focus),setTimeout((function(){t.included&&t.isNotSync?t.control.setValue(t.value):t.control.syncDotsPos()}))}},{key:"keydownHandle",value:function(e){var t=this;if(!this.useKeyboard||!this.states.has(Ye.Focus))return!1;var n=this.included&&this.marks,r=G(e,{direction:this.direction,max:n?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(r){e.preventDefault();var o=-1,a=0;n?(this.control.markList.some((function(e,n){return e.value===t.control.dotsValue[t.focusDotIndex]&&(o=r(n),!0)})),o<0?o=0:o>this.control.markList.length-1&&(o=this.control.markList.length-1),a=this.control.markList[o].pos):(o=r(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),a=this.control.parseValue(this.control.getValueByIndex(o))),this.isCrossDot(a),this.control.setDotPos(a,this.focusDotIndex),this.syncValueByPos()}}},{key:"getPosByEvent",value:function(e){return Y(e,this.$refs.rail,this.isReverse,this.zoom)[this.isHorizontal?"x":"y"]/this.scale}},{key:"renderSlot",value:function(e,t,n,r){var o=this.$createElement,a=this.$scopedSlots[e];return a?r?a(t):o("template",{slot:e},[a(t)]):n}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",s()([{ref:"container",class:this.containerClasses,style:this.containerStyles,on:{click:this.clickHandle,touchstart:this.dragStartOnProcess,mousedown:this.dragStartOnProcess}},this.$attrs]),[t("div",{ref:"rail",class:"vue-slider-rail",style:this.railStyle},[this.processArray.map((function(n,r){return e.renderSlot("process",n,t("div",{class:"vue-slider-process",key:"process-".concat(r),style:n.style}),!0)})),this.sliderMarks?t("div",{class:"vue-slider-marks"},[this.control.markList.map((function(n,r){var o;return e.renderSlot("mark",n,t("vue-slider-mark",{key:"mark-".concat(r),attrs:{mark:n,hideLabel:e.hideLabel,stepStyle:e.stepStyle,stepActiveStyle:e.stepActiveStyle,labelStyle:e.labelStyle,labelActiveStyle:e.labelActiveStyle},style:(o={},Oe(o,e.isHorizontal?"height":"width","100%"),Oe(o,e.isHorizontal?"width":"height",e.tailSize),Oe(o,e.mainDirection,"".concat(n.pos,"%")),o),on:{pressLabel:function(t){return e.clickable&&e.setValueByPos(t)}}},[e.renderSlot("step",n,null),e.renderSlot("label",n,null)]),!0)}))]):null,this.dots.map((function(n,r){var o;return t("vue-slider-dot",{ref:"dot-".concat(r),key:"dot-".concat(r),attrs:_e({value:n.value,disabled:n.disabled,focus:n.focus,"dot-style":[n.style,n.disabled?n.disabledStyle:null,n.focus?n.focusStyle:null],tooltip:n.tooltip||e.tooltip,"tooltip-style":[e.tooltipStyle,n.tooltipStyle,n.disabled?n.tooltipDisabledStyle:null,n.focus?n.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(e.sliderTooltipFormatter)?e.sliderTooltipFormatter[r]:e.sliderTooltipFormatter,"tooltip-placement":e.tooltipDirections[r],role:"slider","aria-valuenow":n.value,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.isHorizontal?"horizontal":"vertical",tabindex:"0"},e.dotAttrs),style:[e.dotBaseStyle,(o={},Oe(o,e.mainDirection,"".concat(n.pos,"%")),Oe(o,"transition","".concat(e.mainDirection," ").concat(e.animateTime,"s")),o)],on:{"drag-start":function(){return e.dragStart(r)}},nativeOn:{focus:function(){return!n.disabled&&e.focus(r)},blur:function(){return e.blur()}}},[e.renderSlot("dot",n,null),e.renderSlot("tooltip",n,null)])})),this.renderSlot("default",{value:this.getValue()},null,!0)])])}},{key:"tailSize",get:function(){return N((this.isHorizontal?this.height:this.width)||Ge)}},{key:"containerClasses",get:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]}},{key:"containerStyles",get:function(){var e=Se(Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],2),t=e[0],n=e[1],r=this.width?N(this.width):this.isHorizontal?"auto":N(Ge),o=this.height?N(this.height):this.isHorizontal?N(Ge):"auto";return{padding:this.contained?"".concat(n/2,"px ").concat(t/2,"px"):this.isHorizontal?"".concat(n/2,"px 0"):"0 ".concat(t/2,"px"),width:r,height:o}}},{key:"processArray",get:function(){var e=this;return this.control.processArray.map((function(t,n){var r,o=Se(t,3),a=o[0],i=o[1],s=o[2];if(a>i){var l=[i,a];a=l[0],i=l[1]}var c=e.isHorizontal?"width":"height";return{start:a,end:i,index:n,style:_e(_e((r={},Oe(r,e.isHorizontal?"height":"width","100%"),Oe(r,e.isHorizontal?"top":"left",0),Oe(r,e.mainDirection,"".concat(a,"%")),Oe(r,c,"".concat(i-a,"%")),Oe(r,"transitionProperty","".concat(c,",").concat(e.mainDirection)),Oe(r,"transitionDuration","".concat(e.animateTime,"s")),r),e.processStyle),s)}}))}},{key:"dotBaseStyle",get:function(){var e,t=Se(Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],2),n=t[0],r=t[1];return e=this.isHorizontal?Oe({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),"-WebkitTransform":"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},"ltr"===this.direction?"left":"right","0"):Oe({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),"-WebkitTransform":"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},"btt"===this.direction?"bottom":"top","0"),_e({width:"".concat(n,"px"),height:"".concat(r,"px")},e)}},{key:"mainDirection",get:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top"}}},{key:"isHorizontal",get:function(){return"ltr"===this.direction||"rtl"===this.direction}},{key:"isReverse",get:function(){return"rtl"===this.direction||"btt"===this.direction}},{key:"tooltipDirections",get:function(){var e=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(e)?e:this.dots.map((function(){return e}))}},{key:"dots",get:function(){var e=this;return this.control.dotsPos.map((function(t,n){return _e({pos:t,index:n,value:e.control.dotsValue[n],focus:e.states.has(Ye.Focus)&&e.focusDotIndex===n,disabled:e.disabled,style:e.dotStyle},(Array.isArray(e.dotOptions)?e.dotOptions[n]:e.dotOptions)||{})}))}},{key:"animateTime",get:function(){return this.states.has(Ye.Drag)?0:this.duration}},{key:"canSort",get:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross}},{key:"sliderData",get:function(){var e=this;return this.isObjectArrayData(this.data)?this.data.map((function(t){return t[e.dataValue]})):this.isObjectData(this.data)?Object.keys(this.data):this.data}},{key:"sliderMarks",get:function(){var e=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(t){var n={label:t};return e.data.some((function(r){return r[e.dataValue]===t&&(n.label=r[e.dataLabel],!0)})),n}:this.isObjectData(this.data)?this.data:void 0}},{key:"sliderTooltipFormatter",get:function(){var e=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(t){var n=""+t;return e.data.some((function(r){return r[e.dataValue]===t&&(n=r[e.dataLabel],!0)})),n};if(this.isObjectData(this.data)){var t=this.data;return function(e){return t[e]}}}},{key:"isNotSync",get:function(){var e=this.control.dotsValue;return Array.isArray(this.value)?this.value.length!==e.length||this.value.some((function(t,n){return t!==e[n]})):this.value!==e[0]}},{key:"dragRange",get:function(){var e=this.dots[this.focusDotIndex-1],t=this.dots[this.focusDotIndex+1];return[e?e.pos:-1/0,t?t.pos:1/0]}}]),n}(u.a);return l([h("change",{default:0})],e.prototype,"value",void 0),l([f({type:Boolean,default:!1})],e.prototype,"silent",void 0),l([f({default:"ltr",validator:function(e){return["ltr","rtl","ttb","btt"].indexOf(e)>-1}})],e.prototype,"direction",void 0),l([f({type:[Number,String]})],e.prototype,"width",void 0),l([f({type:[Number,String]})],e.prototype,"height",void 0),l([f({default:14})],e.prototype,"dotSize",void 0),l([f({default:!1})],e.prototype,"contained",void 0),l([f({type:Number,default:0})],e.prototype,"min",void 0),l([f({type:Number,default:100})],e.prototype,"max",void 0),l([f({type:Number,default:1})],e.prototype,"interval",void 0),l([f({type:Boolean,default:!1})],e.prototype,"disabled",void 0),l([f({type:Boolean,default:!0})],e.prototype,"clickable",void 0),l([f({type:Boolean,default:!1})],e.prototype,"dragOnClick",void 0),l([f({type:Number,default:.5})],e.prototype,"duration",void 0),l([f({type:[Object,Array]})],e.prototype,"data",void 0),l([f({type:String,default:"value"})],e.prototype,"dataValue",void 0),l([f({type:String,default:"label"})],e.prototype,"dataLabel",void 0),l([f({type:Boolean,default:!1})],e.prototype,"lazy",void 0),l([f({type:String,validator:function(e){return["none","always","focus","hover","active"].indexOf(e)>-1},default:"active"})],e.prototype,"tooltip",void 0),l([f({type:[String,Array],validator:function(e){return(Array.isArray(e)?e:[e]).every((function(e){return["top","right","bottom","left"].indexOf(e)>-1}))}})],e.prototype,"tooltipPlacement",void 0),l([f({type:[String,Array,Function]})],e.prototype,"tooltipFormatter",void 0),l([f({type:Boolean,default:!0})],e.prototype,"useKeyboard",void 0),l([f(Function)],e.prototype,"keydownHook",void 0),l([f({type:Boolean,default:!0})],e.prototype,"enableCross",void 0),l([f({type:Boolean,default:!1})],e.prototype,"fixed",void 0),l([f({type:Boolean,default:!0})],e.prototype,"order",void 0),l([f(Number)],e.prototype,"minRange",void 0),l([f(Number)],e.prototype,"maxRange",void 0),l([f({type:[Boolean,Object,Array,Function],default:!1})],e.prototype,"marks",void 0),l([f({type:[Boolean,Function],default:!0})],e.prototype,"process",void 0),l([f({type:[Number]})],e.prototype,"zoom",void 0),l([f(Boolean)],e.prototype,"included",void 0),l([f(Boolean)],e.prototype,"adsorb",void 0),l([f(Boolean)],e.prototype,"hideLabel",void 0),l([f()],e.prototype,"dotOptions",void 0),l([f()],e.prototype,"dotAttrs",void 0),l([f()],e.prototype,"railStyle",void 0),l([f()],e.prototype,"processStyle",void 0),l([f()],e.prototype,"dotStyle",void 0),l([f()],e.prototype,"tooltipStyle",void 0),l([f()],e.prototype,"stepStyle",void 0),l([f()],e.prototype,"stepActiveStyle",void 0),l([f()],e.prototype,"labelStyle",void 0),l([f()],e.prototype,"labelActiveStyle",void 0),l([m("value")],e.prototype,"onValueChanged",null),e=l([p()({name:"VueSlider",data:function(){return{control:null}},components:{VueSliderDot:L,VueSliderMark:U}})],e)}(),We=Xe;We.VueSliderMark=U,We.VueSliderDot=L;var Ke=We;t.default=Ke}}).default)),mr={class:"text"},gr={key:0},yr={class:"left"},vr={key:1,class:"bar"},br={class:"right"},kr={class:"name text-hidden"},wr={__name:"PlayListDrawer",setup(e){const{t:t}=j(),n=A(),r=h(!1),o=h(null);return f((()=>n.showPlayList),(e=>{r.value=e,xe().then((()=>{if(e&&n.getPlaylists[0]){const e=document.getElementById(`playlist${n.persistData.playSongIndex}`);e&&(o.value=setTimeout((()=>{e.scrollIntoView({behavior:"smooth",block:"center"})}),500))}else clearTimeout(o.value)}))})),m((()=>{r.value=n.showPlayList})),ae((()=>{clearTimeout(o.value)})),(e,o)=>{const a=ot,i=ne,s=re,l=ht,p=ft;return c(),g(p,{class:"playlist-drawer",show:k(r),"onUpdate:show":o[0]||(o[0]=e=>$(r)?r.value=e:null),"z-index":1,width:400,"trap-focus":!1,"block-scroll":!1,placement:"right",to:"#mainContent",onAfterLeave:o[1]||(o[1]=e=>k(n).showPlayList=!1),onMaskClick:o[2]||(o[2]=e=>k(n).showPlayList=!1)},{default:y((()=>[v(l,{"native-scrollbar":!1,closable:""},{header:y((()=>[d("div",mr,[v(a,{class:"name"},{default:y((()=>[U(N(e.$t("general.name.playlists")),1)])),_:1}),k(n).getPlaylists.length>0?(c(),g(a,{key:0,class:"num",depth:3},{default:y((()=>[U(N(e.$t("general.name.songSize",{size:k(n).getPlaylists.length})),1)])),_:1})):X("",!0)])])),default:y((()=>[v(E,{mode:"out-in"},{default:y((()=>[k(n).getPlaylists[0]?(c(),u("div",gr,[(c(!0),u(q,null,Y(k(n).getPlaylists,((e,r)=>(c(),g(s,{hoverable:"",class:M(r===k(n).persistData.playSongIndex?"songs play":"songs"),id:"playlist"+r,"content-style":{padding:"8px",display:"flex",flexDirection:"row",alignItems:"center"},key:e,onClick:e=>(e=>{try{n.persistData.playSongIndex!==e&&("undefined"!=typeof $player&&Ce($player),n.persistData.playSongIndex=e,n.isLoadingSong=!0,n.setPlayState(!0))}catch(r){console.error(t("general.message.operationFailed"),r),$message.error(t("general.message.operationFailed"))}})(r)},{default:y((()=>[d("div",yr,[r!==k(n).persistData.playSongIndex?(c(),g(a,{key:0,depth:3,class:"num"},{default:y((()=>[U(N(r+1),1)])),_:2},1024)):(c(),u("div",vr,[(c(),u(q,null,Y(3,(e=>d("div",{key:e,class:"line",style:De({animationDelay:`0.${e*e}s`,animationPlayState:k(n).getPlayState?"running":"paused",height:`${Math.floor(7*Math.random())+10}px`})},null,4))),64))]))]),d("div",br,[d("div",kr,N(e.name),1),v(pt,{class:"text-hidden",artistsData:e.artist},null,8,["artistsData"]),v(i,{class:"remove",size:"18",component:k(G),onClick:B((e=>k(n).removeSong(r)),["stop"])},null,8,["component","onClick"])])])),_:2},1032,["class","id","onClick"])))),128))])):(c(),g(a,{key:1},{default:y((()=>[U(N(e.$t("other.playlistEmpty")),1)])),_:1}))])),_:1})])),_:1})])),_:1},8,["show"])}}},Sr=T(wr,[["__scopeId","data-v-9df1804a"]]);if(!Pr)var Pr={map:function(e,t){var n={};return t?e.map((function(e,r){return n.index=r,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?Pr.map(e,t):e)}};var xr=function(){var e=5,t=8-e;function n(t,n,r){return(t<<2*e)+(n<<e)+r}function r(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function o(e,t,n,r,o,a,i){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=r,s.b1=o,s.b2=a,s.histo=i}function a(){this.vboxes=new r((function(e,t){return Pr.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function i(e,t){if(t.count()){var r=t.r2-t.r1+1,o=t.g2-t.g1+1,a=Pr.max([r,o,t.b2-t.b1+1]);if(1==t.count())return[t.copy()];var i,s,l,c,u=0,d=[],p=[];if(a==r)for(i=t.r1;i<=t.r2;i++){for(c=0,s=t.g1;s<=t.g2;s++)for(l=t.b1;l<=t.b2;l++)c+=e[n(i,s,l)]||0;d[i]=u+=c}else if(a==o)for(i=t.g1;i<=t.g2;i++){for(c=0,s=t.r1;s<=t.r2;s++)for(l=t.b1;l<=t.b2;l++)c+=e[n(s,i,l)]||0;d[i]=u+=c}else for(i=t.b1;i<=t.b2;i++){for(c=0,s=t.r1;s<=t.r2;s++)for(l=t.g1;l<=t.g2;l++)c+=e[n(s,l,i)]||0;d[i]=u+=c}return d.forEach((function(e,t){p[t]=u-e})),function(e){var n,r,o,a,s,l=e+"1",c=e+"2",h=0;for(i=t[l];i<=t[c];i++)if(d[i]>u/2){for(o=t.copy(),a=t.copy(),s=(n=i-t[l])<=(r=t[c]-i)?Math.min(t[c]-1,~~(i+r/2)):Math.max(t[l],~~(i-1-n/2));!d[s];)s++;for(h=p[s];!h&&d[s-1];)h=p[--s];return o[c]=s,a[l]=o[c]+1,[o,a]}}(a==r?"r":a==o?"g":"b")}}return o.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(e){var t=this,r=t.histo;if(!t._count_set||e){var o,a,i,s=0;for(o=t.r1;o<=t.r2;o++)for(a=t.g1;a<=t.g2;a++)for(i=t.b1;i<=t.b2;i++)s+=r[n(o,a,i)]||0;t._count=s,t._count_set=!0}return t._count},copy:function(){var e=this;return new o(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var r=this,o=r.histo;if(!r._avg||t){var a,i,s,l,c=0,u=1<<8-e,d=0,p=0,h=0;for(i=r.r1;i<=r.r2;i++)for(s=r.g1;s<=r.g2;s++)for(l=r.b1;l<=r.b2;l++)c+=a=o[n(i,s,l)]||0,d+=a*(i+.5)*u,p+=a*(s+.5)*u,h+=a*(l+.5)*u;r._avg=c?[~~(d/c),~~(p/c),~~(h/c)]:[~~(u*(r.r1+r.r2+1)/2),~~(u*(r.g1+r.g2+1)/2),~~(u*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(e){var n=this,r=e[0]>>t;return gval=e[1]>>t,bval=e[2]>>t,r>=n.r1&&r<=n.r2&&gval>=n.g1&&gval<=n.g2&&bval>=n.b1&&bval<=n.b2}},a.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,o=this.vboxes,a=0;a<o.size();a++)((n=Math.sqrt(Math.pow(e[0]-o.peek(a).color[0],2)+Math.pow(e[1]-o.peek(a).color[1],2)+Math.pow(e[2]-o.peek(a).color[2],2)))<t||void 0===t)&&(t=n,r=o.peek(a).color);return r},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return Pr.naturalOrder(Pr.sum(e.color),Pr.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,r=e[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(s,l){if(!s.length||l<2||l>256)return!1;var c=function(r){var o,a=new Array(1<<3*e);return r.forEach((function(e){o=n(e[0]>>t,e[1]>>t,e[2]>>t),a[o]=(a[o]||0)+1})),a}(s);c.forEach((function(){}));var u=function(e,n){var r,a,i,s=1e6,l=0,c=1e6,u=0,d=1e6,p=0;return e.forEach((function(e){(r=e[0]>>t)<s?s=r:r>l&&(l=r),(a=e[1]>>t)<c?c=a:a>u&&(u=a),(i=e[2]>>t)<d?d=i:i>p&&(p=i)})),new o(s,l,c,u,d,p,n)}(s,c),d=new r((function(e,t){return Pr.naturalOrder(e.count(),t.count())}));function p(e,t){for(var n,r=e.size(),o=0;o<1e3;){if(r>=t)return;if(o++>1e3)return;if((n=e.pop()).count()){var a=i(c,n),s=a[0],l=a[1];if(!s)return;e.push(s),l&&(e.push(l),r++)}else e.push(n),o++}}d.push(u),p(d,.75*l);for(var h=new r((function(e,t){return Pr.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));d.size();)h.push(d.pop());p(h,l);for(var f=new a;h.size();)f.push(h.pop());return f}}}().quantize,Dr=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};Dr.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var Cr=function(){};Cr.prototype.getColor=function(e,t){return void 0===t&&(t=10),this.getPalette(e,5,t)[0]},Cr.prototype.getPalette=function(e,t,n){var r=function(e){var t=e.colorCount,n=e.quality;if(void 0!==t&&Number.isInteger(t)){if(1===t)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");t=Math.max(t,2),t=Math.min(t,20)}else t=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:t,quality:n}}({colorCount:t,quality:n}),o=new Dr(e),a=function(e,t,n){for(var r,o,a,i,s,l=e,c=[],u=0;u<t;u+=n)o=l[0+(r=4*u)],a=l[r+1],i=l[r+2],(void 0===(s=l[r+3])||s>=125)&&(o>250&&a>250&&i>250||c.push([o,a,i]));return c}(o.getImageData().data,o.width*o.height,r.quality),i=xr(a,r.colorCount);return i?i.palette():null},Cr.prototype.getColorFromUrl=function(e,t,n){var r=this,o=document.createElement("img");o.addEventListener("load",(function(){var a=r.getPalette(o,5,n);t(a[0],e)})),o.src=e},Cr.prototype.getImageData=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){var e=new Uint8Array(this.response);i=e.length;for(var n=new Array(i),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);var o=n.join(""),a=window.btoa(o);t("data:image/png;base64,"+a)}},n.send()},Cr.prototype.getColorAsync=function(e,t,n){var r=this;this.getImageData(e,(function(e){var o=document.createElement("img");o.addEventListener("load",(function(){var e=r.getPalette(o,5,n);t(e[0],this)})),o.src=e}))};const _r={class:"record"},Or=["src"],Lr={class:"control"},Tr={class:"play-state"},Er=T({__name:"PlayerRecord",setup(e){const t=A();return(e,n)=>{const r=ne;return c(),u("div",_r,[d("img",{class:M(k(t).getPlayState?"pointer play":"pointer"),src:"/img/music/ico/pointer.png",alt:"pointer"},null,2),d("div",{class:"pic",style:De({animationPlayState:k(t).getPlayState?"running":"paused"})},[d("img",{class:"album",src:k(t).getPlaySongData?k(t).getPlaySongData.album.picUrl.replace(/^http:/,"https:")+"?param=500y500":"/img/music/pic/default.png",alt:"cover"},null,8,Or)],4),d("div",Lr,[k(t).getPersonalFmMode?(c(),g(r,{key:1,class:"dislike",size:"24",component:k(mt),onClick:n[1]||(n[1]=e=>k(t).setFmDislike(k(t).getPersonalFmData.id))},null,8,["component"])):(c(),g(r,{key:0,class:"prev",size:"36",component:k(hn),onClick:n[0]||(n[0]=B((e=>k(t).setPlaySongIndex("prev")),["stop"]))},null,8,["component"])),d("div",Tr,[F(v(r,{size:"58",component:k(gt),onClick:n[2]||(n[2]=B((e=>k(t).setPlayState(!0)),["stop"]))},null,8,["component"]),[[K,!k(t).getPlayState]]),F(v(r,{size:"58",component:k(yt),onClick:n[3]||(n[3]=B((e=>k(t).setPlayState(!1)),["stop"]))},null,8,["component"]),[[K,k(t).getPlayState]])]),v(r,{class:"next",size:"36",component:k(vt),onClick:n[4]||(n[4]=B((e=>k(t).setPlaySongIndex("next")),["stop"]))},null,8,["component"])])])}}},[["__scopeId","data-v-78617826"]]),jr={class:"cover"},Rr={class:"pic"},Ar=["src"],Ir=["src"],zr={class:"control"},Mr={class:"data"},Vr={class:"desc"},$r={class:"name text-hidden"},Br={key:0,class:"message"},Fr={class:"time"},Hr={class:"buttons"},Ur={class:"play-state"},Nr=T({__name:"PlayerCover",setup(e){const t=R(),n=A(),r=oe(),o=()=>{a(n.getPlaySongTime.barMoveDistance),n.setPlayState(!0)},a=e=>{var t;if("undefined"!=typeof $player&&(null==(t=n.getPlaySongTime)?void 0:t.duration)){const t=n.getPlaySongTime.duration/100*e;Te($player,t)}},i=(e,r)=>{n.setBigPlayerState(!1),t.push({path:e,query:r})};return(e,t)=>{const s=ne;return c(),u("div",jr,[d("div",Rr,[d("img",{class:"album",src:k(n).getPlaySongData?k(n).getPlaySongData.album.picUrl.replace(/^http:/,"https:")+"?param=1024y1024":"/img/music/pic/default.png",alt:"cover"},null,8,Ar),d("img",{class:"shadow",src:k(n).getPlaySongData?k(n).getPlaySongData.album.picUrl.replace(/^http:/,"https:")+"?param=1024y1024":"/img/music/pic/default.png",alt:"shadow"},null,8,Ir)]),d("div",zr,[d("div",Mr,[d("div",Vr,[d("span",$r,N(k(n).getPlaySongData?k(n).getPlaySongData.name:e.$t("other.noSong")),1),k(n).getPlaySongData?(c(),u("div",Br,[v(pt,{artistsData:[k(n).getPlaySongData.artist[0],k(n).getPlaySongData.artist[1]?k(n).getPlaySongData.artist[1]:null]},null,8,["artistsData"]),d("span",{class:"ablum text-hidden",onClick:t[0]||(t[0]=e=>i("/album",{id:k(n).getPlaySongData?k(n).getPlaySongData.album.id:null}))},N(k(n).getPlaySongData.album.name),1)])):X("",!0)]),k(n).getPlaySongData&&k(r).userLogin?(c(),g(s,{key:0,class:"like",size:"20",component:k(n).getSongIsLike(k(n).getPlaySongData.id)?k(Rt):k(Tt),onClick:t[1]||(t[1]=B((e=>k(n).getSongIsLike(k(n).getPlaySongData.id)?k(n).changeLikeList(k(n).getPlaySongData.id,!1):k(n).changeLikeList(k(n).getPlaySongData.id,!0)),["stop"]))},null,8,["component"])):X("",!0)]),d("div",Fr,[d("span",null,N(k(n).getPlaySongTime.songTimePlayed),1),v(k(fr),{modelValue:k(n).getPlaySongTime.barMoveDistance,"onUpdate:modelValue":t[2]||(t[2]=e=>k(n).getPlaySongTime.barMoveDistance=e),onDragStart:t[3]||(t[3]=e=>k(n).setPlayState(!1)),onDragEnd:o,onClick:t[4]||(t[4]=B((e=>a(k(n).getPlaySongTime.barMoveDistance)),["stop"])),tooltip:"none"},null,8,["modelValue"]),d("span",null,N(k(n).getPlaySongTime.songTimeDuration),1)]),d("div",Hr,[v(s,{style:De(k(n).getPersonalFmMode?"opacity: 0.2;pointer-events: none;":null),size:"16",class:"mode",component:"normal"===k(n).getPlaySongMode?k(_e):"random"===k(n).getPlaySongMode?k(Oe):k(Le),onClick:t[5]||(t[5]=e=>k(n).setPlaySongMode())},null,8,["style","component"]),k(n).getPersonalFmMode?(c(),g(s,{key:1,class:"dislike",size:"20",style:De(k(r).userLogin?null:"opacity: 0.2;pointer-events: none;"),component:k(mt),onClick:t[7]||(t[7]=e=>k(n).setFmDislike(k(n).getPersonalFmData.id))},null,8,["style","component"])):(c(),g(s,{key:0,class:"prev",size:"30",component:k(hn),onClick:t[6]||(t[6]=B((e=>k(n).setPlaySongIndex("prev")),["stop"]))},null,8,["component"])),d("div",Ur,[v(s,{size:"50",component:k(n).getPlayState?k(Jt):k(en),onClick:t[8]||(t[8]=B((e=>k(n).setPlayState(!k(n).getPlayState)),["stop"]))},null,8,["component"])]),v(s,{class:"next",size:"30",component:k(vt),onClick:t[9]||(t[9]=B((e=>k(n).setPlaySongIndex("next")),["stop"]))},null,8,["component"]),v(s,{class:"comment",size:"18",component:k(Xt),onClick:t[10]||(t[10]=e=>i("/comment",{id:k(n).getPlaySongData?k(n).getPlaySongData.id:null}))},null,8,["component"])])])])}}},[["__scopeId","data-v-14516d35"]]),qr=T({__name:"CountDown",setup(e){var t,n;const r=A(),o=h(0),a=h(r.getPlaySongLyric.hasYrc?null==(t=r.getPlaySongLyric)?void 0:t.yrc[0].time:null==(n=r.getPlaySongLyric)?void 0:n.lrc[0].time);return f((()=>r.getPlaySongTime.currentTime),(e=>{if(r.getPlaySongLyric.lrc[0]){const t=1-(a.value-e-.5)/a.value;o.value=Number(Math.floor(3*t))}})),f((()=>{var e;return null==(e=r.getPlaySongLyric)?void 0:e.lrc}),(e=>{var t;r.getPlaySongLyric.lrc[0]&&(a.value=r.getPlaySongLyric.hasYrc?null==(t=r.getPlaySongLyric)?void 0:t.yrc[0].time:e[0].time,o.value=0)})),(e,t)=>(c(),g(E,{mode:"out-in",appear:""},{default:y((()=>[k(o)<=2&&k(a)>1&&k(r).getPlaySongLyric.lrc[0]?(c(),u("div",{key:0,class:"countdown",style:De({animationPlayState:k(r).getPlayState?"running":"paused"})},[d("span",{class:M(["point",k(o)>2?"hidden":null])},"●",2),d("span",{class:M(["point",k(o)>1?"hidden":null])},"●",2),d("span",{class:M(["point",k(o)>0?"hidden":null])},"●",2)],4)):X("",!0)])),_:1}))}},[["__scopeId","data-v-f03fa367"]]),Yr=["id"],Gr=["id","onClick"],Xr=["id","onClick"],Wr=["innerHTML"],Kr=["innerHTML"],Jr=(e=>(Ee("data-v-1505ef53"),e=e(),je(),e))((()=>d("div",{class:"placeholder"},null,-1))),Qr=T({__name:"RollingLyrics",emits:["lrcTextClick"],setup(e,{emit:t}){const n=A(),r=p(),o=t,a=(e,t)=>e>=t?e-t:t-e,i=e=>{o("lrcTextClick",e)};return(e,t)=>k(n).getPlaySongLyric.lrc[0]?(c(),u("div",{key:0,class:M(["cover"===k(r).playerStyle?"lrc-all cover":"lrc-all record","center"===k(r).lyricsBlock?"center":"top"]),style:De("center"===k(r).lyricsPosition?{textAlign:"center",paddingRight:"0"}:null)},[d("div",{class:"placeholder",id:k(n).getPlaySongLyric.hasYrc&&k(r).showYrc?"yrc-1":"lrc-1"},[k(r).countDownShow?(c(),g(qr,{key:0,style:De({fontSize:k(r).lyricsFontSize+"vh"})},null,8,["style"])):X("",!0)],8,Yr),k(n).getPlaySongLyric.hasYrc&&k(r).showYrc?(c(!0),u(q,{key:1},Y(k(n).getPlaySongLyric.yrc,((e,t)=>(c(),u("div",{class:M(["yrc",{on:k(n).getPlaySongLyricIndex===t,blur:k(r).lyricsBlur}]),style:De({marginBottom:k(r).lyricsFontSize-1.6+"vh",transformOrigin:"center"===k(r).lyricsPosition?"center":null,filter:k(r).lyricsBlur?`blur(${a(k(n).getPlaySongLyricIndex,t)}px)`:"none"}),key:e,id:"yrc"+t,onClick:t=>i(e.time)},[d("div",{class:"lyric",style:De({fontSize:k(r).lyricsFontSize+"vh"})},[(c(!0),u(q,null,Y(e.content,((o,a)=>(c(),u("div",{class:M(["text",{fill:k(n).getPlaySongLyricIndex===t&&k(n).getPlaySongTime.currentTime+.2>=o.time,transform:k(r).showYrcTransform}]),key:a,style:De({"--dur":`${Math.max(o.duration-.2,.1)}s`})},[d("span",{class:"word",innerHTML:o.content.replace(/ /g," ")},null,8,Wr),d("span",{class:M(["filler",{long:a===e.content.length-1&&o.duration>1,animation:k(r).showYrcAnimation,paused:!k(n).playState}]),innerHTML:o.content.replace(/ /g," ")},null,10,Kr)],6)))),128))],4),k(n).getPlaySongLyric.hasYrcTran&&k(r).showTransl&&e.tran?(c(),u("span",{key:0,style:De({fontSize:k(r).lyricsFontSize-1+"vh"}),class:"lyric-fy"},N(e.tran),5)):X("",!0),k(n).getPlaySongLyric.hasYrcRoma&&k(r).showRoma&&e.roma?(c(),u("span",{key:1,style:De({fontSize:k(r).lyricsFontSize-1.5+"vh"}),class:"lyric-roma"},N(e.roma),5)):X("",!0)],14,Xr)))),128)):(c(!0),u(q,{key:0},Y(k(n).getPlaySongLyric.lrc,((e,t)=>(c(),u("div",{class:M(["lrc",{on:k(n).getPlaySongLyricIndex==t,blur:k(r).lyricsBlur}]),style:De({marginBottom:k(r).lyricsFontSize-1.6+"vh",transformOrigin:"center"===k(r).lyricsPosition?"center":null,filter:k(r).lyricsBlur?`blur(${a(k(n).getPlaySongLyricIndex,t)}px)`:"none"}),key:e,id:"lrc"+t,onClick:t=>i(e.time)},[d("span",{class:"lyric",style:De({fontSize:k(r).lyricsFontSize+"vh"})},N(e.content),5),k(n).getPlaySongLyric.hasLrcTran&&k(r).showTransl&&e.tran?(c(),u("span",{key:0,style:De({fontSize:k(r).lyricsFontSize-1+"vh"}),class:"lyric-fy"},N(e.tran),5)):X("",!0),k(n).getPlaySongLyric.hasLrcRoma&&k(r).showRoma&&e.roma?(c(),u("span",{key:1,style:De({fontSize:k(r).lyricsFontSize-1.5+"vh"}),class:"lyric-roma"},N(e.roma),5)):X("",!0)],14,Gr)))),128)),Jr],6)):X("",!0)}},[["__scopeId","data-v-1505ef53"]]),Zr=e=>(Ee("data-v-67ab4410"),e=e(),je(),e),eo={class:"set"},to=Zr((()=>d("div",{class:"name"},[U(" 播放页快捷设置 "),d("span",{class:"tip"},"关闭后需在设置页开启")],-1))),no=Zr((()=>d("div",{class:"name"},[U(" 显示逐字歌词 "),d("span",{class:"tip"},"是否在歌曲具有逐字歌词时显示，实验性功能")],-1))),ro=Zr((()=>d("div",{class:"name"},[U(" 显示歌词翻译 "),d("span",{class:"tip"},"是否在具有翻译歌词时显示")],-1))),oo=Zr((()=>d("div",{class:"name"},[U(" 显示歌词音译 "),d("span",{class:"tip"},"是否在具有音译歌词时显示")],-1))),ao=Zr((()=>d("div",{class:"name"},[U(" 显示前奏等待 "),d("span",{class:"tip"},"部分歌曲前奏可能存在显示错误")],-1))),io=Zr((()=>d("div",{class:"name"},[U(" 智能暂停滚动 "),d("span",{class:"tip"},"鼠标移入歌词区域是否暂停滚动")],-1))),so=Zr((()=>d("div",{class:"name"},[U(" 歌词模糊 "),d("span",{class:"tip"},"未播放或已播放歌词模糊显示，实验性功能")],-1))),lo=T({__name:"LyricSetting",setup(e,{expose:t}){const n=p(),r=R(),o=A(),a=h(!1),{showTransl:i,lyricsBlur:s,lrcMousePause:l,showYrc:u,showRoma:f,countDownShow:m,showLyricSetting:b}=Re(n);return t({openLyricSetting:()=>{a.value=!0}}),(e,t)=>{const n=bt,p=re,h=ke,w=it,S=st,P=Ae;return c(),g(P,{bordered:!1,"z-index":1e4,class:"s-modal lyric-set",show:k(a),"onUpdate:show":t[8]||(t[8]=e=>$(a)?a.value=e:null),preset:"card",title:"歌词设置"},{default:y((()=>[v(S,null,{default:y((()=>[d("div",eo,[v(p,{class:"set-item"},{default:y((()=>[to,v(n,{value:k(b),"onUpdate:value":t[0]||(t[0]=e=>$(b)?b.value=e:null),round:!1},null,8,["value"])])),_:1}),v(p,{class:"set-item"},{default:y((()=>[no,v(n,{value:k(u),"onUpdate:value":t[1]||(t[1]=e=>$(u)?u.value=e:null),round:!1},null,8,["value"])])),_:1}),v(p,{class:"set-item"},{default:y((()=>[ro,v(n,{value:k(i),"onUpdate:value":t[2]||(t[2]=e=>$(i)?i.value=e:null),round:!1},null,8,["value"])])),_:1}),v(p,{class:"set-item"},{default:y((()=>[oo,v(n,{value:k(f),"onUpdate:value":t[3]||(t[3]=e=>$(f)?f.value=e:null),round:!1},null,8,["value"])])),_:1}),v(p,{class:"set-item"},{default:y((()=>[ao,v(n,{value:k(m),"onUpdate:value":t[4]||(t[4]=e=>$(m)?m.value=e:null),round:!1},null,8,["value"])])),_:1}),v(p,{class:"set-item"},{default:y((()=>[io,v(n,{value:k(l),"onUpdate:value":t[5]||(t[5]=e=>$(l)?l.value=e:null),round:!1},null,8,["value"])])),_:1}),v(p,{class:"set-item"},{default:y((()=>[so,v(n,{value:k(s),"onUpdate:value":t[6]||(t[6]=e=>$(s)?s.value=e:null),round:!1},null,8,["value"])])),_:1}),v(w,{justify:"center"},{default:y((()=>[v(h,{class:"more",size:"large",strong:"",secondary:"",round:"",onClick:t[7]||(t[7]=()=>{a.value=!1,k(o).setBigPlayerState(!1),k(r).push("/setting/player")})},{default:y((()=>[U(" 更多设置 ")])),_:1})])),_:1})])])),_:1})])),_:1},8,["show"])}}},[["__scopeId","data-v-67ab4410"]]),co=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],uo=(()=>{if("undefined"==typeof document)return!1;const e=co[0],t={};for(const n of co){if((null==n?void 0:n[1])in document){for(const[r,o]of n.entries())t[e[r]]=o;return t}}return!1})(),po={change:uo.fullscreenchange,error:uo.fullscreenerror};let ho={request:(e=document.documentElement,t)=>new Promise(((n,r)=>{const o=()=>{ho.off("change",o),n()};ho.on("change",o);const a=e[uo.requestFullscreen](t);a instanceof Promise&&a.then(o).catch(r)})),exit:()=>new Promise(((e,t)=>{if(!ho.isFullscreen)return void e();const n=()=>{ho.off("change",n),e()};ho.on("change",n);const r=document[uo.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)})),toggle:(e,t)=>ho.isFullscreen?ho.exit():ho.request(e,t),onchange(e){ho.on("change",e)},onerror(e){ho.on("error",e)},on(e,t){const n=po[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=po[e];n&&document.removeEventListener(n,t,!1)},raw:uo};Object.defineProperties(ho,{isFullscreen:{get:()=>Boolean(document[uo.fullscreenElement])},element:{enumerable:!0,get:()=>document[uo.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[uo.fullscreenEnabled])}}),uo||(ho={isEnabled:!1});const fo=ho,mo={class:"icon-menu"},go={class:"menu-left"},yo={key:0,class:"icon"},vo={class:"menu-right"},bo={class:"icon"},ko={class:"icon"},wo={class:"tip"},So={class:"left"},Po={key:0,class:"lrcShow"},xo={class:"data"},Do={class:"name text-hidden"},Co={key:0},_o={key:0,class:"artists text-hidden"},Oo={key:0},Lo=T({__name:"BigPlayer",setup(e){const t=R(),n=A(),r=I(),o=p(),a=h(!1),i=h(null),s=e=>{"undefined"!=typeof $player&&Te($player,e),n.setPlayState(!0),l.value=!1},l=h(!1),b=()=>{l.value=!1,D(n.getPlaySongLyricIndex)},w=h(null),S=Ie(kt),P=()=>{fo.isEnabled&&(fo.toggle(),S.value=fo.isFullscreen?kt:zt,w.value=setTimeout((()=>{l.value=!1,D(n.getPlaySongLyricIndex)}),500))},x=()=>{n.setBigPlayerState(!1),t.push({path:"/comment",query:{id:n.getPlaySongData?n.getPlaySongData.id:null}})},D=e=>{const t=o.lyricsBlock,r=n.getPlaySongLyric.hasYrc&&o.showYrc?"yrc":"lrc",a=document.getElementById(r+e);if(a&&!l.value){const e=a.parentElement,n=e.clientHeight,r=a.offsetTop-e.offsetTop-("center"===t?n/2-a.offsetHeight/2:80);e.scrollTo({top:r,behavior:"smooth"})}},C=()=>{const e=document.querySelector('meta[name="theme-color"]');n.showBigPlayer?e.setAttribute("content",r.songPicColor):"light"===o.getSiteTheme?e.setAttribute("content","#ffffff"):"dark"===o.getSiteTheme&&e.setAttribute("content","#18181c")};return m((()=>{xe().then((()=>{D(n.getPlaySongLyricIndex)}))})),ae((()=>{clearTimeout(w.value)})),f((()=>n.showBigPlayer),(e=>{C(),e&&(n.getPlaySongLyricIndex,xe().then((()=>{n.showPlayList=!1,D(n.getPlaySongLyricIndex)})))})),f((()=>n.getPlaySongLyricIndex),(e=>D(e))),f((()=>r.songPicColor),(()=>C())),(e,t)=>{const p=ne,h=ot;return c(),g(E,{name:"up"},{default:y((()=>[k(n).showBigPlayer?(c(),u("div",{key:0,class:"bplayer",style:De([k(n).getPlaySongData&&"blur"===k(o).backgroundImageShow?"background-image: url("+k(n).getPlaySongData.album.picUrl.replace(/^http:/,"https:")+"?param=50y50)":"",`backgroundColor: ${k(r).songPicColor}`])},[d("div",{class:M("blur"===k(o).backgroundImageShow?"gray blur":"gray")},null,2),d("div",mo,[d("div",go,[k(o).showLyricSetting?(c(),u("div",yo,[v(p,{class:"setting",size:"30",component:k(un),onClick:t[0]||(t[0]=e=>k(i).openLyricSetting())},null,8,["component"])])):X("",!0)]),d("div",vo,[d("div",bo,[v(p,{class:"screenfull",component:k(S),onClick:P},null,8,["component"])]),d("div",ko,[v(p,{class:"close",component:k(Ht),onClick:t[1]||(t[1]=e=>k(n).setBigPlayerState(!1))},null,8,["component"])])])]),d("div",{class:M(k(n).getPlaySongLyric.lrc[0]&&k(n).getPlaySongLyric.lrc.length>4?"all":"all noLrc")},[v(E,{name:"lrc"},{default:y((()=>[F(d("div",wo,[v(h,null,{default:y((()=>[U(N(e.$t("other.lrcClicks")),1)])),_:1})],512),[[K,k(l)]])])),_:1}),d("div",So,["cover"===k(o).playerStyle?(c(),g(Nr,{key:0})):(c(),g(Er,{key:1}))]),d("div",{class:"right",onMouseenter:t[4]||(t[4]=e=>a.value=!0),onMouseleave:t[5]||(t[5]=e=>a.value=!1)},[v(E,{name:"lrc"},{default:y((()=>[k(n).getPlaySongLyric.lrc[0]&&k(n).getPlaySongLyric.lrc.length>4?(c(),u("div",Po,[F(d("div",xo,[d("div",Do,[d("span",null,N(k(n).getPlaySongData?k(n).getPlaySongData.name:e.$t("other.noSong")),1),k(n).getPlaySongData&&k(n).getPlaySongData.alia?(c(),u("span",Co,N(k(n).getPlaySongData.alia[0]),1)):X("",!0)]),k(n).getPlaySongData&&k(n).getPlaySongData.artist?(c(),u("div",_o,[(c(!0),u(q,null,Y(k(n).getPlaySongData.artist,((e,t)=>(c(),u("span",{class:"artist",key:e},[d("span",null,N(e.name),1),t!=k(n).getPlaySongData.artist.length-1?(c(),u("span",Oo,"/")):X("",!0)])))),128))])):X("",!0)],512),[[K,"record"===k(o).playerStyle]]),v(Qr,{onMouseenter:t[2]||(t[2]=e=>l.value=!!k(o).lrcMousePause),onMouseleave:b,onLrcTextClick:s}),F(d("div",{class:M(k(a)?"menu show":"menu")},[k(n).getPlaySongTransl?(c(),g(p,{key:0,class:M(k(o).showTransl?"open":""),component:k($t),onClick:t[3]||(t[3]=e=>k(o).setShowTransl(!k(o).showTransl))},null,8,["class","component"])):X("",!0),v(p,{class:"open",component:k(Xt),onClick:x},null,8,["component"])],2),[[K,"record"===k(o).playerStyle]])])):X("",!0)])),_:1})],32)],2),v(lo,{ref_key:"LyricSettingRef",ref:i},null,512)],4)):X("",!0)])),_:1})}}},[["__scopeId","data-v-239c046e"]]),To={class:"slider"},Eo={class:"slider-tooltip"},jo={class:"all"},Ro={class:"data"},Ao=["src"],Io={class:"name"},zo={key:0,class:"artisrOrLrc"},Mo={class:"control"},Vo={class:"play-state"},$o={key:0,class:"like"},Bo={class:"add-playlist"},Fo={class:"pattern"},Ho={class:"volume"},Uo={__name:"index",setup(e){const{t:t}=j(),n=R(),r=p(),o=A(),a=I(),{persistData:i}=Re(o),s=h(null),l=h(null),b=!!{}.VITE_UNM_API,w=h(null),S=(e,n=r.songLevel)=>{try{const{id:a,fee:i,pc:s}=e;!b||!r.useUnmServer||s||1!==i&&4!==i?$e(a).then((e=>{e.success?(s||1!==i&&4!==i||$message.info(t("general.message.vipTip")),Be(a,n).then((e=>{e.data&&e.data[0]&&e.data[0].url?w.value=Fe(e.data[0].url.replace(/^http:/,"https:")):(console.error("Invalid music URL response:",e),$message.warning(t("general.message.playError")),o.setPlaySongIndex("next"))}))):b&&r.useUnmServer?P(a):($message.warning(t("general.message.playError")),o.setPlaySongIndex("next"))})):P(a),He(a).then((e=>{o.setPlaySongLyric(e)}))}catch(a){o.getPlaylists[0]&&o.getPlayState&&($message.warning(t("general.message.playError")),o.setPlaySongIndex("next"))}},P=e=>{Ue(e).then((e=>{200===e.code&&(e.data.url.replace(/^http:/,""),w.value=Fe(e.data.url.replace(/^http:/,"")))})).catch((e=>{$message.warning(t("general.message.playError")),o.setPlaySongIndex("next")}))},x=()=>{D(o.getPlaySongTime.barMoveDistance),o.setPlayState(!0)},D=e=>{var t;if(w.value&&(null==(t=o.getPlaySongTime)?void 0:t.duration)){const t=o.getPlaySongTime.duration/100*e;Te(w.value,t)}},C=()=>{i.value.playVolume>0?(i.value.playVolumeMute=i.value.playVolume,i.value.playVolume=0):i.value.playVolume=i.value.playVolumeMute},_=dr(500,(e=>{void 0===e&&(window.document.title=sessionStorage.getItem("siteTitle")??{}.VITE_SITE_TITLE),S(e),O(null==e?void 0:e.album.picUrl)})),O=e=>{if(!e)return!1;const t=e.replace(/^http:/,"https:")+"?param=50y50",n=new Image;fetch(t).then((e=>e.blob())).then((e=>{n.src=URL.createObjectURL(e),n.addEventListener("load",(async()=>{const e=new Cr,t=await e.getColor(n);t.join(","),a.songPicColor=`rgb(${t.join(",")})`}))})).catch((e=>{console.error("图像处理出错："+e),a.songPicColor="rgb(128,128,128)"}))};return m((()=>{window.$getPlaySongData=S,o.getPlaylists[0]&&o.getPlaySongData&&(S(o.getPlaySongData),O(o.getPlaySongData.album.picUrl))})),f((()=>o.getPlaySongData),(e=>{o.setPlaySongTime({currentTime:0,duration:0}),_(e)})),f((()=>i.value.playVolume),(e=>{w.value&&ze(w.value,e)})),f((()=>o.getPlayState),(e=>{xe().then((()=>{w.value&&!o.isLoadingSong&&Me(w.value,e?"play":"pause",i.value.playVolume)}))})),(e,t)=>{const a=ot,p=Pt,h=xt,f=re;return c(),u(q,null,[v(E,{name:"show"},{default:y((()=>[F(v(f,{class:"player","content-style":"padding: 0"},{default:y((()=>[d("div",To,[d("span",null,N(k(o).getPlaySongTime.songTimePlayed),1),v(k(fr),{modelValue:k(o).getPlaySongTime.barMoveDistance,"onUpdate:modelValue":t[0]||(t[0]=e=>k(o).getPlaySongTime.barMoveDistance=e),onDragStart:t[1]||(t[1]=e=>k(o).setPlayState(!1)),onDragEnd:x,onClick:t[2]||(t[2]=B((e=>D(k(o).getPlaySongTime.barMoveDistance)),["stop"])),tooltip:"active","use-keyboard":!1},{tooltip:y((()=>[d("div",Eo,N(k(Ve)(k(o).getPlaySongTime.duration/100*k(o).getPlaySongTime.barMoveDistance)),1)])),_:1},8,["modelValue"]),d("span",null,N(k(o).getPlaySongTime.songTimeDuration),1)]),d("div",jo,[d("div",Ro,[d("div",{class:"pic",onClick:t[3]||(t[3]=B((e=>k(o).setBigPlayerState(!0)),["stop"]))},[d("img",{src:k(o).getPlaySongData&&k(o).getPlaySongData.album&&k(o).getPlaySongData.album.picUrl?k(o).getPlaySongData.album.picUrl.replace(/^http:/,"https:")+"?param=50y50":"/img/music/pic/default.png",alt:"pic"},null,8,Ao),v(k(ne),{class:"open",size:"30",component:k(qt)},null,8,["component"])]),d("div",Io,[d("div",{class:"song text-hidden",onClick:t[4]||(t[4]=B((e=>k(n).push(`/song?id=${k(o).getPlaySongData.id}`)),["stop"]))},N(k(o).getPlaySongData?k(o).getPlaySongData.name:e.$t("other.noSong")),1),k(o).getPlaySongData?(c(),u("div",zo,[v(E,{name:"fade",mode:"out-in"},{default:y((()=>[k(r).bottomLyricShow?(c(),g(E,{key:0,name:"fade",mode:"out-in"},{default:y((()=>[k(o).getPlayState&&k(o).getPlaySongLyric.lrc[0]?k(r).showYrc&&-1!=k(o).getPlaySongLyricIndex&&k(o).getPlaySongLyric.hasYrc?(c(),g(a,{key:1,class:"lrc text-hidden"},{default:y((()=>[(c(!0),u(q,null,Y(k(o).getPlaySongLyric.yrc[k(o).getPlaySongLyricIndex].content,(e=>(c(),g(a,{key:e,depth:3},{default:y((()=>[U(N(e.content),1)])),_:2},1024)))),128))])),_:1})):-1!=k(o).getPlaySongLyricIndex&&k(o).getPlaySongLyric.lrc[0]?(c(),g(a,{key:2,class:"lrc text-hidden",depth:3,innerHTML:k(o).getPlaySongLyric.lrc[k(o).getPlaySongLyricIndex].content},null,8,["innerHTML"])):(c(),g(pt,{key:3,class:"text-hidden",artistsData:k(o).getPlaySongData.artist},null,8,["artistsData"])):(c(),g(pt,{key:0,class:"text-hidden",artistsData:k(o).getPlaySongData.artist},null,8,["artistsData"]))])),_:1})):(c(),g(pt,{key:1,class:"text-hidden",artistsData:k(o).getPlaySongData.artist},null,8,["artistsData"]))])),_:1})])):X("",!0)])]),d("div",Mo,[k(o).getPersonalFmMode?(c(),g(k(ne),{key:1,class:"dislike",size:"20",component:k(mt),onClick:t[6]||(t[6]=e=>k(o).setFmDislike(k(o).getPersonalFmData.id))},null,8,["component"])):(c(),g(k(ne),{key:0,class:"prev",size:"30",component:k(hn),onClick:t[5]||(t[5]=B((e=>k(o).setPlaySongIndex("prev")),["stop"]))},null,8,["component"])),d("div",Vo,[v(k(ne),{size:"46",component:k(o).getPlayState?k(yt):k(gt),onClick:t[7]||(t[7]=B((e=>k(o).setPlayState(!k(o).getPlayState)),["stop"]))},null,8,["component"])]),v(k(ne),{class:"next",size:"30",component:k(vt),onClick:t[8]||(t[8]=B((e=>k(o).setPlaySongIndex("next")),["stop"]))},null,8,["component"])]),d("div",{class:M(k(o).getPersonalFmMode?"menu fm":"menu")},[v(p,{trigger:"hover","keep-alive-on-hover":!1},{trigger:y((()=>[k(o).getPlaySongData?(c(),u("div",$o,[v(k(ne),{class:"like-icon",size:"24",component:k(o).getSongIsLike(k(o).getPlaySongData.id)?k(Rt):k(Tt),onClick:t[9]||(t[9]=B((e=>k(o).getSongIsLike(k(o).getPlaySongData.id)?k(o).changeLikeList(k(o).getPlaySongData.id,!1):k(o).changeLikeList(k(o).getPlaySongData.id,!0)),["stop"]))},null,8,["component"])])):X("",!0)])),default:y((()=>[U(" "+N(k(o).getSongIsLike(k(o).getPlaySongData.id)?e.$t("menu.cancelCollection"):e.$t("menu.collection")),1)])),_:1}),v(p,{trigger:"hover","keep-alive-on-hover":!1},{trigger:y((()=>[d("div",Bo,[v(k(ne),{class:"add-icon",size:"30",component:k(rn),onClick:t[10]||(t[10]=B((e=>k(s).openAddToPlaylist(k(o).getPlaySongData.id)),["stop"]))},null,8,["component"])])])),default:y((()=>[U(" "+N(e.$t("menu.add")),1)])),_:1}),d("div",Fo,[v(k(ne),{component:"normal"===k(i).playSongMode?k(_e):"random"===k(i).playSongMode?k(Oe):k(Le),onClick:t[11]||(t[11]=e=>k(o).setPlaySongMode())},null,8,["component"])]),v(p,{trigger:"hover","keep-alive-on-hover":!1},{trigger:y((()=>[d("div",{class:M(k(o).showPlayList?"playlist open":"playlist")},[v(k(ne),{size:"30",component:k(sn),onClick:t[12]||(t[12]=B((e=>k(o).showPlayList=!k(o).showPlayList),["stop"]))},null,8,["component"])],2)])),default:y((()=>[U(" "+N(e.$t("general.name.playlists")),1)])),_:1}),d("div",Ho,[v(k(ne),{size:"28",component:0==k(i).playVolume?k(Sn):k(i).playVolume<.4?k(bn):k(i).playVolume<.7?k(gn):k(Dn),onClick:B(C,["stop"])},null,8,["component"]),v(h,{class:"volmePg",value:k(i).playVolume,"onUpdate:value":t[13]||(t[13]=e=>k(i).playVolume=e),tooltip:!1,min:0,max:1,step:.01,onClick:t[14]||(t[14]=B((()=>{}),["stop"]))},null,8,["value"])])],2)])])),_:1},512),[[K,k(o).getPlaylists[0]&&k(o).showPlayBar]])])),_:1}),v(Sr,{ref_key:"PlayListDrawerRef",ref:l},null,512),v(dt,{ref_key:"addPlayListRef",ref:s},null,512),v(Lo)],64)}}},No=T(Uo,[["__scopeId","data-v-0436bc63"]]),qo={__name:"index",setup(e){const{t:t}=j(),n=A(),r=oe(),o=p(),a=I(),i=R(),s=h(null),l=!(!{}.VITE_ANN_TITLE||!{}.VITE_ANN_CONTENT),u={}.VITE_ANN_TITLE,f={}.VITE_ANN_CONTENT,b=Number({}.VITE_ANN_DURATION),w=e=>{if("Space"===e.code){if(e.target.tagName,"video"===i.currentRoute.value.name)return!1;if("BODY"!==e.target.tagName)return!1;e.preventDefault(),n.setPlayState(!n.getPlayState)}},S=e=>{const t=e?e==={}.VITE_SITE_TITLE?e:e+" - "+{}.VITE_SITE_TITLE:sessionStorage.getItem("siteTitle")??{}.VITE_SITE_TITLE;a.siteTitle=t,sessionStorage.setItem("siteTitle",t),n.getPlayState||(window.document.title=t)},P=()=>{const e=(new Date).toLocaleDateString();if(localStorage.getItem("lastSignInDate")!==e){const n=[Ne(0),qe()];Promise.all(n).then((n=>{localStorage.setItem("lastSignInDate",e),t("general.message.signInSuccess"),n[0],n[1],$notification.success({content:t("general.message.signInSuccess"),meta:t("general.message.signInSuccessDesc"),duration:3e3})})).catch((e=>{console.error(t("general.message.signInFailed"),e),$message.error(t("general.message.signInFailed"))}))}},x=()=>{$message?$message.success(t("other.cleanAll")):alert(t("other.cleanAll")),localStorage.clear(),document.location.reload()},D=()=>{xe().then((()=>{var e;if(s.value)null==(e=s.value)||e.scrollIntoView({behavior:"smooth"});else{const e=document.getElementById("mainContent");null==e||e.scrollIntoView({behavior:"smooth"})}}))};return m((()=>{try{window.$scrollToTop=D,window.$cleanAll=x,window.$signIn=P,window.$setSiteTitle=S;const e=document.documentElement;e&&e.setAttribute("lang",o.language),l&&$notification.info({content:u,meta:f,duration:b}),Xe().then((e=>{e.data.profile&&r.userLogin?(o.autoSignIn&&P(),(()=>{const e=Date.now(),t=new Date(localStorage.getItem("lastRefreshDate")).getTime();(e-t>=2592e5||!t)&&We().then((t=>{200===t.code?localStorage.setItem("lastRefreshDate",new Date(e).toLocaleDateString()):console.error("刷新登录失败")}))})(),r.userLogin=!0,r.setUserData(e.data.profile),r.setUserOtherData()):(r.userLogOut(),"cloud"===n.getPlayListMode&&($message.info(t("other.loginExpired")),n.setPlaylists([]),n.setPlayListMode("list")))})).catch((e=>(console.error(t("general.message.acquisitionFailed"),e),$message.error(t("general.message.acquisitionFailed")),i.push("/500"),!1))),n.setLikeList(),window.addEventListener("keydown",w)}catch(e){console.error("组件挂载错误:",e)}})),(e,t)=>{const r=wt,o=Dt,i=ie("router-view"),l=St,u=Ct;return c(),g(Cn,null,{default:y((()=>[v(u,{style:{height:"100vh"}},{default:y((()=>[v(r,{bordered:""},{default:y((()=>[v(ur)])),_:1}),v(l,{position:"absolute",class:M(k(n).getPlaylists[0]&&k(n).showPlayBar?"show":""),"native-scrollbar":!1,embedded:""},{default:y((()=>[d("main",{ref_key:"mainContent",ref:s,class:M(["main",{playlist:k(n).showPlayList,search:k(a).searchInputActive}]),id:"mainContent"},[v(o,{bottom:k(n).getPlaylists[0]&&k(n).showPlayBar?100:40,style:{transition:"all 0.3s"}},null,8,["bottom"]),v(i,null,{default:y((({Component:e})=>[(c(),g(Ye,null,[v(E,{name:"scale",mode:"out-in"},{default:y((()=>[(c(),g(Ge(e)))])),_:2},1024)],1024))])),_:1}),v(No)],2)])),_:1},8,["class"])])),_:1})])),_:1})}}},Yo=T(qo,[["__scopeId","data-v-e13e4de1"]]);export{Yo as default};
