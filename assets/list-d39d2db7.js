import{c2 as e,a as t,_ as s,cB as a,e as l,Y as o,f as i,o as r,c as n,u as p,k as m,w as u,q as c,F as d,x as g,d as h,b as f,t as j,ac as v,j as y,bO as k,c8 as _,an as w}from"./index-c72c5b0c.js";import{h as x}from"./hot-d92abc92.js";import{f as C}from"./getTime-33329332.js";import{g as T}from"./hot-685756e1.js";import{_ as b}from"./Tag-827106b2.js";import{_ as L,a as M}from"./ListItem-0c465486.js";import{_ as H}from"./Pagination-10257b2a.js";import{_ as q}from"./Space-5d75b1a8.js";import{_ as S}from"./Skeleton-163a49d9.js";import{_ as A}from"./text-64fc9966.js";import"./dayjs.min-d5438a3a.js";import"./_common-991711fd.js";import"./light-56c22105.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./use-merged-state-74230ec8.js";import"./Input-b4caa030.js";import"./light-6c88686a.js";import"./Select-714380b7.js";import"./create-07671515.js";import"./use-compitable-a1866e01.js";import"./light-20fa43af.js";import"./light-cb0cf260.js";import"./light-170bfcda.js";import"./cssr-ed8d5782.js";import"./Popover-87b27d79.js";import"./Follower-ef4b8179.js";import"./next-frame-once-924ab492.js";import"./Empty-3e1da814.js";import"./light-e632ba41.js";import"./create-ref-setter-ee697025.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./use-houdini-1a86f12f.js";import"./light-a7677734.js";const R=e("fire",!0,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C32.2347 44 38.9998 37.4742 38.9998 29.0981C38.9998 27.0418 38.8953 24.8375 37.7555 21.4116C36.6157 17.9858 36.3861 17.5436 35.1809 15.4279C34.666 19.7454 31.911 21.5448 31.2111 22.0826C31.2111 21.5231 29.5445 15.3359 27.0176 11.6339C24.537 8 21.1634 5.61592 19.1853 4C19.1853 7.06977 18.3219 11.6339 17.0854 13.9594C15.8489 16.2849 15.6167 16.3696 14.0722 18.1002C12.5278 19.8308 11.8189 20.3653 10.5274 22.4651C9.23596 24.565 9 27.3618 9 29.4181C9 37.7942 15.7653 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])})),$={class:"list"},z=["src"],B={key:0,class:"loading",style:{height:"60px"}},I={key:1,class:"header"},O={class:"logo"},U=["src"],D={class:"name"},F={class:"data"},P={key:0,class:"loading",style:{"flex-direction":"column"}},E={key:1,class:"all"},G={class:"text"},N={class:"message"},W={key:0,class:"hot"},Y=s({__name:"list",setup(e){const s=a(),Y=x(),Z=l(null),J=l(s.currentRoute.value.query.type||Y.newsArr[0].name),Q=l(s.currentRoute.value.query.page?Number(s.currentRoute.value.query.page):1),V=l(null),X=async(e,t=!1)=>{V.value=null;const s=Y.newsArr.find((t=>t.name==e));T(s.name,t,s.params).then((e=>{200===e.code?V.value=e:$message.error(e.message)}))};return o((()=>Y.timeData),(()=>{V.value&&(Z.value=C(V.value.updateTime||Date.now()))})),o((()=>Q.value),(e=>{var t;s.push({path:"/list",query:{type:J.value,page:e}}),null==(t=document.querySelector(".n-back-top"))||t.click()})),o((()=>s.currentRoute.value),(e=>{"list"===e.name&&(J.value=e.query.type,Q.value=Number(e.query.page),X(J.value))})),i((()=>{X(J.value)})),(e,a)=>(r(),n("div",$,[p(Y).newsArr[0]?(r(),m(p(q),{key:0,class:"type"},{default:u((()=>[(r(!0),n(d,null,g(p(Y).newsArr.filter((e=>e.show)),(e=>(r(),m(p(b),{round:"",size:"large",class:"tag",key:e,type:e.name===p(J)?"primary":"default",onClick:t=>{return a=e.name,void s.push({path:"/list",query:{type:a,page:1}});var a}},{avatar:u((()=>[h("img",{src:`/img/logo/${e.name}.png`,alt:"logo",class:"logo"},null,8,z)])),default:u((()=>[f(j(e.label)+" ",1)])),_:2},1032,["type","onClick"])))),128))])),_:1})):c("",!0),t(p(w),{class:"card"},{header:u((()=>[t(v,{name:"fade",mode:"out-in"},{default:u((()=>[p(V)?(r(),n("div",I,[h("div",O,[h("img",{src:`/img/logo/${p(J)}.png`,alt:"logo"},null,8,U)]),h("div",D,[t(p(A),{class:"title"},{default:u((()=>[f(j(p(V).title),1)])),_:1}),t(p(A),{class:"subtitle",depth:3},{default:u((()=>[f(j(p(V).subtitle),1)])),_:1})]),h("div",F,[p(V).total?(r(),m(p(A),{key:0,depth:3,class:"total",innerHTML:p(V).total},null,8,["innerHTML"])):c("",!0),t(p(A),{depth:3,class:"time",innerHTML:p(Z)},null,8,["innerHTML"])])])):(r(),n("div",B,[t(p(S),{text:"",round:"",height:"40px"})]))])),_:1})])),default:u((()=>[t(v,{name:"fade",mode:"out-in"},{default:u((()=>[p(V)?(r(),n("div",E,[t(p(L),{hoverable:"",clickable:"",style:{width:"100%"}},{default:u((()=>[(r(!0),n(d,null,g(p(V).data.slice(20*p(Q)-20,20*p(Q)),((e,s)=>(r(),m(p(M),{key:e,onClick:t=>(e=>{if(!e.url||!e.mobileUrl)return $message.error("链接不存在");const t=window.innerWidth>680?e.url:e.mobileUrl;"open"===Y.linkOpenType?window.open(t,"_blank"):"href"===Y.linkOpenType&&(window.location.href=t)})(e)},{prefix:u((()=>[t(p(A),{class:y(["num",s+1+20*(p(Q)-1)===1?"one":s+1+20*(p(Q)-1)===2?"two":s+1+20*(p(Q)-1)===3?"three":null]),depth:2},{default:u((()=>[f(j(s+1+20*(p(Q)-1)),1)])),_:2},1032,["class"])])),default:u((()=>[h("div",G,[t(p(A),{class:"title",innerHTML:e.title},null,8,["innerHTML"]),e.desc?(r(),m(p(A),{key:0,class:"desc",depth:3,innerHTML:e.desc},null,8,["innerHTML"])):c("",!0)]),h("div",N,[e.hot?(r(),n("div",W,[t(p(k),{depth:3,component:p(R)},null,8,["component"]),t(p(A),{class:"hot-text",depth:3,innerHTML:e.hot},null,8,["innerHTML"])])):c("",!0)])])),_:2},1032,["onClick"])))),128))])),_:1}),t(p(H),{class:"pagination","page-slot":5,"item-count":p(V).data.length,"page-sizes":[20],page:p(Q),"onUpdate:page":a[0]||(a[0]=e=>_(Q)?Q.value=e:null)},null,8,["item-count","page"])])):(r(),n("div",P,[t(p(S),{text:"",round:"",repeat:20,height:"40px",style:{"margin-bottom":"20px"}})]))])),_:1})])),_:1})]))}},[["__scopeId","data-v-052133a2"]]);export{Y as default};
