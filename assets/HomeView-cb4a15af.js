import{dK as e,bx as t,bK as n,a8 as a,D as s,ag as l,B as o,y as r,C as i,e as u,bU as d,z as c,dL as p,s as v,f as m,i as f,$ as g,a4 as h,P as b,a0 as x,aU as y,Z as w,Q as _,cl as P,Y as S,am as k,A as $,ab as C,bT as j,V as D,bc as z,m as I,v as T,ac as L,n as A,aK as F,J as M,I as R,o as N,c as E,d as U,_ as V,d8 as O,cP as B,u as X,k as W,q as Y,a as K,w as Z,F as H,x as q,dM as Q,b as G,t as J,dN as ee,dO as te,dP as ne,dQ as ae,d9 as se,di as le,ae as oe,dR as re,bO as ie,p as ue,l as de,dS as ce,dk as pe,dT as ve,d7 as me}from"./index-d93ecfd9.js";import{c as fe}from"./Image-46cbaef1.js";import{u as ge}from"./use-merged-state-bb55b613.js";import{c as he}from"./light-689a4673.js";import{_ as be}from"./Skeleton-8803bfe7.js";import{C as xe}from"./CoverLists-0e646f28.js";import{b as ye}from"./headers-79a1892a.js";import{g as we}from"./artist-160951aa.js";import{A as _e}from"./ArtistLists-5eb717c1.js";import{b as Pe,a as Se}from"./Tabs-7872627f.js";import{C as ke}from"./CalendarTodayFilled-73c1caa5.js";import{P as $e,a as Ce,S as je,T as De}from"./ThumbDownRound-6029eb8b.js";import{_ as ze}from"./text-f881741e.js";import{_ as Ie}from"./Avatar-d697b90d.js";import{A as Te}from"./AllArtists-e33e1687.js";import{a as Le,_ as Ae}from"./Grid-86a1f343.js";import"./utils-5d91cb42.js";import"./light-c2ad2c79.js";import"./light-f76c98be.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./Tooltip-0ede3859.js";import"./Popover-92ca2497.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./use-compitable-f583eb1a.js";import"./use-houdini-2a8f5bbb.js";import"./album-72ad8940.js";import"./Input-19ebdc3b.js";import"./light-1b9db3a7.js";import"./FormItem-ccd063f6.js";import"./light-d411e82b.js";import"./Select-d00ca0af.js";import"./create-07671515.js";import"./light-25af1eec.js";import"./light-16e65505.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./Empty-d19cae85.js";import"./Space-76cfe381.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./getCoverUrl-bb08aa65.js";import"./Spin-c12f3861.js";import"./light-f8d78f18.js";import"./Dropdown-ca523edc.js";import"./light-5ced6f1c.js";import"./create-ref-setter-ee697025.js";import"./light-6dc1ea6d.js";import"./Add-00122154.js";import"./light-af7849c2.js";import"./light-d2124738.js";const Fe=fe((function(n,a,s){return a=a.toLowerCase(),n+(s?e(t(a).toLowerCase()):a)}));function Me(e,t,a){return n(e,{key:`carousel-item-duplicate-${t}-${a}`})}function Re(e,t,n){return n?0===e?t-3:e===t-1?0:e-1:e}function Ne(e,t){return t?e+1:e}function Ee(e){return window.TouchEvent&&e instanceof window.TouchEvent}function Ue(e,t){let{offsetWidth:n,offsetHeight:a}=e;if(t){const t=getComputedStyle(e);n=n-parseFloat(t.getPropertyValue("padding-left"))-parseFloat(t.getPropertyValue("padding-right")),a=a-parseFloat(t.getPropertyValue("padding-top"))-parseFloat(t.getPropertyValue("padding-bottom"))}return{width:n,height:a}}function Ve(e,t,n){return e<t?t:e>n?n:e}const Oe=o("n-carousel-methods"),Be=(e="unknown",t="component")=>{const n=s(Oe);return n||l(e,`\`${t}\` must be placed inside \`n-carousel\`.`),n},Xe=r({name:"CarouselDots",props:{total:{type:Number,default:0},currentIndex:{type:Number,default:0},dotType:{type:String,default:"dot"},trigger:{type:String,default:"click"},keyboard:Boolean},setup(e){const{mergedClsPrefixRef:t}=i(e),n=u([]),a=Be();function s(e){var t;null===(t=n.value[e])||void 0===t||t.focus()}return d((()=>n.value.length=0)),{mergedClsPrefix:t,dotEls:n,handleKeydown:function(t,n){switch(t.key){case"Enter":case" ":return t.preventDefault(),void a.to(n)}e.keyboard&&function(e){var t;if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)return;const n=null===(t=document.activeElement)||void 0===t?void 0:t.nodeName.toLowerCase();if("input"===n||"textarea"===n)return;const{code:l}=e,o="PageUp"===l||"ArrowUp"===l,r="PageDown"===l||"ArrowDown"===l,i="PageUp"===l||"ArrowRight"===l,u="PageDown"===l||"ArrowLeft"===l,d=a.isVertical(),c=d?o:i,p=d?r:u;if(!c&&!p)return;e.preventDefault(),c&&!a.isNextDisabled()?(a.next(),s(a.currentIndexRef.value)):p&&!a.isPrevDisabled()&&(a.prev(),s(a.currentIndexRef.value))}(t)},handleMouseenter:function(t){"hover"===e.trigger&&a.to(t)},handleClick:function(t){"click"===e.trigger&&a.to(t)}}},render(){const{mergedClsPrefix:e,dotEls:t}=this;return c("div",{class:[`${e}-carousel__dots`,`${e}-carousel__dots--${this.dotType}`],role:"tablist"},p(this.total,(n=>{const a=n===this.currentIndex;return c("div",{"aria-selected":a,ref:e=>t.push(e),role:"button",tabindex:"0",class:[`${e}-carousel__dot`,a&&`${e}-carousel__dot--active`],key:n,onClick:()=>{this.handleClick(n)},onMouseenter:()=>{this.handleMouseenter(n)},onKeydown:e=>{this.handleKeydown(e,n)}})})))}}),We=c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},c("g",{fill:"none"},c("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z",fill:"currentColor"}))),Ye=c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},c("g",{fill:"none"},c("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z",fill:"currentColor"}))),Ke=r({name:"CarouselArrow",setup(e){const{mergedClsPrefixRef:t}=i(e),{isVertical:n,isPrevDisabled:a,isNextDisabled:s,prev:l,next:o}=Be();return{mergedClsPrefix:t,isVertical:n,isPrevDisabled:a,isNextDisabled:s,prev:l,next:o}},render(){const{mergedClsPrefix:e}=this;return c("div",{class:`${e}-carousel__arrow-group`},c("div",{class:[`${e}-carousel__arrow`,this.isPrevDisabled()&&`${e}-carousel__arrow--disabled`],role:"button",onClick:this.prev},We),c("div",{class:[`${e}-carousel__arrow`,this.isNextDisabled()&&`${e}-carousel__arrow--disabled`],role:"button",onClick:this.next},Ye))}}),Ze="CarouselItem",He=r({name:Ze,setup(e){const{mergedClsPrefixRef:t}=i(e),n=Be(Fe(Ze),`n-${Fe(Ze)}`),a=u(),s=v((()=>{const{value:e}=a;return e?n.getSlideIndex(e):-1})),l=v((()=>n.isPrev(s.value))),o=v((()=>n.isNext(s.value))),r=v((()=>n.isActive(s.value))),d=v((()=>n.getSlideStyle(s.value)));return m((()=>{n.addSlide(a.value)})),f((()=>{n.removeSlide(a.value)})),{mergedClsPrefix:t,selfElRef:a,isPrev:l,isNext:o,isActive:r,index:s,style:d,handleClick:function(e){const{value:t}=s;void 0!==t&&(null==n||n.onCarouselItemClick(t,e))}}},render(){var e;const{$slots:t,mergedClsPrefix:n,isPrev:a,isNext:s,isActive:l,index:o,style:r}=this;return c("div",{ref:"selfElRef",class:[`${n}-carousel__slide`,{[`${n}-carousel__slide--current`]:l,[`${n}-carousel__slide--prev`]:a,[`${n}-carousel__slide--next`]:s}],role:"option",tabindex:"-1","data-index":o,"aria-hidden":!l,style:r,onClickCapture:this.handleClick},null===(e=t.default)||void 0===e?void 0:e.call(t,{isPrev:a,isNext:s,isActive:l,index:o}))}}),qe=g("carousel","\n position: relative;\n width: 100%;\n height: 100%;\n touch-action: pan-y;\n overflow: hidden;\n",[h("slides","\n display: flex;\n width: 100%;\n height: 100%;\n transition-timing-function: var(--n-bezier);\n transition-property: transform;\n ",[h("slide","\n flex-shrink: 0;\n position: relative;\n width: 100%;\n height: 100%;\n outline: none;\n overflow: hidden;\n ",[b("> img","\n display: block;\n ")])]),h("dots","\n position: absolute;\n display: flex;\n flex-wrap: nowrap;\n ",[x("dot",[h("dot","\n height: var(--n-dot-size);\n width: var(--n-dot-size);\n background-color: var(--n-dot-color);\n border-radius: 50%;\n cursor: pointer;\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n outline: none;\n ",[b("&:focus","\n background-color: var(--n-dot-color-focus);\n "),x("active","\n background-color: var(--n-dot-color-active);\n ")])]),x("line",[h("dot","\n border-radius: 9999px;\n width: var(--n-dot-line-width);\n height: 4px;\n background-color: var(--n-dot-color);\n cursor: pointer;\n transition:\n width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n outline: none;\n ",[b("&:focus","\n background-color: var(--n-dot-color-focus);\n "),x("active","\n width: var(--n-dot-line-width-active);\n background-color: var(--n-dot-color-active);\n ")])])]),h("arrow","\n transition: background-color .3s var(--n-bezier);\n cursor: pointer;\n height: 28px;\n width: 28px;\n display: flex;\n align-items: center;\n justify-content: center;\n background-color: rgba(255, 255, 255, .2);\n color: var(--n-arrow-color);\n border-radius: 8px;\n user-select: none;\n -webkit-user-select: none;\n font-size: 18px;\n ",[b("svg","\n height: 1em;\n width: 1em;\n "),b("&:hover","\n background-color: rgba(255, 255, 255, .3);\n ")]),x("vertical","\n touch-action: pan-x;\n ",[h("slides","\n flex-direction: column;\n "),x("fade",[h("slide","\n top: 50%;\n left: unset;\n transform: translateY(-50%);\n ")]),x("card",[h("slide","\n top: 50%;\n left: unset;\n transform: translateY(-50%) translateZ(-400px);\n ",[x("current","\n transform: translateY(-50%) translateZ(0);\n "),x("prev","\n transform: translateY(-100%) translateZ(-200px);\n "),x("next","\n transform: translateY(0%) translateZ(-200px);\n ")])])]),x("usercontrol",[h("slides",[b(">",[b("div","\n position: absolute;\n top: 50%;\n left: 50%;\n width: 100%;\n height: 100%;\n transform: translate(-50%, -50%);\n ")])])]),x("left",[h("dots","\n transform: translateY(-50%);\n top: 50%;\n left: 12px;\n flex-direction: column;\n ",[x("line",[h("dot","\n width: 4px;\n height: var(--n-dot-line-width);\n margin: 4px 0;\n transition:\n height .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n outline: none;\n ",[x("active","\n height: var(--n-dot-line-width-active);\n ")])])]),h("dot","\n margin: 4px 0;\n ")]),h("arrow-group","\n position: absolute;\n display: flex;\n flex-wrap: nowrap;\n "),x("vertical",[h("arrow","\n transform: rotate(90deg);\n ")]),x("show-arrow",[x("bottom",[h("dots","\n transform: translateX(0);\n bottom: 18px;\n left: 18px;\n ")]),x("top",[h("dots","\n transform: translateX(0);\n top: 18px;\n left: 18px;\n ")]),x("left",[h("dots","\n transform: translateX(0);\n top: 18px;\n left: 18px;\n ")]),x("right",[h("dots","\n transform: translateX(0);\n top: 18px;\n right: 18px;\n ")])]),x("left",[h("arrow-group","\n bottom: 12px;\n left: 12px;\n flex-direction: column;\n ",[b("> *:first-child","\n margin-bottom: 12px;\n ")])]),x("right",[h("dots","\n transform: translateY(-50%);\n top: 50%;\n right: 12px;\n flex-direction: column;\n ",[x("line",[h("dot","\n width: 4px;\n height: var(--n-dot-line-width);\n margin: 4px 0;\n transition:\n height .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n outline: none;\n ",[x("active","\n height: var(--n-dot-line-width-active);\n ")])])]),h("dot","\n margin: 4px 0;\n "),h("arrow-group","\n bottom: 12px;\n right: 12px;\n flex-direction: column;\n ",[b("> *:first-child","\n margin-bottom: 12px;\n ")])]),x("top",[h("dots","\n transform: translateX(-50%);\n top: 12px;\n left: 50%;\n ",[x("line",[h("dot","\n margin: 0 4px;\n ")])]),h("dot","\n margin: 0 4px;\n "),h("arrow-group","\n top: 12px;\n right: 12px;\n ",[b("> *:first-child","\n margin-right: 12px;\n ")])]),x("bottom",[h("dots","\n transform: translateX(-50%);\n bottom: 12px;\n left: 50%;\n ",[x("line",[h("dot","\n margin: 0 4px;\n ")])]),h("dot","\n margin: 0 4px;\n "),h("arrow-group","\n bottom: 12px;\n right: 12px;\n ",[b("> *:first-child","\n margin-right: 12px;\n ")])]),x("fade",[h("slide","\n position: absolute;\n opacity: 0;\n transition-property: opacity;\n pointer-events: none;\n ",[x("current","\n opacity: 1;\n pointer-events: auto;\n ")])]),x("card",[h("slides","\n perspective: 1000px;\n "),h("slide","\n position: absolute;\n left: 50%;\n opacity: 0;\n transform: translateX(-50%) translateZ(-400px);\n transition-property: opacity, transform;\n ",[x("current","\n opacity: 1;\n transform: translateX(-50%) translateZ(0);\n z-index: 1;\n "),x("prev","\n opacity: 0.4;\n transform: translateX(-100%) translateZ(-200px);\n "),x("next","\n opacity: 0.4;\n transform: translateX(0%) translateZ(-200px);\n ")])])]),Qe=["transitionDuration","transitionTimingFunction"],Ge=Object.assign(Object.assign({},$.props),{defaultIndex:{type:Number,default:0},currentIndex:Number,showArrow:Boolean,dotType:{type:String,default:"dot"},dotPlacement:{type:String,default:"bottom"},slidesPerView:{type:[Number,String],default:1},spaceBetween:{type:Number,default:0},centeredSlides:Boolean,direction:{type:String,default:"horizontal"},autoplay:Boolean,interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},effect:{type:String,default:"slide"},showDots:{type:Boolean,default:!0},trigger:{type:String,default:"click"},transitionStyle:{type:Object,default:()=>({transitionDuration:"300ms"})},transitionProps:Object,draggable:Boolean,prevSlideStyle:[Object,String],nextSlideStyle:[Object,String],touchable:{type:Boolean,default:!0},mousewheel:Boolean,keyboard:Boolean,"onUpdate:currentIndex":Function,onUpdateCurrentIndex:Function});let Je=!1;const et=r({name:"Carousel",props:Ge,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=i(e),s=u(null),l=u(null),o=u([]),r={value:[]},d=v((()=>"vertical"===e.direction)),c=v((()=>d.value?"height":"width")),p=v((()=>d.value?"bottom":"right")),g=v((()=>"slide"===e.effect)),h=v((()=>e.loop&&1===e.slidesPerView&&g.value)),b=v((()=>"custom"===e.effect)),x=v((()=>!g.value||e.centeredSlides?1:e.slidesPerView)),j=v((()=>b.value?1:e.slidesPerView)),D=v((()=>"auto"===x.value||"auto"===e.slidesPerView&&e.centeredSlides)),z=u({width:0,height:0}),I=v((()=>{const{value:t}=o;if(!t.length)return[];const{value:n}=D;if(n)return t.map((e=>Ue(e)));const{value:a}=j,{value:s}=z,{value:l}=c;let r=s[l];if("auto"!==a){const{spaceBetween:t}=e;r=(r-(a-1)*t)*(1/Math.max(1,a))}const i=Object.assign(Object.assign({},s),{[l]:r});return t.map((()=>i))})),T=v((()=>{const{value:t}=I;if(!t.length)return[];const{centeredSlides:n,spaceBetween:a}=e,{value:s}=c,{[s]:l}=z.value;let o=0;return t.map((({[s]:e})=>{let t=o;return n&&(t+=(e-l)/2),o+=e+a,t}))})),L=u(!1),N=v((()=>{const{transitionStyle:t}=e;return t?y(t,Qe):{}})),E=v((()=>b.value?0:function(e){if(void 0===e)return 0;if("number"==typeof e)return e;const t=e.match(/^((\d+)?\.?\d+?)(ms|s)?$/);if(t){const[,e,,n="ms"]=t;return Number(e)*("ms"===n?1:1e3)}return 0}(N.value.transitionDuration))),U=v((()=>{const{value:t}=o;if(!t.length)return[];const n=!(D.value||1===j.value),a=e=>{if(n){const{value:t}=c;return{[t]:`${I.value[e][t]}px`}}};if(b.value)return t.map(((e,t)=>a(t)));const{effect:s,spaceBetween:l}=e,{value:r}=p;return t.reduce(((e,t,n)=>{const o=Object.assign(Object.assign({},a(n)),{[`margin-${r}`]:`${l}px`});return e.push(o),!L.value||"fade"!==s&&"card"!==s||Object.assign(o,N.value),e}),[])})),V=v((()=>{const{value:e}=x,{length:t}=o.value;if("auto"!==e)return Math.max(t-e,0)+1;{const{value:e}=I,{length:n}=e;if(!n)return t;const{value:a}=T,{value:s}=c,l=z.value[s];let o=e[e.length-1][s],r=n;for(;r>1&&o<l;)r--,o+=a[r]-a[r-1];return Ve(r+1,1,n)}})),O=v((()=>{return e=V.value,h.value&&e>3?e-2:e;var e})),B=Ne(e.defaultIndex,h.value),X=u(Re(B,V.value,h.value)),W=ge(w(e,"currentIndex"),X),Y=v((()=>Ne(W.value,h.value)));function K(t){var n,a;const s=Re(t=Ve(t,0,V.value-1),V.value,h.value),{value:l}=W;s!==W.value&&(X.value=s,null===(n=e["onUpdate:currentIndex"])||void 0===n||n.call(e,s,l),null===(a=e.onUpdateCurrentIndex)||void 0===a||a.call(e,s,l))}function Z(t=Y.value){return n=t,a=V.value,s=e.loop,n<0?null:0===n?s?a-1:null:n-1;var n,a,s}function H(t=Y.value){return n=t,a=V.value,s=e.loop,n>a-1?null:n===a-1?s?0:null:n+1;var n,a,s}function q(e){return Y.value===ce(e)}function Q(){return null===Z()}function G(){return null===H()}function J(e){const t=Ve(Ne(e,h.value),0,V.value);e===W.value&&t===Y.value||K(t)}function ee(){const e=Z();null!==e&&K(e)}function te(){const e=H();null!==e&&K(e)}let ne=!1,ae=0;const se=u({});function le(e,t=0){se.value=Object.assign({},N.value,{transform:d.value?`translateY(${-e}px)`:`translateX(${-e}px)`,transitionDuration:`${t}ms`})}function oe(e=0){g.value?re(Y.value,e):0!==ae&&(!ne&&e>0&&(ne=!0),le(ae=0,e))}function re(e,t){const n=ie(e);n!==ae&&t>0&&(ne=!0),ae=ie(Y.value),le(n,t)}function ie(e){let t;return t=e>=V.value-1?ue():T.value[e]||0,t}function ue(){if("auto"===x.value){const{value:e}=c,{[e]:t}=z.value,{value:n}=T,a=n[n.length-1];let s;if(void 0===a)s=t;else{const{value:t}=I;s=a+t[t.length-1][e]}return s-t}{const{value:e}=T;return e[V.value-1]||0}}const de={currentIndexRef:W,to:J,prev:function(){ne&&h.value||ee()},next:function(){ne&&h.value||te()},isVertical:()=>d.value,isHorizontal:()=>!d.value,isPrev:function(e){const t=ce(e);return null!==t&&Z()===t},isNext:function(e){const t=ce(e);return null!==t&&H()===t},isActive:q,isPrevDisabled:Q,isNextDisabled:G,getSlideIndex:ce,getSlideStyle:function(t){const n=ce(t);if(-1!==n){const t=[U.value[n]],a=de.isPrev(n),s=de.isNext(n);return a&&t.push(e.prevSlideStyle||""),s&&t.push(e.nextSlideStyle||""),A(t)}},addSlide:function(e){if(!e)return;o.value.push(e)},removeSlide:function(e){if(!e)return;const t=ce(e);-1!==t&&o.value.splice(t,1)},onCarouselItemClick:function(t,n){let a=!ne&&!we&&!_e;"card"===e.effect&&a&&!q(t)&&(J(t),a=!1);a||(n.preventDefault(),n.stopPropagation())}};function ce(e){return"number"==typeof e?e:e?o.value.indexOf(e):-1}a(Oe,de);let pe=null;function ve(){pe&&(clearInterval(pe),pe=null)}function me(){ve();!e.autoplay||O.value<2||(pe=window.setInterval(te,e.interval))}let fe=0,be=0,xe=0,ye=0,we=!1,_e=!1;function Pe(t){var n;if(Je)return;if(!(null===(n=l.value)||void 0===n?void 0:n.contains(F(t))))return;Je=!0,we=!0,_e=!1,ye=Date.now(),ve(),"touchstart"===t.type||t.target.isContentEditable||t.preventDefault();const a=Ee(t)?t.touches[0]:t;d.value?be=a.clientY:fe=a.clientX,e.touchable&&(M("touchmove",document,Se,{passive:!0}),M("touchend",document,ke),M("touchcancel",document,ke)),e.draggable&&(M("mousemove",document,Se),M("mouseup",document,ke))}function Se(e){const{value:t}=d,{value:n}=c,a=Ee(e)?e.touches[0]:e,s=t?a.clientY-be:a.clientX-fe,l=z.value[n];xe=Ve(s,-l,l),e.cancelable&&e.preventDefault(),g.value&&le(ae-xe,0)}function ke(){const{value:e}=Y;let t=e;if(!ne&&0!==xe&&g.value){const e=ae-xe,n=[...T.value.slice(0,V.value-1),ue()];let a=null;for(let s=0;s<n.length;s++){const l=Math.abs(n[s]-e);if(null!==a&&a<l)break;a=l,t=s}}if(t===e){const n=Date.now()-ye,{value:a}=c,s=z.value[a];xe>s/2||xe/n>.4?t=Z(e):(xe<-s/2||xe/n<-.4)&&(t=H(e))}null!==t&&t!==e?(_e=!0,K(t),k((()=>{h.value&&X.value===W.value||oe(E.value)}))):oe(E.value),$e(),me()}function $e(){we&&(Je=!1),we=!1,fe=0,be=0,xe=0,ye=0,R("touchmove",document,Se),R("touchend",document,ke),R("touchcancel",document,ke),R("mousemove",document,Se),R("mouseup",document,ke)}function Ce(e){if(e.preventDefault(),ne)return;let{deltaX:t,deltaY:n}=e;e.shiftKey&&!t&&(t=n);const a=(t||n)>0?1:-1;let s=0,l=0;d.value?l=a:s=a;(l*n>=10||s*t>=10)&&(1!==a||G()?-1!==a||Q()||ee():te())}m((()=>{_(me),requestAnimationFrame((()=>L.value=!0))})),f((()=>{$e(),ve()})),P((()=>{const{value:e}=o,{value:t}=r,n=new Map,a=e=>n.has(e)?n.get(e):-1;let s=!1;for(let l=0;l<e.length;l++){const a=t.findIndex((t=>t.el===e[l]));a!==l&&(s=!0),n.set(e[l],a)}s&&e.sort(((e,t)=>a(e)-a(t)))})),S(Y,((e,t)=>{if(e!==t)if(me(),g.value){if(h.value&&O.value>2){const{value:n}=V;e===n-2&&1===t?e=0:1===e&&t===n-2&&(e=n-1)}re(e,E.value)}else oe()}),{immediate:!0}),S([h,x],(()=>{k((()=>{K(Y.value)}))})),S(T,(()=>{g.value&&oe()}),{deep:!0}),S(g,(e=>{e?oe():(ne=!1,le(ae=0))}));const je=v((()=>({onTouchstartPassive:e.touchable?Pe:void 0,onMousedown:e.draggable?Pe:void 0,onWheel:e.mousewheel?Ce:void 0}))),De=v((()=>Object.assign(Object.assign({},y(de,["to","prev","next","isPrevDisabled","isNextDisabled"])),{total:O.value,currentIndex:W.value}))),ze=v((()=>({total:O.value,currentIndex:W.value,to:de.to}))),Ie={getCurrentIndex:()=>W.value,to:J,prev:ee,next:te},Te=$("Carousel","-carousel",qe,he,e,t),Le=v((()=>{const{common:{cubicBezierEaseInOut:e},self:{dotSize:t,dotColor:n,dotColorActive:a,dotColorFocus:s,dotLineWidth:l,dotLineWidthActive:o,arrowColor:r}}=Te.value;return{"--n-bezier":e,"--n-dot-color":n,"--n-dot-color-focus":s,"--n-dot-color-active":a,"--n-dot-size":t,"--n-dot-line-width":l,"--n-dot-line-width-active":o,"--n-arrow-color":r}})),Ae=n?C("carousel",void 0,Le,e):void 0;return Object.assign(Object.assign({mergedClsPrefix:t,selfElRef:s,slidesElRef:l,slideVNodes:r,duplicatedable:h,userWantsControl:b,autoSlideSize:D,displayIndex:W,realIndex:Y,slideStyles:U,translateStyle:se,slidesControlListeners:je,handleTransitionEnd:function(){if(g.value&&ne){const{value:e}=Y;re(e,0)}else me();g.value&&(se.value.transitionDuration="0ms"),ne=!1},handleResize:function(){z.value=Ue(s.value,!0),me()},handleSlideResize:function(){var e,t;D.value&&(null===(t=(e=I.effect).scheduler)||void 0===t||t.call(e),I.effect.run())},handleMouseenter:function(){e.autoplay&&ve()},handleMouseleave:function(){e.autoplay&&me()},isActive:function(e){return W.value===e},arrowSlotProps:De,dotSlotProps:ze},Ie),{cssVars:n?void 0:Le,themeClass:null==Ae?void 0:Ae.themeClass,onRender:null==Ae?void 0:Ae.onRender})},render(){var e;const{mergedClsPrefix:t,showArrow:a,userWantsControl:s,slideStyles:l,dotType:o,dotPlacement:r,slidesControlListeners:i,transitionProps:u={},arrowSlotProps:d,dotSlotProps:p,$slots:{default:v,dots:m,arrow:f}}=this,g=v&&j(v())||[];let h=g.reduce(((e,t)=>((e=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.name)===Ze})(t)&&e.push(t),e)),[]);return h.length||(h=g.map((e=>c(He,null,{default:()=>n(e)})))),this.duplicatedable&&(h=function(e){const{length:t}=e;return t>1?(e.push(Me(e[0],0,"append")),e.unshift(Me(e[t-1],t-1,"prepend")),e):e}(h)),this.slideVNodes.value=h,this.autoSlideSize&&(h=h.map((e=>c(D,{onResize:this.handleSlideResize},{default:()=>e})))),null===(e=this.onRender)||void 0===e||e.call(this),c("div",Object.assign({ref:"selfElRef",class:[this.themeClass,`${t}-carousel`,"vertical"===this.direction&&`${t}-carousel--vertical`,this.showArrow&&`${t}-carousel--show-arrow`,`${t}-carousel--${r}`,`${t}-carousel--${this.direction}`,`${t}-carousel--${this.effect}`,s&&`${t}-carousel--usercontrol`],style:this.cssVars},i,{onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave}),c(D,{onResize:this.handleResize},{default:()=>c("div",{ref:"slidesElRef",class:`${t}-carousel__slides`,role:"listbox",style:this.translateStyle,onTransitionend:this.handleTransitionEnd},s?h.map(((e,t)=>c("div",{style:l[t],key:t},I(c(L,Object.assign({},u),{default:()=>e}),[[T,this.isActive(t)]])))):h)}),this.showDots&&p.total>1&&z(m,p,(()=>[c(Xe,{key:o+r,total:p.total,currentIndex:p.currentIndex,dotType:o,trigger:this.trigger,keyboard:this.keyboard})])),a&&z(f,d,(()=>[c(Ke,null)])))}});const tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},nt=[U("path",{d:"M3.24 6.15C2.51 6.43 2 7.17 2 8v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1L3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z",fill:"currentColor"},null,-1)],at=r({name:"RadioFilled",render:function(e,t){return N(),E("svg",tt,nt)}}),st=["src","onClick"],lt=V({__name:"index",setup(e){const{t:t}=O(),n=B(),a=u(0),s=u("card"),l=u([]),o=()=>{window.innerWidth>680?(s.value="card",window.innerWidth>=1200&&window.innerWidth<=1500?a.value=window.innerWidth/5.5:window.innerWidth<=1500?a.value=window.innerWidth/5:a.value=300):(s.value="slide",a.value=window.innerWidth/3)};return m((()=>{Q().then((e=>{l.value=e.banners})),o(),window.addEventListener("resize",o)})),f((()=>{window.removeEventListener("resize",o)})),(e,o)=>{const r=be,i=He,u=et;return N(),E(H,null,[X(l)[0]?Y("",!0):(N(),W(r,{key:0,style:A({height:X(a)+"px"}),width:"100%",sharp:!1},null,8,["style"])),K(L,null,{default:Z((()=>[X(l)[0]?(N(),W(u,{key:0,autoplay:"",draggable:"",keyboard:"",class:"banner",effect:X(s),style:A({height:X(a)+"px"})},{default:Z((()=>[(N(!0),E(H,null,q(X(l),(e=>(N(),W(i,{class:"item",style:A("card"==X(s)?"width:60%":""),key:e},{default:Z((()=>[U("img",{src:e.imageUrl.replace(/^http:/,"https:")+"?imageView&quality=89",alt:"banner",onClick:a=>((e,a,s)=>{switch(e){case 1:n.push(`/song?id=${a}`);break;case 10:n.push(`/album?id=${a}`);break;case 1e3:n.push(`/playlist?id=${a}&page=1`);break;case 1004:n.push(`/video?id=${a}`);break;case 3e3:const e=setTimeout((()=>{window.open(s)}),2e3);$message.loading(t("general.message.jumpOut"),{closable:!0,duration:2e3,onClose:()=>{clearTimeout(e)}})}})(e.targetType,e.targetId,e.url)},null,8,st)])),_:2},1032,["style"])))),128))])),_:1},8,["effect","style"])):Y("",!0)])),_:1})],64)}}},[["__scopeId","data-v-3ebaa210"]]),ot={class:"paplaylists"},rt=V({__name:"PaPlayLists",setup(e){const t=B(),n=u([]);return m((()=>{((e=null,t=12)=>{ee(e,t).then((e=>{n.value=[],e.result?e.result.forEach((e=>{n.value.push({id:e.id,cover:e.picUrl,name:e.name,playCount:te(e.playCount)})})):$message.error("歌单推荐内容为空")}))})()})),(e,a)=>{const s=ye;return N(),E("div",ot,[K(s,{class:"title",prefix:"bar"},{default:Z((()=>[G(J(e.$t("home.title.playlists"))+" ",1),U("span",{class:"more",onClick:a[0]||(a[0]=e=>X(t).push("/discover/playlists?page=1"))},J(e.$t("home.title.more")),1)])),_:1}),K(xe,{listData:X(n),loadingNum:12,gridCollapsed:!0},null,8,["listData"])])}}},[["__scopeId","data-v-c0541ffb"]]),it={class:"paartists"},ut=V({__name:"PaArtists",setup(e){const t=B(),n=u([]),a=(e=-1,t=-1,a=6)=>{we(e,t,a).then((e=>{n.value=[],e.artists?e.artists.forEach((e=>{n.value.push({id:e.id,name:e.name,cover:e.img1v1Url,size:e.musicSize})})):$message.error("推荐歌手内容为空")}))},s=e=>{n.value=[],a(-1,e)};return m((()=>{a()})),(e,a)=>{const l=Pe,o=Se,r=ye;return N(),E("div",it,[K(r,{class:"title",prefix:"bar"},{default:Z((()=>[G(J(e.$t("home.title.artists"))+" ",1),K(o,{class:"tab","default-value":-1,size:"small","onUpdate:value":s},{default:Z((()=>[K(l,{name:-1},{default:Z((()=>[G(J(e.$t("general.type.all")),1)])),_:1}),K(l,{name:7},{default:Z((()=>[G(J(e.$t("general.type.china")),1)])),_:1}),K(l,{name:96},{default:Z((()=>[G(J(e.$t("general.type.western")),1)])),_:1}),K(l,{name:8},{default:Z((()=>[G(J(e.$t("general.type.japan")),1)])),_:1}),K(l,{name:16},{default:Z((()=>[G(J(e.$t("general.type.korea")),1)])),_:1})])),_:1}),U("span",{class:"more",onClick:a[0]||(a[0]=e=>X(t).push("/discover/artists?page=1"))},J(e.$t("home.title.more")),1)])),_:1}),K(_e,{listData:X(n),gridCollapsed:!0},null,8,["listData"])])}}},[["__scopeId","data-v-28d13608"]]),dt={class:"paalbum"},ct=V({__name:"PaAlbum",setup(e){const t=B(),n=u([]);return m((()=>{ne().then((e=>{n.value=[],e.albums?e.albums.forEach((e=>{n.value.push({id:e.id,cover:e.picUrl,name:e.name,artist:[e.artist],time:ae(e.publishTime)})})):$message.error("新碟上架内容为空")}))})),(e,a)=>{const s=ye;return N(),E("div",dt,[K(s,{class:"title",prefix:"bar"},{default:Z((()=>[G(J(e.$t("home.title.newAlbum"))+" ",1),U("span",{class:"more",onClick:a[0]||(a[0]=e=>X(t).push("/new-album?page=1"))},J(e.$t("home.title.more")),1)])),_:1}),K(xe,{listType:"album",listData:X(n),loadingNum:12,gridCollapsed:!0},null,8,["listData"])])}}},[["__scopeId","data-v-5cf9ba57"]]),pt=(e=>(ue("data-v-9736ca47"),e=e(),de(),e))((()=>U("div",{class:"gray"},null,-1))),vt={class:"text"},mt={class:"date"},ft={class:"desc"},gt={class:"control"},ht=V({__name:"PaDailySongs",setup(e){const t=se(),n=le(),a=B(),s=u(null),l=Math.floor(Math.random()*t.getDailySongs.length),o=()=>{var e;n.userLogin&&t.getDailySongs[0]?s.value=(null==(e=t.getDailySongs[l])?void 0:e.album.picUrl.replace(/^http:/,"https:"))+"?param=100y100":s.value="/img/music/pic/pic.jpg"},r=()=>{var e;if(n.userLogin)if(0!==t.getDailySongs.length){const n=null==(e=t.getPlaySongData)?void 0:e.id,a=t.getDailySongs.findIndex((e=>e.id===n));t.setPersonalFmMode(!1),t.setPlayState(!0),-1===a&&(t.setPlaylists(t.getDailySongs),t.addSongToPlaylists(t.getDailySongs[l]))}else $message.error("每日推荐获取失败，请刷新后重试");else $message.error("请登录账号后使用")};return m((()=>{o(),0===t.getDailySongs.length&&n.userLogin&&re().then((e=>{e.data.dailySongs?(t.setDailySongs(e.data.dailySongs),o()):$message.error("每日推荐获取失败")}))})),(e,t)=>{const n=ie,l=ze,o=Ie;return N(),E("div",{class:"padailysongs",style:A(`background-image: url(${X(s)})`),onClick:t[0]||(t[0]=e=>X(a).push("/dailySongs"))},[pt,U("div",vt,[U("div",mt,[K(n,{class:"calendar",component:X(ke),size:"40"},null,8,["component"]),K(l,{class:"num",innerHTML:(new Date).getDate()},null,8,["innerHTML"])]),U("div",ft,[K(l,{class:"title"},{default:Z((()=>[G(J(e.$t("home.modules.dailySongs.title")),1)])),_:1}),K(l,{class:"tip"},{default:Z((()=>[G(J(e.$t("home.modules.dailySongs.subtitle")),1)])),_:1})])]),U("div",gt,[K(o,{class:"cover",src:X(s),"fallback-src":"/img/music/pic/default.png"},null,8,["src"]),K(n,{class:"play",component:X($e),size:"50",onClick:oe(r,["stop"])},null,8,["component"])])],4)}}},[["__scopeId","data-v-9736ca47"]]),bt=(e=>(ue("data-v-6194c1e6"),e=e(),de(),e))((()=>U("div",{class:"gray"},null,-1))),xt=["src"],yt={class:"data"},wt={class:"info"},_t={class:"controls"},Pt={class:"radio"},St={class:"icon"},kt={key:0,class:"tip"},$t=V({__name:"PaPersonalFm",setup(e){const t=se(),n=le(),a=B(),s=()=>{t.getPersonalFmMode?t.setPlayState(!t.getPlayState):(t.setPersonalFmMode(!0),t.setPlayState(!0))},l=()=>{t.setPersonalFmMode(!0),t.setPlaySongIndex("next")};return m((()=>{t.getPersonalFmData.id||t.setPersonalFmData()})),(e,o)=>{var r;const i=ie;return(null==(r=X(t).getPersonalFmData)?void 0:r.id)?(N(),E("div",{key:0,class:"papersonalfm",style:A(`background-image: url(${X(t).getPersonalFmData.album.picUrl.replace(/^http:/,"https:")}?param=300y300)`)},[bt,U("img",{class:"pic",src:X(t).getPersonalFmData.album.picUrl.replace(/^http:/,"https:")+"?param=300y300",alt:"pic"},null,8,xt),U("div",yt,[U("div",wt,[U("span",{class:"name text-hidden",onClick:o[0]||(o[0]=e=>X(a).push(`/song?id=${X(t).getPersonalFmData.id}`))},J(X(t).getPersonalFmData.name),1),K(Te,{class:"text-hidden",artistsData:X(t).getPersonalFmData.artist},null,8,["artistsData"])]),U("div",_t,[K(i,{class:"state",size:"46",component:X(t).getPersonalFmMode&&X(t).getPlayState?X(Ce):X($e),onClick:s},null,8,["component"]),K(i,{class:"next",size:"30",component:X(je),onClick:l},null,8,["component"]),K(i,{class:"dislike",size:"20",component:X(De),onClick:o[1]||(o[1]=e=>X(t).setFmDislike(X(t).getPersonalFmData.id))},null,8,["component"]),U("div",Pt,[U("div",St,[K(i,{size:"20",component:X(at)},null,8,["component"]),U("span",null,J(e.$t("home.modules.papersonalfm.title")),1)]),X(n).userLogin?Y("",!0):(N(),E("span",kt,J(e.$t("home.modules.papersonalfm.subtitle")),1))])])])],4)):Y("",!0)}}},[["__scopeId","data-v-6194c1e6"]]),Ct=(e=>(ue("data-v-c5670a1e"),e=e(),de(),e))((()=>U("div",{class:"gray"},null,-1))),jt={class:"left"},Dt={class:"title"},zt={class:"right"},It=V({__name:"PaRadar",setup(e){const t=B(),n=u(3136952023);return(e,a)=>{const s=ie,l=ze;return N(),E("div",{class:"radar",onClick:a[0]||(a[0]=e=>X(t).push(`/playlist?id=${X(n)}&page=1`))},[Ct,U("div",jt,[K(s,{class:"icon",component:X(ce),size:"30"},null,8,["component"]),U("div",Dt,[K(l,{class:"name"},{default:Z((()=>[G(J(e.$t("home.modules.radar.title")),1)])),_:1}),K(l,{class:"tip"},{default:Z((()=>[G(J(e.$t("home.modules.radar.subtitle")),1)])),_:1})])]),U("div",zt,[K(s,{class:"icon",component:X(pe),size:"20"},null,8,["component"])])])}}},[["__scopeId","data-v-c5670a1e"]]),Tt=(e=>(ue("data-v-6b25714d"),e=e(),de(),e))((()=>U("div",{class:"gray"},null,-1))),Lt={class:"left"},At={class:"title"},Ft={class:"right"},Mt=V({__name:"PaLikeSongs",setup(e){const t=B(),n=le(),a=u(null),s=e=>{var t;if(n.userLogin&&n.getUserPlayLists.own[0]){const s=e??Math.floor(Math.random()*n.getUserPlayLists.own.length);a.value=(null==(t=n.getUserPlayLists.own[s])?void 0:t.cover.replace(/^http:/,"https:"))+"?param=100y100"}else a.value="/img/music/pic/pic.jpg"},l=()=>{var e;if(n.userLogin){const a=null==(e=n.getUserPlayLists.own[0])?void 0:e.id;a?t.push(`/playlist?id=${a}&page=1`):console.error("发生错误")}else $message.error("请登录账号后使用"),t.push("/login")};return m((()=>{s(),!n.userLogin||n.getUserPlayLists.has||n.getUserPlayLists.isLoading||n.setUserPlayLists((()=>{s()}))})),(e,t)=>{const n=ie,s=ze;return N(),E("div",{class:"like-song",style:A(`background-image: url(${X(a)})`),onClick:l},[Tt,U("div",Lt,[K(n,{class:"icon",component:X(ve),size:"30"},null,8,["component"]),U("div",At,[K(s,{class:"name"},{default:Z((()=>[G(J(e.$t("home.modules.likeSong.title")),1)])),_:1}),K(s,{class:"tip"},{default:Z((()=>[G(J(e.$t("home.modules.likeSong.subtitle")),1)])),_:1})])]),U("div",Ft,[K(n,{class:"icon",component:X(pe),size:"20"},null,8,["component"])])],4)}}},[["__scopeId","data-v-6b25714d"]]),Rt={class:"home"},Nt=V({__name:"HomeView",setup(e){const t=me();return m((()=>{"undefined"!=typeof $setSiteTitle&&$setSiteTitle({}.VITE_SITE_TITLE),"undefined"!=typeof $scrollToTop&&$scrollToTop()})),(e,n)=>{const a=ye,s=Ae,l=Le;return N(),E("div",Rt,[X(t).bannerShow?(N(),W(lt,{key:0})):Y("",!0),K(a,{class:"title",prefix:"bar"},{default:Z((()=>[G(J(e.$t("home.title.exclusive")),1)])),_:1}),K(l,{class:"recommend","x-gap":20,cols:2},{default:Z((()=>[K(s,{class:"rec-left"},{default:Z((()=>[K(ht),K(l,{class:"rec-func","x-gap":"12",cols:2},{default:Z((()=>[K(s,null,{default:Z((()=>[K(It)])),_:1}),K(s,null,{default:Z((()=>[K(Mt)])),_:1})])),_:1})])),_:1}),K(s,{class:"rec-right"},{default:Z((()=>[K($t)])),_:1})])),_:1}),K(rt),K(ut),K(ct)])}}},[["__scopeId","data-v-7a00eb92"]]);export{Nt as default};
