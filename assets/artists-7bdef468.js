import{_ as e,d8 as a,cP as t,e as r,Y as s,f as l,o as i,c as o,d as u,a as n,w as p,u as m,F as y,x as v,b as c,t as g,j as d,k as j,q as h,g as f}from"./index-d93ecfd9.js";import{g as k}from"./artist-160951aa.js";import{A as _}from"./ArtistLists-5eb717c1.js";import{_ as q}from"./Space-76cfe381.js";import{_ as C}from"./Tag-9bd41f20.js";import"./Spin-c12f3861.js";import"./light-f8d78f18.js";import"./use-compitable-f583eb1a.js";import"./Avatar-d697b90d.js";import"./utils-5d91cb42.js";import"./light-d2124738.js";import"./text-f881741e.js";import"./light-6dc1ea6d.js";import"./Grid-86a1f343.js";import"./next-frame-once-924ab492.js";import"./get-slot-a0e67e91.js";import"./Skeleton-8803bfe7.js";import"./use-houdini-2a8f5bbb.js";import"./Dropdown-ca523edc.js";import"./Popover-92ca2497.js";import"./light-f76c98be.js";import"./Follower-829f72e1.js";import"./cssr-2139d5e3.js";import"./use-merged-state-bb55b613.js";import"./create-07671515.js";import"./light-5ced6f1c.js";import"./create-ref-setter-ee697025.js";import"./_common-89f2509f.js";import"./_common-991711fd.js";const w={class:"artists"},F={class:"menu"},b=e({__name:"artists",setup(e){const{t:b}=a(),x=t(),A=[{key:"-1",value:b("general.type.hot")},...Array.from({length:26},((e,a)=>String.fromCharCode(a+65))).map((e=>({key:e,value:e}))),{key:"0",value:"#"}],G=r(x.currentRoute.value.query.initial?x.currentRoute.value.query.initial:A[0].key),R=[b("general.type.all"),b("general.type.china"),b("general.type.chinaMale"),b("general.type.chinaFemale"),b("general.type.chinaGroup"),b("general.type.western"),b("general.type.westernMale"),b("general.type.westernFemale"),b("general.type.westernGroup"),b("general.type.japan"),b("general.type.japanMale"),b("general.type.japanFemale"),b("general.type.japanGroup"),b("general.type.korea"),b("general.type.koreaMale"),b("general.type.koreaFemale"),b("general.type.koreaGroup"),b("general.type.other")],S=[-1,-1,1,2,3,-1,1,2,3,-1,1,2,3,-1,1,2,3,-1],M=[-1,7,7,7,7,96,96,96,96,8,8,8,8,16,16,16,16,0],z=r(x.currentRoute.value.query.type?Number(x.currentRoute.value.query.type):0),$=r([]),D=r(0),I=r(!0),N=r(!1),P=(e=-1,a=-1,t=30,r=0,s=-1)=>{k(e,a,t,r,s).then((e=>{e.artists[0]?(e.more?I.value=!0:I.value=!1,N.value=!1,e.artists.forEach((e=>{$.value.push({id:e.id,name:e.name,cover:e.img1v1Url,size:e.musicSize})}))):(I.value=!1,$message.error(b("general.message.acquisitionFailed")))}))},T=()=>{N.value=!0,D.value+=30,P(S[z.value],M[z.value],30,D.value,G.value)};return s((()=>x.currentRoute.value),(e=>{z.value=Number(e.query.type?e.query.type:0),G.value=e.query.initial?e.query.initial:A[0].key,D.value=0,"dsc-artists"==e.name&&($.value=[],P(S[z.value],M[z.value],30,0,G.value))})),l((()=>{$setSiteTitle(b("nav.discover")+" - "+b("nav.discoverChildren.artists")),P(S[z.value],M[z.value],30,0,G.value)})),(e,a)=>{const t=C,r=q,s=f;return i(),o("div",w,[u("div",F,[n(r,{class:"initial"},{default:p((()=>[(i(),o(y,null,v(A,(e=>n(t,{class:"tag",round:"",key:e,bordered:!1,type:e.key==m(G)?"primary":"default",onClick:a=>{return t=e.key,$.value=[],void x.push({path:"/discover/artists",query:{type:z.value,initial:t,page:1}});var t}},{default:p((()=>[c(g(e.value),1)])),_:2},1032,["type","onClick"]))),64))])),_:1}),n(r,{class:"category"},{default:p((()=>[(i(),o(y,null,v(R,((e,a)=>n(t,{class:d(["tag",e.length>2?"hidden":"show"]),round:"",key:e,bordered:!1,type:a==m(z)?"primary":"default",onClick:e=>(e=>{$.value=[],x.push({path:"/discover/artists",query:{type:e,initial:G.value,page:1}})})(a)},{default:p((()=>[c(g(e),1)])),_:2},1032,["class","type","onClick"]))),64))])),_:1})]),n(_,{listData:m($),loadingNum:30},null,8,["listData"]),n(r,{justify:"center"},{default:p((()=>[m(I)?(i(),j(s,{key:0,class:"more",size:"large",strong:"",secondary:"",round:"",loading:m(N),onClick:T},{default:p((()=>[c(g(e.$t("general.name.loadMore")),1)])),_:1},8,["loading"])):h("",!0)])),_:1})])}}},[["__scopeId","data-v-a3957076"]]);export{b as default};
