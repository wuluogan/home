import{y as e,e as t,D as n,d2 as r,s as o,C as a,ar as s,Q as i,Y as l,i as d,aL as c,d3 as u,a8 as h,bq as b,br as m,bp as v,m as p,v as f,z as g,bH as w,ac as y,bj as $,H as z,P as S,cz as x,$ as C,a0 as k,a4 as B,bW as E,aJ as O,A as F,Z as M,G as R,d4 as P,ab as D,bu as T,bv as A,X as j,d5 as U,ag as H,bS as L}from"./index-d93ecfd9.js";import{d as X}from"./light-51fd1fd4.js";import{u as Y}from"./use-merged-state-bb55b613.js";const I=e({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const p=t(!!e.show),g=t(null),w=n(r);let y=0,$="",z=null;const S=t(!1),x=t(!1),C=o((()=>"top"===e.placement||"bottom"===e.placement)),{mergedClsPrefixRef:k,mergedRtlRef:B}=a(e),E=s("Drawer",B,k),{doUpdateHeight:O,doUpdateWidth:F}=w,M=t=>{var n,r;if(x.value)if(C.value){let r=(null===(n=g.value)||void 0===n?void 0:n.offsetHeight)||0;const o=y-t.clientY;r+="bottom"===e.placement?o:-o,O(r),y=t.clientY}else{let n=(null===(r=g.value)||void 0===r?void 0:r.offsetWidth)||0;const o=y-t.clientX;n+="right"===e.placement?o:-o,F(n),y=t.clientX}},R=()=>{x.value&&(y=0,x.value=!1,document.body.style.cursor=$,document.body.removeEventListener("mousemove",M),document.body.removeEventListener("mouseup",R),document.body.removeEventListener("mouseleave",P))},P=R;i((()=>{e.show&&(p.value=!0)})),l((()=>e.show),(e=>{e||R()})),d((()=>{R()}));const D=o((()=>{const{show:t}=e,n=[[f,t]];return e.showMask||n.push([c,e.onClickoutside,void 0,{capture:!0}]),n}));return u(o((()=>e.blockScroll&&p.value))),h(b,g),h(m,null),h(v,null),{bodyRef:g,rtlEnabled:E,mergedClsPrefix:w.mergedClsPrefixRef,isMounted:w.isMountedRef,mergedTheme:w.mergedThemeRef,displayed:p,transitionName:o((()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"}[e.placement]))),handleAfterLeave:function(){var t;p.value=!1,null===(t=e.onAfterLeave)||void 0===t||t.call(e)},bodyDirectives:D,handleMousedownResizeTrigger:e=>{x.value=!0,y=C.value?e.clientY:e.clientX,$=document.body.style.cursor,document.body.style.cursor=C.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",M),document.body.addEventListener("mouseleave",P),document.body.addEventListener("mouseup",R)},handleMouseenterResizeTrigger:()=>{null!==z&&(window.clearTimeout(z),z=null),x.value?S.value=!0:z=window.setTimeout((()=>{S.value=!0}),300)},handleMouseleaveResizeTrigger:()=>{null!==z&&(window.clearTimeout(z),z=null),S.value=!1},isDragging:x,isHoverOnResizeTrigger:S}},render(){const{$slots:e,mergedClsPrefix:t}=this;return"show"===this.displayDirective||this.displayed||this.show?p(g("div",{role:"none"},g(w,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>g(y,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>p(g("div",$(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?g("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?g("div",{class:`${t}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},e):g(z,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${t}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[f,"if"===this.displayDirective||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:W,cubicBezierEaseOut:_}=x;const{cubicBezierEaseIn:N,cubicBezierEaseOut:q}=x;const{cubicBezierEaseIn:V,cubicBezierEaseOut:G}=x;const{cubicBezierEaseIn:J,cubicBezierEaseOut:Q}=x;const Z=S([C("drawer","\n word-break: break-word;\n line-height: var(--n-line-height);\n position: absolute;\n pointer-events: all;\n box-shadow: var(--n-box-shadow);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n background-color: var(--n-color);\n color: var(--n-text-color);\n box-sizing: border-box;\n ",[function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-right"}={}){return[S(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${W}`}),S(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${_}`}),S(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),S(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),S(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),S(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-left"}={}){return[S(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${N}`}),S(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${q}`}),S(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),S(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),S(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),S(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-top"}={}){return[S(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${V}`}),S(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${G}`}),S(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),S(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),S(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),S(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-bottom"}={}){return[S(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${J}`}),S(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Q}`}),S(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),S(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),S(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),S(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}(),k("unselectable","\n user-select: none; \n -webkit-user-select: none;\n "),k("native-scrollbar",[C("drawer-content-wrapper","\n overflow: auto;\n height: 100%;\n ")]),B("resize-trigger","\n position: absolute;\n background-color: #0000;\n transition: background-color .3s var(--n-bezier);\n ",[k("hover","\n background-color: var(--n-resize-trigger-color-hover);\n ")]),C("drawer-content-wrapper","\n box-sizing: border-box;\n "),C("drawer-content","\n height: 100%;\n display: flex;\n flex-direction: column;\n ",[k("native-scrollbar",[C("drawer-body-content-wrapper","\n height: 100%;\n overflow: auto;\n ")]),C("drawer-body","\n flex: 1 0 0;\n overflow: hidden;\n "),C("drawer-body-content-wrapper","\n box-sizing: border-box;\n padding: var(--n-body-padding);\n "),C("drawer-header","\n font-weight: var(--n-title-font-weight);\n line-height: 1;\n font-size: var(--n-title-font-size);\n color: var(--n-title-text-color);\n padding: var(--n-header-padding);\n transition: border .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-divider-color);\n border-bottom: var(--n-header-border-bottom);\n display: flex;\n justify-content: space-between;\n align-items: center;\n ",[B("close","\n margin-left: 6px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")]),C("drawer-footer","\n display: flex;\n justify-content: flex-end;\n border-top: var(--n-footer-border-top);\n transition: border .3s var(--n-bezier);\n padding: var(--n-footer-padding);\n ")]),k("right-placement","\n top: 0;\n bottom: 0;\n right: 0;\n ",[B("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n left: 0;\n transform: translateX(-1.5px);\n cursor: ew-resize;\n ")]),k("left-placement","\n top: 0;\n bottom: 0;\n left: 0;\n ",[B("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n right: 0;\n transform: translateX(1.5px);\n cursor: ew-resize;\n ")]),k("top-placement","\n top: 0;\n left: 0;\n right: 0;\n ",[B("resize-trigger","\n width: 100%;\n height: 3px;\n bottom: 0;\n left: 0;\n transform: translateY(1.5px);\n cursor: ns-resize;\n ")]),k("bottom-placement","\n left: 0;\n bottom: 0;\n right: 0;\n ",[B("resize-trigger","\n width: 100%;\n height: 3px;\n top: 0;\n left: 0;\n transform: translateY(-1.5px);\n cursor: ns-resize;\n ")])]),S("body",[S(">",[C("drawer-container",{position:"fixed"})])]),C("drawer-container","\n position: relative;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n ",[S("> *",{pointerEvents:"all"})]),C("drawer-mask","\n background-color: rgba(0, 0, 0, .3);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[k("invisible","\n background-color: rgba(0, 0, 0, 0)\n "),E({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),K=e({name:"Drawer",inheritAttrs:!1,props:Object.assign(Object.assign({},F.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),setup(e){const{mergedClsPrefixRef:n,namespaceRef:s,inlineThemeDisabled:i}=a(e),l=O(),d=F("Drawer","-drawer",Z,X,e,n),c=t(e.defaultWidth),u=t(e.defaultHeight),b=Y(M(e,"width"),c),m=Y(M(e,"height"),u),v=o((()=>{const{placement:t}=e;return"top"===t||"bottom"===t?"":R(b.value)})),p=o((()=>{const{placement:t}=e;return"left"===t||"right"===t?"":R(m.value)})),f=o((()=>[{width:v.value,height:p.value},e.drawerStyle||""]));const g=P();function w(t){const{onHide:n,onUpdateShow:r,"onUpdate:show":o}=e;r&&j(r,t),o&&j(o,t),n&&!t&&j(n,t)}h(r,{isMountedRef:l,mergedThemeRef:d,mergedClsPrefixRef:n,doUpdateShow:w,doUpdateHeight:t=>{const{onUpdateHeight:n,"onUpdate:width":r}=e;n&&j(n,t),r&&j(r,t),u.value=t},doUpdateWidth:t=>{const{onUpdateWidth:n,"onUpdate:width":r}=e;n&&j(n,t),r&&j(r,t),c.value=t}});const y=o((()=>{const{common:{cubicBezierEaseInOut:e,cubicBezierEaseIn:t,cubicBezierEaseOut:n},self:{color:r,textColor:o,boxShadow:a,lineHeight:s,headerPadding:i,footerPadding:l,bodyPadding:c,titleFontSize:u,titleTextColor:h,titleFontWeight:b,headerBorderBottom:m,footerBorderTop:v,closeIconColor:p,closeIconColorHover:f,closeIconColorPressed:g,closeColorHover:w,closeColorPressed:y,closeIconSize:$,closeSize:z,closeBorderRadius:S,resizableTriggerColorHover:x}}=d.value;return{"--n-line-height":s,"--n-color":r,"--n-text-color":o,"--n-box-shadow":a,"--n-bezier":e,"--n-bezier-out":n,"--n-bezier-in":t,"--n-header-padding":i,"--n-body-padding":c,"--n-footer-padding":l,"--n-title-text-color":h,"--n-title-font-size":u,"--n-title-font-weight":b,"--n-header-border-bottom":m,"--n-footer-border-top":v,"--n-close-icon-color":p,"--n-close-icon-color-hover":f,"--n-close-icon-color-pressed":g,"--n-close-size":z,"--n-close-color-hover":w,"--n-close-color-pressed":y,"--n-close-icon-size":$,"--n-close-border-radius":S,"--n-resize-trigger-color-hover":x}})),$=i?D("drawer",void 0,y,e):void 0;return{mergedClsPrefix:n,namespace:s,mergedBodyStyle:f,handleMaskClick:function(t){const{onMaskClick:n,maskClosable:r}=e;r&&w(!1),n&&n(t)},handleEsc:function(t){var n;null===(n=e.onEsc)||void 0===n||n.call(e),e.show&&e.closeOnEsc&&U(t)&&!g.value&&w(!1)},mergedTheme:d,cssVars:i?void 0:y,themeClass:null==$?void 0:$.themeClass,onRender:null==$?void 0:$.onRender,isMounted:l}},render(){const{mergedClsPrefix:e}=this;return g(A,{to:this.to,show:this.show},{default:()=>{var t;return null===(t=this.onRender)||void 0===t||t.call(this),p(g("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?g(y,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?g("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,"transparent"===this.showMask&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,g(I,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[T,{zIndex:this.zIndex,enabled:this.show}]])}})}}),ee=e({name:"DrawerContent",props:{title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},setup(){const e=n(r,null);e||H("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;return{handleCloseClick:function(){t(!1)},mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:n,mergedTheme:r,bodyStyle:o,bodyContentStyle:a,headerStyle:s,footerStyle:i,scrollbarProps:l,closable:d,$slots:c}=this;return g("div",{role:"none",class:[`${t}-drawer-content`,n&&`${t}-drawer-content--native-scrollbar`]},c.header||e||d?g("div",{class:`${t}-drawer-header`,style:s,role:"none"},g("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},void 0!==c.header?c.header():e),d&&g(L,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,n?g("div",{class:`${t}-drawer-body`,style:o,role:"none"},g("div",{class:`${t}-drawer-body-content-wrapper`,style:a,role:"none"},c)):g(z,Object.assign({themeOverrides:r.peerOverrides.Scrollbar,theme:r.peers.Scrollbar},l,{class:`${t}-drawer-body`,contentClass:`${t}-drawer-body-content-wrapper`,contentStyle:a}),c),c.footer?g("div",{class:`${t}-drawer-footer`,style:i,role:"none"},c.footer()):null)}});export{ee as _,K as a};
