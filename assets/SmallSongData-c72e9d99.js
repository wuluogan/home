import{_ as a,cN as s,cB as t,e,Y as n,f as l,o,c as i,a as r,u as c,d as m,ae as p,k as u,q as g,n as d,dm as D}from"./index-c72c5b0c.js";import{A as f}from"./AllArtists-b2fee903.js";import{_ as y}from"./Avatar-62f97100.js";import{_ as v}from"./text-64fc9966.js";const h={class:"smallSongData"},S=a({__name:"SmallSongData",props:{songData:{type:Object,default:null},notJump:{type:Boolean,default:!1},getDataByID:{type:String,default:null}},setup(a,{expose:S}){const{t:_}=s(),k=t(),x=a,B=e(x.songData),b=a=>{D(a).then((a=>{a.songs[0]?B.value={album:a.songs[0].al,artist:a.songs[0].ar,name:a.songs[0].name,id:a.songs[0].id}:$message.error(_("general.message.acquisitionFailed"))}))};return S({checkSongData:()=>!!B.value}),n((()=>x.getDataByID),(a=>{b(a)})),n((()=>x.songData),(a=>{B.value=a})),l((()=>{x.songData&&(B.value=x.songData),x.getDataByID&&b(x.getDataByID)})),(s,t)=>{const e=y,n=v;return o(),i("div",h,[r(e,{class:"pic",size:48,src:c(B)&&c(B).album?c(B).album.picUrl.replace(/^http:/,"https:")+"?param=60y60":"/img/music/pic/default.png","fallback-src":"/img/music/pic/default.png"},null,8,["src"]),m("div",{class:"name",style:d(a.notJump?"pointer-events: none":null)},[r(n,{class:"text-hidden",depth:"2",innerHTML:c(B)?c(B).name:s.$t("general.name.unknownSong"),onClick:t[0]||(t[0]=p((a=>c(k).push(`/music/song?id=${c(B).id}`)),["stop"]))},null,8,["innerHTML"]),c(B)&&c(B).artist?(o(),u(f,{key:0,class:"text-hidden",artistsData:c(B).artist},null,8,["artistsData"])):g("",!0)],4)])}}},[["__scopeId","data-v-edaecafa"]]);export{S};
