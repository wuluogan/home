import{_ as e,cN as a,cB as t,e as r,Y as s,f as l,o as i,c as o,d as u,a as n,w as p,u as m,F as y,x as c,b as v,t as g,j as d,k as j,q as h,g as k}from"./index-c72c5b0c.js";import{g as f}from"./artist-5e2ec7cd.js";import{A as _}from"./ArtistLists-2a9d0da1.js";import{_ as q}from"./Space-5d75b1a8.js";import{_ as w}from"./Tag-827106b2.js";import"./LinkTwo-8d6bc0a2.js";import"./light-bf1b7eb7.js";import"./use-compitable-a1866e01.js";import"./Unlike-d603c2d2.js";import"./Avatar-62f97100.js";import"./utils-48198701.js";import"./light-4ec95d76.js";import"./text-64fc9966.js";import"./light-a7677734.js";import"./Grid-1728937a.js";import"./next-frame-once-924ab492.js";import"./get-slot-a0e67e91.js";import"./Skeleton-163a49d9.js";import"./use-houdini-1a86f12f.js";import"./Dropdown-db0b14d8.js";import"./Popover-87b27d79.js";import"./light-cb0cf260.js";import"./Follower-ef4b8179.js";import"./cssr-ed8d5782.js";import"./use-merged-state-74230ec8.js";import"./create-07671515.js";import"./light-37eaa122.js";import"./create-ref-setter-ee697025.js";import"./_common-89f2509f.js";import"./_common-991711fd.js";const C={class:"artists"},b={class:"menu"},F=e({__name:"artists",setup(e){const{t:F}=a(),x=t(),A=[{key:"-1",value:F("general.type.hot")},...Array.from({length:26},((e,a)=>String.fromCharCode(a+65))).map((e=>({key:e,value:e}))),{key:"0",value:"#"}],G=r(x.currentRoute.value.query.initial?x.currentRoute.value.query.initial:A[0].key),M=[F("general.type.all"),F("general.type.china"),F("general.type.chinaMale"),F("general.type.chinaFemale"),F("general.type.chinaGroup"),F("general.type.western"),F("general.type.westernMale"),F("general.type.westernFemale"),F("general.type.westernGroup"),F("general.type.japan"),F("general.type.japanMale"),F("general.type.japanFemale"),F("general.type.japanGroup"),F("general.type.korea"),F("general.type.koreaMale"),F("general.type.koreaFemale"),F("general.type.koreaGroup"),F("general.type.other")],N=[-1,-1,1,2,3,-1,1,2,3,-1,1,2,3,-1,1,2,3,-1],R=[-1,7,7,7,7,96,96,96,96,8,8,8,8,16,16,16,16,0],S=r(x.currentRoute.value.query.type?Number(x.currentRoute.value.query.type):0),$=r([]),D=r(0),T=r(!0),z=r(!1),E=(e=-1,a=-1,t=30,r=0,s=-1)=>{f(e,a,t,r,s).then((e=>{e.artists[0]?(e.more?T.value=!0:T.value=!1,z.value=!1,e.artists.forEach((e=>{$.value.push({id:e.id,name:e.name,cover:e.img1v1Url,size:e.musicSize})}))):(T.value=!1,$message.error(F("general.message.acquisitionFailed")))}))},L=()=>{z.value=!0,D.value+=30,E(N[S.value],R[S.value],30,D.value,G.value)};return s((()=>x.currentRoute.value),(e=>{S.value=Number(e.query.type?e.query.type:0),G.value=e.query.initial?e.query.initial:A[0].key,D.value=0,"dsc-artists"==e.name&&($.value=[],E(N[S.value],R[S.value],30,0,G.value))})),l((()=>{$setSiteTitle(F("nav.discover")+" - "+F("nav.discoverChildren.artists")),E(N[S.value],R[S.value],30,0,G.value)})),(e,a)=>{const t=w,r=q,s=k;return i(),o("div",C,[u("div",b,[n(r,{class:"initial"},{default:p((()=>[(i(),o(y,null,c(A,(e=>n(t,{class:"tag",round:"",key:e,bordered:!1,type:e.key==m(G)?"primary":"default",onClick:a=>{return t=e.key,$.value=[],void x.push({path:"/music/discover/artists",query:{type:S.value,initial:t,page:1}});var t}},{default:p((()=>[v(g(e.value),1)])),_:2},1032,["type","onClick"]))),64))])),_:1}),n(r,{class:"category"},{default:p((()=>[(i(),o(y,null,c(M,((e,a)=>n(t,{class:d(["tag",e.length>2?"hidden":"show"]),round:"",key:e,bordered:!1,type:a==m(S)?"primary":"default",onClick:e=>(e=>{$.value=[],x.push({path:"/music/discover/artists",query:{type:e,initial:G.value,page:1}})})(a)},{default:p((()=>[v(g(e),1)])),_:2},1032,["class","type","onClick"]))),64))])),_:1})]),n(_,{listData:m($),loadingNum:30},null,8,["listData"]),n(r,{justify:"center"},{default:p((()=>[m(T)?(i(),j(s,{key:0,class:"more",size:"large",strong:"",secondary:"",round:"",loading:m(z),onClick:L},{default:p((()=>[v(g(e.$t("general.name.loadMore")),1)])),_:1},8,["loading"])):h("",!0)])),_:1})])}}},[["__scopeId","data-v-9c118bb1"]]);export{F as default};
