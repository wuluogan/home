import{c as t}from"./artist-160951aa.js";import{_ as e,cP as r,e as s,f as o,Y as i,o as a,c as m,a as p,u,dQ as l}from"./index-d93ecfd9.js";import{C as j}from"./CoverLists-0e646f28.js";import{P as n}from"./index-e01b8113.js";import"./album-72ad8940.js";import"./AllArtists-e33e1687.js";import"./text-f881741e.js";import"./use-compitable-f583eb1a.js";import"./light-6dc1ea6d.js";import"./Input-19ebdc3b.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./use-merged-state-bb55b613.js";import"./light-1b9db3a7.js";import"./FormItem-ccd063f6.js";import"./light-d411e82b.js";import"./Popover-92ca2497.js";import"./light-f76c98be.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./Select-d00ca0af.js";import"./create-07671515.js";import"./light-25af1eec.js";import"./light-16e65505.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./Empty-d19cae85.js";import"./Space-76cfe381.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./getCoverUrl-bb08aa65.js";import"./Spin-c12f3861.js";import"./light-f8d78f18.js";import"./Image-46cbaef1.js";import"./utils-5d91cb42.js";import"./light-c2ad2c79.js";import"./Tooltip-0ede3859.js";import"./Grid-86a1f343.js";import"./Skeleton-8803bfe7.js";import"./use-houdini-2a8f5bbb.js";import"./Dropdown-ca523edc.js";import"./light-5ced6f1c.js";import"./create-ref-setter-ee697025.js";import"./Pagination-eed167c0.js";import"./light-f5dc26c8.js";const g={class:"albums"},v=e({__name:"albums",setup(e){const v=r(),c=s(v.currentRoute.value.query.id),h=s([]),d=s(30),b=s(v.currentRoute.value.query.page?Number(v.currentRoute.value.query.page):1),f=s(0),y=(e,r=30,s=0)=>{t(e,r,s).then((t=>{f.value=t.artist.albumSize,h.value=[],t.hotAlbums?t.hotAlbums.forEach((t=>{h.value.push({id:t.id,cover:t.picUrl,name:t.name,artist:t.artists,time:l(t.publishTime)})})):$message.error("搜索内容为空"),"undefined"!=typeof $scrollToTop&&$scrollToTop()}))},S=t=>{v.push({path:"/artist/albums",query:{id:c.value,page:t}})},x=t=>{d.value=t,y(c.value,t,(b.value-1)*d.value)};return o((()=>{y(c.value,d.value,(b.value-1)*d.value)})),i((()=>v.currentRoute.value),(t=>{c.value=t.query.id,b.value=Number(t.query.page?t.query.page:1),"ar-albums"==t.name&&y(c.value,d.value,(b.value-1)*d.value)})),(t,e)=>(a(),m("div",g,[p(j,{listData:u(h),listType:"album"},null,8,["listData"]),p(n,{totalCount:u(f),pageNumber:u(b),onPageSizeChange:x,onPageNumberChange:S},null,8,["totalCount","pageNumber"])]))}},[["__scopeId","data-v-b2a4795c"]]);export{v as default};
