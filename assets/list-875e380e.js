import{_ as e,cP as t,e as a,Y as s,f as l,o,c as r,u as i,k as n,w as m,q as p,a as u,F as c,x as d,d as g,b as h,t as f,ac as j,j as y,bO as v,cY as _,ch as k,an as x}from"./index-d93ecfd9.js";import{h as w}from"./hot-b4aaf852.js";import{f as b}from"./getTime-b474c875.js";import{g as T}from"./hot-80e4e7fa.js";import{_ as H}from"./Tag-9bd41f20.js";import{_ as L,a as M}from"./ListItem-ca2bb28f.js";import{_ as q}from"./Pagination-eed167c0.js";import{_ as C}from"./Space-76cfe381.js";import{_ as S}from"./Skeleton-8803bfe7.js";import{_ as A}from"./text-f881741e.js";import"./dayjs.min-8c8ee1be.js";import"./_common-991711fd.js";import"./light-8230dd77.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./use-merged-state-bb55b613.js";import"./Input-19ebdc3b.js";import"./light-1b9db3a7.js";import"./Select-d00ca0af.js";import"./create-07671515.js";import"./use-compitable-f583eb1a.js";import"./light-25af1eec.js";import"./light-f76c98be.js";import"./light-16e65505.js";import"./cssr-2139d5e3.js";import"./Popover-92ca2497.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./Empty-d19cae85.js";import"./light-f5dc26c8.js";import"./create-ref-setter-ee697025.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./use-houdini-2a8f5bbb.js";import"./light-6dc1ea6d.js";const R={class:"list"},I=["src"],O={key:0,class:"loading",style:{height:"60px"}},P={key:1,class:"header"},U={class:"logo"},$=["src"],z={class:"name"},D={class:"data"},E={key:0,class:"loading",style:{"flex-direction":"column"}},N={key:1,class:"all"},Y={class:"text"},F={class:"message"},W={key:0,class:"hot"},B=e({__name:"list",setup(e){const B=t(),G=w(),J=a(null),K=a(B.currentRoute.value.query.type||G.newsArr[0].name),Q=a(B.currentRoute.value.query.page?Number(B.currentRoute.value.query.page):1),V=a(null),X=async(e,t=!1)=>{V.value=null;const a=G.newsArr.find((t=>t.name==e));T(a.name,t,a.params).then((e=>{200===e.code?V.value=e:$message.error(e.message)}))};return s((()=>G.timeData),(()=>{V.value&&(J.value=b(V.value.updateTime||Date.now()))})),s((()=>Q.value),(e=>{var t;B.push({path:"/list",query:{type:K.value,page:e}}),null==(t=document.querySelector(".n-back-top"))||t.click()})),s((()=>B.currentRoute.value),(e=>{"list"===e.name&&(K.value=e.query.type,Q.value=Number(e.query.page),X(K.value))})),l((()=>{X(K.value)})),(e,t)=>(o(),r("div",R,[i(G).newsArr[0]?(o(),n(i(C),{key:0,class:"type"},{default:m((()=>[(o(!0),r(c,null,d(i(G).newsArr.filter((e=>e.show)),(e=>(o(),n(i(H),{round:"",size:"large",class:"tag",key:e,type:e.name===i(K)?"primary":"default",onClick:t=>{return a=e.name,void B.push({path:"/list",query:{type:a,page:1}});var a}},{avatar:m((()=>[g("img",{src:`/img/logo/${e.name}.png`,alt:"logo",class:"logo"},null,8,I)])),default:m((()=>[h(f(e.label)+" ",1)])),_:2},1032,["type","onClick"])))),128))])),_:1})):p("",!0),u(i(x),{class:"card"},{header:m((()=>[u(j,{name:"fade",mode:"out-in"},{default:m((()=>[i(V)?(o(),r("div",P,[g("div",U,[g("img",{src:`/img/logo/${i(K)}.png`,alt:"logo"},null,8,$)]),g("div",z,[u(i(A),{class:"title"},{default:m((()=>[h(f(i(V).title),1)])),_:1}),u(i(A),{class:"subtitle",depth:3},{default:m((()=>[h(f(i(V).subtitle),1)])),_:1})]),g("div",D,[i(V).total?(o(),n(i(A),{key:0,depth:3,class:"total",innerHTML:i(V).total},null,8,["innerHTML"])):p("",!0),u(i(A),{depth:3,class:"time",innerHTML:i(J)},null,8,["innerHTML"])])])):(o(),r("div",O,[u(i(S),{text:"",round:"",height:"40px"})]))])),_:1})])),default:m((()=>[u(j,{name:"fade",mode:"out-in"},{default:m((()=>[i(V)?(o(),r("div",N,[u(i(L),{hoverable:"",clickable:"",style:{width:"100%"}},{default:m((()=>[(o(!0),r(c,null,d(i(V).data.slice(20*i(Q)-20,20*i(Q)),((e,t)=>(o(),n(i(M),{key:e,onClick:t=>(e=>{if(!e.url||!e.mobileUrl)return $message.error("链接不存在");const t=window.innerWidth>680?e.url:e.mobileUrl;"open"===G.linkOpenType?window.open(t,"_blank"):"href"===G.linkOpenType&&(window.location.href=t)})(e)},{prefix:m((()=>[u(i(A),{class:y(["num",t+1+20*(i(Q)-1)===1?"one":t+1+20*(i(Q)-1)===2?"two":t+1+20*(i(Q)-1)===3?"three":null]),depth:2},{default:m((()=>[h(f(t+1+20*(i(Q)-1)),1)])),_:2},1032,["class"])])),default:m((()=>[g("div",Y,[u(i(A),{class:"title",innerHTML:e.title},null,8,["innerHTML"]),e.desc?(o(),n(i(A),{key:0,class:"desc",depth:3,innerHTML:e.desc},null,8,["innerHTML"])):p("",!0)]),g("div",F,[e.hot?(o(),r("div",W,[u(i(v),{depth:3,component:i(_)},null,8,["component"]),u(i(A),{class:"hot-text",depth:3,innerHTML:e.hot},null,8,["innerHTML"])])):p("",!0)])])),_:2},1032,["onClick"])))),128))])),_:1}),u(i(q),{class:"pagination","page-slot":5,"item-count":i(V).data.length,"page-sizes":[20],page:i(Q),"onUpdate:page":t[0]||(t[0]=e=>k(Q)?Q.value=e:null)},null,8,["item-count","page"])])):(o(),r("div",E,[u(i(S),{text:"",round:"",repeat:20,height:"40px",style:{"margin-bottom":"20px"}})]))])),_:1})])),_:1})]))}},[["__scopeId","data-v-052133a2"]]);export{B as default};
