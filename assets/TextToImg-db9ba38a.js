import{$ as t,a3 as e,P as n,a0 as o,a4 as r,y as l,C as i,ap as a,a8 as s,aq as d,ar as p,z as c,_ as u,r as m,e as g,o as f,c as v,a as h,w as b,b as x,t as w,d as y,g as j,p as $,l as _}from"./index-d93ecfd9.js";import{_ as C}from"./GradientText-8c62cc47.js";import{N as k}from"./headers-79a1892a.js";import{_ as S}from"./text-f881741e.js";import{_ as E}from"./Slider-d57b5f15.js";import{_ as T}from"./ColorPicker-9618aede.js";import{_ as z}from"./Select-d00ca0af.js";import{_ as L}from"./Divider-2b26e657.js";import"./use-houdini-2a8f5bbb.js";import"./light-6dc1ea6d.js";import"./use-compitable-f583eb1a.js";import"./use-merged-state-bb55b613.js";import"./_common-b0d8bea4.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./Input-19ebdc3b.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./light-1b9db3a7.js";import"./InputGroup-f41ddb03.js";import"./light-12c62e2d.js";import"./create-07671515.js";import"./light-25af1eec.js";import"./light-f76c98be.js";import"./light-16e65505.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./Popover-92ca2497.js";import"./Empty-d19cae85.js";import"./light-3a92740e.js";const B="0!important",H="-1px!important";function I(e){return o(e+"-type",[n("& +",[t("button",{},[o(e+"-type",[r("border",{borderLeftWidth:B}),r("state-border",{left:H})])])])])}function M(e){return o(e+"-type",[n("& +",[t("button",[o(e+"-type",[r("border",{borderTopWidth:B}),r("state-border",{top:H})])])])])}const R=t("button-group","\n flex-wrap: nowrap;\n display: inline-flex;\n position: relative;\n",[e("vertical",{flexDirection:"row"},[e("rtl",[t("button",[n("&:first-child:not(:last-child)",`\n margin-right: ${B};\n border-top-right-radius: ${B};\n border-bottom-right-radius: ${B};\n `),n("&:last-child:not(:first-child)",`\n margin-left: ${B};\n border-top-left-radius: ${B};\n border-bottom-left-radius: ${B};\n `),n("&:not(:first-child):not(:last-child)",`\n margin-left: ${B};\n margin-right: ${B};\n border-radius: ${B};\n `),I("default"),o("ghost",[I("primary"),I("info"),I("success"),I("warning"),I("error")])])])]),o("vertical",{flexDirection:"column"},[t("button",[n("&:first-child:not(:last-child)",`\n margin-bottom: ${B};\n margin-left: ${B};\n margin-right: ${B};\n border-bottom-left-radius: ${B};\n border-bottom-right-radius: ${B};\n `),n("&:last-child:not(:first-child)",`\n margin-top: ${B};\n margin-left: ${B};\n margin-right: ${B};\n border-top-left-radius: ${B};\n border-top-right-radius: ${B};\n `),n("&:not(:first-child):not(:last-child)",`\n margin: ${B};\n border-radius: ${B};\n `),M("default"),o("ghost",[M("primary"),M("info"),M("success"),M("warning"),M("error")])])])]),U=l({name:"ButtonGroup",props:{size:{type:String,default:void 0},vertical:Boolean},setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=i(t);a("-button-group",R,e),s(d,t);return{rtlEnabled:p("ButtonGroup",n,e),mergedClsPrefix:e}},render(){const{mergedClsPrefix:t}=this;return c("div",{class:[`${t}-button-group`,this.rtlEnabled&&`${t}-button-group--rtl`,this.vertical&&`${t}-button-group--vertical`],role:"group"},this.$slots)}}),P=t=>($("data-v-48609bbf"),t=t(),_(),t),W={class:"text-to-img-container"},D={class:"content-box"},G={class:"slider-wrapper"},A={class:"slider-container"},N={class:"control-container"},O={class:"color-picker-wrapper"},q={class:"download-container"},F={class:"editor-container"},Q={class:"editor-toolbar"},V={class:"color-picker"},X=P((()=>y("span",null,"颜色：",-1))),Y={class:"font-size-select"},Z=P((()=>y("span",null,"字号：",-1))),J=["innerHTML"],K=["innerHTML"],tt=u({__name:"TextToImg",setup(t){const e=m({title:"文本转图片",mode:"default",convasWidth:860,convasBackgroundColor:"#fff",downExt:".png",downExts:[{value:".png",label:".png"},{value:".jpg",label:".jpg"}]}),n=g('<div style="padding: 15px;">\n<h2 style="text-align: center;">文字转图片演示😀</h2>\n<p>拥有丰富的样式选择</p>\n<p>可自由调整宽度背景色</p>\n<p>支持一键导出为长图</p>\n</div>'),o=g(),r=m({bold:!1,italic:!1,underline:!1,align:"left",color:"#000000",fontSize:"16px"}),l=[{label:"12px",value:"12px"},{label:"14px",value:"14px"},{label:"16px",value:"16px"},{label:"18px",value:"18px"}],i=(t,e)=>{let n=window.getSelection();if(0===n.rangeCount)return;let o=n.getRangeAt(0),l=o.toString();if(!l)return;let i=document.createElement("span"),a="";"bold"===t?(r.bold=!r.bold,a+=r.bold?"font-weight: bold;":""):"italic"===t?(r.italic=!r.italic,a+=r.italic?"font-style: italic;":""):"underline"===t?(r.underline=!r.underline,a+=r.underline?"text-decoration: underline;":""):"align"===t?(r.align=e,a+=`text-align: ${e};`):"color"===t?(r.color=e,a+=`color: ${e};`):"fontSize"===t&&(r.fontSize=e,a+=`font-size: ${e};`),i.setAttribute("style",a),i.innerHTML=l,o.deleteContents(),o.insertNode(i)},a=()=>{o.value.innerHTML=n.value;const t=document.createElement("canvas");t.width=e.convasWidth;const r=o.value.scrollHeight;t.height=r;const l=t.getContext("2d");l.fillStyle=e.convasBackgroundColor,l.fillRect(0,0,t.width,t.height);const i=`<svg xmlns="http://www.w3.org/2000/svg" width="${t.width}" height="${r}">\n    <foreignObject width="100%" height="100%">\n      <div xmlns="http://www.w3.org/1999/xhtml">\n        ${o.value.innerHTML}\n      </div>\n    </foreignObject>\n  </svg>`,a=new Image;a.onload=()=>{l.drawImage(a,0,0);const n=document.createElement("a");n.download="text-to-image"+e.downExt,n.href=t.toDataURL(`image/${e.downExt.substring(1)}`),n.click()},a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i)};return(t,s)=>{const d=C,p=k,c=S,u=E,m=T,g=z,$=j,_=U,B=L;return f(),v("div",W,[h(p,null,{default:b((()=>[h(d,{type:"info"},{default:b((()=>[x(w(e.title),1)])),_:1})])),_:1}),y("div",D,[y("div",null,[y("div",G,[y("div",A,[h(c,{class:"width-label"},{default:b((()=>[x("宽度：")])),_:1}),h(u,{value:e.convasWidth,"onUpdate:value":s[0]||(s[0]=t=>e.convasWidth=t),step:1,min:260,max:1920},null,8,["value"])])]),y("div",N,[y("div",O,[h(c,null,{default:b((()=>[x("背景颜色：")])),_:1}),h(m,{value:e.convasBackgroundColor,"onUpdate:value":s[1]||(s[1]=t=>e.convasBackgroundColor=t)},null,8,["value"])]),y("div",q,[h(g,{value:e.downExt,"onUpdate:value":s[2]||(s[2]=t=>e.downExt=t),class:"downext-select",placeholder:"Select",options:e.downExts},null,8,["value","options"]),h($,{type:"primary",class:"download-button",onClick:a},{default:b((()=>[x("下载")])),_:1})])])]),y("div",F,[y("div",Q,[h(_,null,{default:b((()=>[h($,{type:r.bold?"primary":"",onClick:s[3]||(s[3]=t=>i("bold"))},{default:b((()=>[x(" B ")])),_:1},8,["type"]),h($,{type:r.italic?"primary":"",onClick:s[4]||(s[4]=t=>i("italic"))},{default:b((()=>[x(" I ")])),_:1},8,["type"]),h($,{type:r.underline?"primary":"",onClick:s[5]||(s[5]=t=>i("underline"))},{default:b((()=>[x(" U ")])),_:1},8,["type"])])),_:1}),h(_,null,{default:b((()=>[h($,{type:"left"===r.align?"primary":"",onClick:s[6]||(s[6]=t=>i("align","left"))},{default:b((()=>[x(" 左 ")])),_:1},8,["type"]),h($,{type:"center"===r.align?"primary":"",onClick:s[7]||(s[7]=t=>i("align","center"))},{default:b((()=>[x(" 中 ")])),_:1},8,["type"]),h($,{type:"right"===r.align?"primary":"",onClick:s[8]||(s[8]=t=>i("align","right"))},{default:b((()=>[x(" 右 ")])),_:1},8,["type"])])),_:1}),y("div",V,[X,h(m,{value:r.color,"onUpdate:value":[s[9]||(s[9]=t=>r.color=t),s[10]||(s[10]=t=>i("color",t))]},null,8,["value"])]),y("div",Y,[Z,h(g,{value:r.fontSize,"onUpdate:value":[s[11]||(s[11]=t=>r.fontSize=t),s[12]||(s[12]=t=>i("fontSize",t))],options:l},null,8,["value"])])]),y("div",{class:"editor-content",contenteditable:"true",innerHTML:n.value,onInput:s[13]||(s[13]=t=>n.value=t.target.innerHTML)},null,40,J),y("div",{ref_key:"poster",ref:o,class:"poster-preview",innerHTML:n.value},null,8,K)])]),h(B,{"title-placement":"left"},{default:b((()=>[x("描述")])),_:1}),h(c,null,{default:b((()=>[x(" 把文本转换成图片，生成长图，富文本自定义文字排版，可导出png，jpeg格式，可更换背景图，设置宽度，是好用的文本转图片工具 ")])),_:1})])}}},[["__scopeId","data-v-48609bbf"]]);export{tt as default};
