import{b as t}from"./search-6423cffd.js";import{cN as e,cB as s,e as r,Y as o,f as i,o as a,c as l,a as p,u as m,k as u,q as j,dc as n}from"./index-c72c5b0c.js";import{C as c}from"./CoverLists-b729b53c.js";import{P as g}from"./index-69256b9d.js";import"./album-8a3f3da2.js";import"./AllArtists-b2fee903.js";import"./text-64fc9966.js";import"./use-compitable-a1866e01.js";import"./light-a7677734.js";import"./Input-b4caa030.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./use-merged-state-74230ec8.js";import"./light-6c88686a.js";import"./FormItem-e0127deb.js";import"./light-8d6c1748.js";import"./Popover-87b27d79.js";import"./light-cb0cf260.js";import"./Follower-ef4b8179.js";import"./next-frame-once-924ab492.js";import"./cssr-ed8d5782.js";import"./Select-714380b7.js";import"./create-07671515.js";import"./light-20fa43af.js";import"./light-170bfcda.js";import"./Tag-827106b2.js";import"./_common-991711fd.js";import"./Empty-3e1da814.js";import"./Space-5d75b1a8.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./getCoverUrl-bb08aa65.js";import"./PlayOne-22adba7e.js";import"./LinkTwo-8d6bc0a2.js";import"./light-bf1b7eb7.js";import"./Unlike-d603c2d2.js";import"./Image-6ba3d672.js";import"./utils-48198701.js";import"./light-a43afc3c.js";import"./Tooltip-f5342231.js";import"./Grid-1728937a.js";import"./DeleteFour-7678c621.js";import"./Skeleton-163a49d9.js";import"./use-houdini-1a86f12f.js";import"./Dropdown-db0b14d8.js";import"./light-37eaa122.js";import"./create-ref-setter-ee697025.js";import"./Pagination-10257b2a.js";import"./light-e632ba41.js";const v={class:"playlists"},y={__name:"playlists",setup(y){const{t:h}=e(),d=s(),f=r(d.currentRoute.value.query.keywords),C=r([]),q=r(0),b=r(30),k=r(d.currentRoute.value.query.page?Number(d.currentRoute.value.query.page):1),T=(e,s=30,r=0,o=1e3)=>{t(e,s,r,o).then((t=>{q.value=t.result.playlistCount,C.value=[],t.result.playlists?t.result.playlists.forEach((t=>{C.value.push({id:t.id,cover:t.coverImgUrl,name:t.name,artist:t.creator,playCount:n(t.playCount)})})):$message.error(h("general.message.acquisitionFailed")),"undefined"!=typeof $scrollToTop&&$scrollToTop()}))};o((()=>d.currentRoute.value),(t=>{f.value=t.query.keywords,k.value=Number(t.query.page?t.query.page:1),"s-playlists"==t.name&&T(f.value,b.value,(k.value-1)*b.value)}));const x=t=>{b.value=t,T(f.value,t,(k.value-1)*b.value)},N=t=>{d.push({path:"/music/search/playlists",query:{keywords:f.value,page:t}})};return i((()=>{T(f.value,b.value,(k.value-1)*b.value)})),(t,e)=>(a(),l("div",v,[p(c,{listData:m(C)},null,8,["listData"]),m(C)[0]?(a(),u(g,{key:0,pageNumber:m(k),totalCount:m(q),onPageSizeChange:x,onPageNumberChange:N},null,8,["pageNumber","totalCount"])):j("",!0)]))}};export{y as default};
