import{o as e,k as o,w as a,a as r,u as t,cp as n,ao as s,bk as i,cq as l,cr as c,y as u,z as d,cs as f,ct as m,cu as p,cv as g,cw as v,_ as h,e as b,Y as w,f as y,i as k,c as x,m as C,v as _,d as j,j as S,q as T,ac as E}from"./index-d93ecfd9.js";import{z as P,d as M}from"./zhCN-bd9efa0e.js";import{d as $}from"./dark-d4e3c53e.js";import{m as A}from"./index-15cb7e9b.js";const N={__name:"Provider",setup(g){const v={common:{fontFamily:"'HarmonyOS_Regular', sans-serif",primaryColor:"#ffffff",primaryColorHover:"#ffffff70",primaryColorSuppl:"#ffffff30",primaryColorPressed:"#ffffff30"},Message:{colorError:"rgba(0, 0, 0, 0.25)",colorSuccess:"rgba(0, 0, 0, 0.25)",colorWarning:"rgba(0, 0, 0, 0.25)",colorInfo:"rgba(0, 0, 0, 0.25)",textColorError:"#efefef",textColorSuccess:"#efefef",textColorWarning:"#efefef",textColorInfo:"#efefef",boxShadow:"none",borderRadius:"25px",fontSize:"14px",iconMarginRight:"12px",maxWidth:"720px",backdropFilter:"blur(10px)",border:"none",color:"rgba(0, 0, 0, 0.25)"}},h=u({setup(){window.$notification=f(),window.$message=m(),window.$dialog=p()},render:()=>d("div",{className:"main-tools"})});return(u,d)=>(e(),o(t(c),{locale:t(P),"date-locale":t(M),theme:t($),"theme-overrides":v,abstract:"","inline-theme-disabled":""},{default:a((()=>[r(t(l),null,{default:a((()=>[r(t(n),null,{default:a((()=>[r(t(s),{max:1},{default:a((()=>[i(u.$slots,"default"),r(t(h))])),_:3})])),_:3})])),_:3})])),_:3},8,["locale","date-locale","theme"]))}};var B={exports:{}};!function(e,o){var a={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function t(e){try{delete window[e]}catch(o){window[e]=void 0}}function n(e){var o=document.getElementById(e);o&&document.getElementsByTagName("head")[0].removeChild(o)}function s(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=e,i=o.timeout||a.timeout,l=o.jsonpCallback||a.jsonpCallback,c=void 0;return new Promise((function(a,u){var d=o.jsonpCallbackFunction||r(),f=l+"_"+d;window[d]=function(e){a({ok:!0,json:function(){return Promise.resolve(e)}}),c&&clearTimeout(c),n(f),t(d)},s+=-1===s.indexOf("?")?"?":"&";var m=document.createElement("script");m.setAttribute("src",""+s+l+"="+d),o.charset&&m.setAttribute("charset",o.charset),o.nonce&&m.setAttribute("nonce",o.nonce),o.referrerPolicy&&m.setAttribute("referrerPolicy",o.referrerPolicy),o.crossorigin&&m.setAttribute("crossorigin","true"),m.id=f,document.getElementsByTagName("head")[0].appendChild(m),c=setTimeout((function(){u(new Error("JSONP request to "+e+" timed out")),t(d),n(f),window[d]=function(){t(d)}}),i),m.onerror=function(){u(new Error("JSONP request to "+e+" failed")),t(d),n(f),c&&clearTimeout(c)}}))}o.exports=s}(0,B);const I=v(B.exports),O=["src"],q=["href"],z=h({__name:"Background",emits:["loadComplete"],setup(o,{emit:n}){const s=A(),i=b(null),l=b(null),c=n,u=Math.floor(10*Math.random()+1),d=e=>{0==e?i.value=`/img/background/bg${u}.jpg`:1==e?i.value="https://api.dujin.org/bing/1920.php":2==e?i.value="https://api.vvhan.com/api/wallpaper/views":3==e&&(i.value="https://api.vvhan.com/api/wallpaper/acg")},f=()=>{l.value=setTimeout((()=>{s.setImgLoadStatus(!0)}),Math.floor(301*Math.random())+300)},m=()=>{c("loadComplete")},p=()=>{console.error("壁纸加载失败：",i.value),$message.error("壁纸加载失败，已临时切换回默认"),i.value=`/img/background/bg${u}.jpg`};return w((()=>s.coverType),(e=>{d(e)})),y((()=>{d(s.coverType)})),k((()=>{clearTimeout(l.value)})),(o,n)=>(e(),x("div",{class:S(t(s).backgroundShow?"cover show":"cover")},[C(j("img",{src:t(i),class:"bg",alt:"cover",onLoad:f,onErrorOnce:p,onAnimationend:m},null,40,O),[[_,t(s).imgLoadStatus]]),j("div",{class:S(t(s).backgroundShow?"gray hidden":"gray")},null,2),r(E,{name:"fade",mode:"out-in"},{default:a((()=>[t(s).backgroundShow&&"3"!=t(s).coverType?(e(),x("a",{key:0,class:"down",href:t(i),target:"_blank"}," 下载壁纸 ",8,q)):T("",!0)])),_:1})],2))}},[["__scopeId","data-v-92b7824f"]]);export{z as B,N as _,I as f};
