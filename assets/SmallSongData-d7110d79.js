import{_ as a,d8 as s,cP as t,e,Y as n,f as l,o,c as i,a as r,u as m,d as p,ae as u,k as c,q as g,n as d,e4 as D}from"./index-d93ecfd9.js";import{A as f}from"./AllArtists-e33e1687.js";import{_ as y}from"./Avatar-d697b90d.js";import{_ as v}from"./text-f881741e.js";const h={class:"smallSongData"},S=a({__name:"SmallSongData",props:{songData:{type:Object,default:null},notJump:{type:Boolean,default:!1},getDataByID:{type:String,default:null}},setup(a,{expose:S}){const{t:_}=s(),k=t(),x=a,I=e(x.songData),b=a=>{D(a).then((a=>{a.songs[0]?I.value={album:a.songs[0].al,artist:a.songs[0].ar,name:a.songs[0].name,id:a.songs[0].id}:$message.error(_("general.message.acquisitionFailed"))}))};return S({checkSongData:()=>!!I.value}),n((()=>x.getDataByID),(a=>{b(a)})),n((()=>x.songData),(a=>{I.value=a})),l((()=>{x.songData&&(I.value=x.songData),x.getDataByID&&b(x.getDataByID)})),(s,t)=>{const e=y,n=v;return o(),i("div",h,[r(e,{class:"pic",size:48,src:m(I)&&m(I).album?m(I).album.picUrl.replace(/^http:/,"https:")+"?param=60y60":"/img/music/pic/default.png","fallback-src":"/img/music/pic/default.png"},null,8,["src"]),p("div",{class:"name",style:d(a.notJump?"pointer-events: none":null)},[r(n,{class:"text-hidden",depth:"2",innerHTML:m(I)?m(I).name:s.$t("general.name.unknownSong"),onClick:t[0]||(t[0]=u((a=>m(k).push(`/song?id=${m(I).id}`)),["stop"]))},null,8,["innerHTML"]),m(I)&&m(I).artist?(o(),c(f,{key:0,class:"text-hidden",artistsData:m(I).artist},null,8,["artistsData"])):g("",!0)],4)])}}},[["__scopeId","data-v-dc498512"]]);export{S};
