import{ck as e,_ as t,e as a,Y as l,f as s,i as n,o,c as u,d as i,t as r,u as c,a as m,w as d,q as p,ac as v,ae as f,j as h,p as g,l as y,k as w,F as _,x as k,cv as b,g as S,b as x,c4 as C,c9 as E,n as j,am as $,m as I,cw as T,cb as B,an as D,c8 as U,cx as L,v as A}from"./index-c72c5b0c.js";import{f as z,_ as R,B as q}from"./Background-affde5d7.js";import{g as F}from"./getTime-33329332.js";import{_ as H,a as P}from"./FormItem-e0127deb.js";import{_ as O}from"./Scrollbar-4274af02.js";import{a as W,_ as M}from"./Grid-1728937a.js";import{_ as V}from"./Space-5d75b1a8.js";import{_ as G}from"./Input-b4caa030.js";import{_ as N}from"./Dropdown-db0b14d8.js";import{_ as J,a as Y}from"./Tabs-aac9f9b1.js";import{_ as Z}from"./InputNumber-3459a9d0.js";import{a as K}from"./headers-9bed30c4.js";import{_ as X}from"./Select-714380b7.js";import{_ as Q}from"./Switch-6b042a41.js";import{_ as ee}from"./Slider-ec730116.js";import{m as te}from"./index-b6fb80e7.js";import"./zhCN-bd9efa0e.js";import"./index-92eb66c0.js";import"./dark-0cd2ed17.js";import"./_common-60fffae6.js";import"./light-20fa43af.js";import"./light-cb0cf260.js";import"./light-170bfcda.js";import"./light-6c88686a.js";import"./light-4ec95d76.js";import"./light-50bc744e.js";import"./light-c071e0c7.js";import"./light-f72e4d05.js";import"./light-542ddaed.js";import"./light-5b209fbc.js";import"./light-e632ba41.js";import"./light-93a0afe9.js";import"./light-a43afc3c.js";import"./light-37eaa122.js";import"./light-5d80b650.js";import"./light-ae2f09ac.js";import"./_common-991711fd.js";import"./_common-89f2509f.js";import"./light-8d6c1748.js";import"./light-56c22105.js";import"./light-79b1ba92.js";import"./light-7a086192.js";import"./light-876c84f3.js";import"./_common-b0d8bea4.js";import"./light-bf1b7eb7.js";import"./_common-6222e43f.js";import"./light-66678653.js";import"./light-a7677734.js";import"./light-6a3b8d52.js";import"./dayjs.min-d5438a3a.js";import"./Popover-87b27d79.js";import"./Follower-ef4b8179.js";import"./next-frame-once-924ab492.js";import"./cssr-ed8d5782.js";import"./use-merged-state-74230ec8.js";import"./use-compitable-a1866e01.js";import"./get-slot-a0e67e91.js";import"./Suffix-af55cfcd.js";import"./create-07671515.js";import"./create-ref-setter-ee697025.js";import"./Add-b088e338.js";import"./Tag-827106b2.js";import"./Empty-3e1da814.js";const ae=e("setData",{state:()=>({themeType:"light",backgroundType:2,backgroundCustom:"",showBackgroundGray:!0,backgroundBlur:0,searchEngine:"bing",lastSearchEngine:"bing",customEngineUrl:"",smallInput:!1,showCleanInput:!0,autoFocus:!1,autoInputBlur:!0,timeStyle:"one",showLunar:!1,showSeconds:!1,showZeroTime:!0,use12HourFormat:!1,showWeather:!0,showSuggestions:!0,urlJumpType:"open"}),actions:{setSearchEngine(e,t=!1){if("custom"!==this.searchEngine&&(this.lastSearchEngine=this.searchEngine),t)return this.customEngineUrl=e,void(this.searchEngine="custom");this.searchEngine=e},recoverSiteData(e){let t=!1;try{for(const t in e)if(Object.hasOwnProperty.call(e,t)){const a=e[t];this[t]=a}t=!0}catch(a){console.error("站点数据恢复时处理失败：",a),t=!1}return t}},persist:{key:"setData",storage:window.localStorage}}),le=[{title:"常用",items:[{id:1,name:"首页",url:"https://wlgs.site"},{id:2,name:"博客",url:"https://blog.wlgs.site"},{id:3,name:"内容",url:"https://down.wlgs.site"},{id:4,name:"Innoreader",url:"https://www.innoreader.com/"},{id:5,name:"Gitee",url:"https://gitee.com/explore/all?order=recommend"},{id:6,name:"大盘云图",url:"https://52etf.site/"},{id:7,name:"哔哩哔哩每周必看",url:"https://www.bilibili.com/v/popular/weekly"},{id:8,name:"AI搜索",url:"https://metaso.cn/"},{id:9,name:"内容",url:"https://down.wlgs.site"}]},{title:"网站",items:[{id:1,name:"福利吧论坛",url:"https://www.wnflb99.com/forum.php?mod=forumdisplay&fid=2&filter=author&orderby=dateline"},{id:2,name:"吾爱破解",url:"https://www.52pojie.cn/forum.php?mod=guide&view=hot"},{id:3,name:"JIKE社区",url:"https://jike.info/recent"},{id:3,name:"LinuxDo",url:"https://linux.do/hot"},{id:4,name:"免费吧论坛",url:"https://www.free8.net/forum.php?mod=forumdisplay&fid=2&filter=lastpost&orderby=lastpost"},{id:4,name:"柴郡猫",url:"https://www.cheshirex.com/"}]},{title:"开发",items:[{id:1,name:"硬创社",url:"https://x.jlc.com/"},{id:2,name:"拆解 - 我爱音频网",url:"https://www.52audio.com/archives/category/teardowns"},{id:3,name:"微博",url:"https://weibo.com"}]},{title:"工具",items:[{id:1,name:"ufreetools",url:"https://www.ufreetools.com/"}]}],se=e("siteData",{state:()=>({shortcutData:le}),actions:{setShortcutData(e){this.shortcutData=e}},persist:{key:"siteData",storage:window.localStorage}}),ne=e("statusData",{state:()=>({imgLoadStatus:!1,siteStatus:"normal",engineChangeStatus:!1,searchInputValue:"",mainBoxBig:!1}),getters:{},actions:{setImgLoadStatus(e){this.imgLoadStatus=e},setSiteStatus(e,t=!0){this.siteStatus=e,"focus"!==e&&(this.searchInputValue=""),t&&(this.engineChangeStatus=!1)},setEngineChangeStatus(e){this.engineChangeStatus=e},setSearchInputValue(e){this.searchInputValue=e},setMainBoxBig(e){this.mainBoxBig=e}},persist:{key:"statusData",storage:window.localStorage,paths:["mainBoxBig"]}}),oe=()=>ae(),ue=()=>ne(),ie={class:"hour"},re={class:"minute"},ce={key:0,class:"second"},me=(e=>(g("data-v-1104247f"),e=e(),y(),e))((()=>i("span",{class:"separator"},":",-1))),de={class:"second-num"},pe={key:0,class:"amPm"},ve={key:0,class:"lunar"},fe={class:"year"},he={class:"text"},ge={class:"date"},ye={class:"month"},we={class:"day"},_e={class:"weekday"},ke=t({__name:"WeatherTime",setup(e){const t=oe(),g=ue(),y=a({}),w=a(null),_=()=>{y.value=F(t.showZeroTime,t.use12HourFormat)};return l((()=>[t.showZeroTime,t.use12HourFormat]),(()=>{_()})),s((()=>{_(),w.value=setInterval(_,1e3)})),n((()=>{clearInterval(w.value)})),(e,a)=>{var l,s;return o(),u("div",{class:h(["weather-time",c(g).siteStatus,c(g).mainBoxBig&&"normal"!==c(g).siteStatus&&"focus"!==c(g).siteStatus?"hidden":null,c(t).showLunar?"lunar":null,c(t).timeStyle]),onClick:a[1]||(a[1]=f((()=>{}),["stop"]))},[i("div",{class:"time",onClick:a[0]||(a[0]=f((e=>c(g).setSiteStatus("normal"!==c(g).siteStatus&&"focus"!==c(g).siteStatus?"normal":"box")),["stop"]))},[i("span",ie,r(y.value.hour??"00"),1),(o(),u("span",{class:"separator",key:c(t).showSeconds},":")),i("span",re,r(y.value.minute??"00"),1),m(v,{name:"fade",mode:"out-in"},{default:d((()=>[c(t).showSeconds?(o(),u("span",ce,[me,i("span",de,r(y.value.second??"00"),1)])):p("",!0)])),_:1}),c(t).use12HourFormat?(o(),u("span",pe,r(y.value.amPm??"am"),1)):p("",!0)]),c(t).showLunar?(o(),u("div",ve,[i("span",fe,r(null==(l=y.value.lunar)?void 0:l.GanZhiYear),1),i("span",he,r(null==(s=y.value.lunar)?void 0:s.text),1)])):p("",!0),i("div",ge,[i("span",ye,r(y.value.month??"0"),1),i("span",we,r(y.value.day??"0"),1),i("span",_e,r(y.value.weekday??"星期八"),1)])],2)}}},[["__scopeId","data-v-1104247f"]]),be={baidu:{name:"百度",url:"https://www.baidu.com/s?wd=",translation:"https://fanyi.baidu.com/#zh/en/",icon:"Earth"},bing:{name:"必应",url:"https://www.bing.com/search?q=",translation:"https://www.bing.com/translator?text=",icon:"LogoWindows"},google:{name:"Google",url:"https://www.google.com/search?q=",translation:"https://translate.google.com/?text=",icon:"LogoGoogle"},sogou:{name:"搜狗",url:"https://www.sogou.com/sogou?query=",translation:"https://fanyi.sogou.com/text?keyword=",icon:"Earth"},duckduckgo:{name:"DuckDuckGo",url:"https://duckduckgo.com/?q=",icon:"Earth"},yandex:{name:"Yandex",url:"https://yandex.com/search/?text=",translation:"https://translate.yandex.com/?text=",icon:"Earth"},"search-360":{name:"360 搜索",url:"https://www.so.com/s?q=",translation:"https://fanyi.so.com/#",icon:"Earth"},weibo:{name:"微博",url:"https://s.weibo.com/weibo?q=",icon:"Earth"},bilibili:{name:"BiliBili",url:"https://search.bilibili.com/all?keyword=",icon:"w-bilibili"},github:{name:"Github",url:"https://github.com/search?q=",icon:"LogoGithub"},zhihu:{name:"知乎",url:"https://www.zhihu.com/search?q=",icon:"Earth"},jingdong:{name:"京东",url:"https://search.jd.com/Search?keyword=",icon:"Earth"},taobao:{name:"淘宝",url:"https://s.taobao.com/search?q=",icon:"Earth"}},Se=e=>(g("data-v-69e5d016"),e=e(),y(),e),xe={key:0,class:"engine-choose"},Ce={class:"name"},Ee=Se((()=>i("span",{class:"name"},"自定义",-1))),je=Se((()=>i("span",{class:"name"},"自定义配置",-1))),$e=t({__name:"SearchEngine",setup(e){const t=oe(),l=ue(),s=a(null),n=a(!1),f=a({url:t.customEngineUrl}),g={url:{required:!0,validator:(e,t)=>t?!!/^https:\/\/[a-zA-Z0-9\-.]+\.[a-zA-Z]{2,}(\/\S*)?$/.test(t)||new Error("请检查是否为网址且是否为 https:// 开头"):new Error("请输入自定义搜索引擎地址"),trigger:["input","blur"]}},y=e=>{const a=document.getElementById("main-input");t.setSearchEngine(e),l.setEngineChangeStatus(!1),null==a||a.focus()},E=()=>{t.customEngineUrl?y("custom"):($message.info("无自定义数据，请配置"),n.value=!0)},j=()=>{var e;null==(e=s.value)||e.validate((e=>{e?$message.error("请检查您的输入"):(t.setSearchEngine(f.value.url,!0),n.value=!1,$message.success("已启用自定义搜索引擎"))}))};return(e,a)=>{const $=C;return o(),w(v,{name:"fadeDown",mode:"out-in"},{default:d((()=>[c(l).engineChangeStatus?(o(),u("div",xe,[m(c(O),{style:{"max-height":"44.5vh"}},{default:d((()=>[m(c(W),{class:"all-engine",responsive:"screen",cols:"2 s:3 m:4 l:4","x-gap":10,"y-gap":10},{default:d((()=>[(o(!0),u(_,null,k(c(be),((e,a)=>(o(),w(c(M),{key:a,class:h(["engine",a===c(t).searchEngine?"choose":null]),onClick:e=>y(a)},{default:d((()=>[m($,{component:e.icon,theme:"outline",size:"18",fill:"#fff"},null,8,["component"]),i("span",Ce,r(e.name),1)])),_:2},1032,["class","onClick"])))),128)),m(c(M),{class:h(["engine","custom"===c(t).searchEngine?"choose":null]),onClick:E},{default:d((()=>[m($,{component:"Earth",theme:"outline",size:"18",fill:"#fff"}),Ee])),_:1},8,["class"]),m(c(M),{class:"engine",onClick:a[0]||(a[0]=e=>n.value=!0)},{default:d((()=>[m($,{component:"Earth",theme:"outline",size:"18",fill:"#fff"}),je])),_:1})])),_:1})])),_:1}),m(c(b),{preset:"card",title:"自定义搜索引擎",show:n.value,"onUpdate:show":a[3]||(a[3]=e=>n.value=e),bordered:!1},{footer:d((()=>[m(c(V),{justify:"end"},{default:d((()=>[m(c(S),{strong:"",secondary:"",onClick:a[2]||(a[2]=e=>n.value=!1)},{default:d((()=>[x(" 取消")])),_:1}),m(c(S),{strong:"",secondary:"",onClick:j},{default:d((()=>[x(" 确认")])),_:1})])),_:1})])),default:d((()=>[m(c(H),{ref_key:"customEngineRef",ref:s,rules:g,model:f.value,"label-width":80},{default:d((()=>[m(c(P),{label:"自定义搜索引擎地址",path:"url"},{default:d((()=>[m(c(G),{clearable:"",value:f.value.url,"onUpdate:value":a[1]||(a[1]=e=>f.value.url=e),placeholder:"请输入自定义搜索引擎地址"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])])):p("",!0)])),_:1})}}},[["__scopeId","data-v-69e5d016"]]);E.defaults.baseURL="https://api.wlgs.site",E.defaults.timeout=3e4,E.defaults.headers={"Content-Type":"application/json"},E.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(e=>($message.error("请求失败，请稍后重试"),Promise.reject(e)))),E.interceptors.response.use((e=>e.data),(e=>{if($loadingBar.error(),e.response){let t=e.response.data;switch(e.response.status){case 401:$message.error(t.message?t.message:"请登录后使用");break;case 301:$message.error(t.message?t.message:"请求路径发生跳转");break;case 403:$message.error(t.message?t.message:"暂无访问权限");break;case 404:$message.error(t.message?t.message:"请求资源不存在");break;case 500:$message.error(t.message?t.message:"内部服务器错误");break;default:$message.error(t.message?t.message:"请求失败，请稍后重试")}}else $message.error(data.message?data.message:"请求失败，请稍后重试");return Promise.reject(e)}));const Ie=e=>{const t=new RegExp("https?://[\\w.-]+","i"),a=new RegExp("^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");return t.test(e)||a.test(e)?"url":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"email":"text"},Te={class:"text"},Be={class:"text"},De=["onClick"],Ue={class:"text"},Le=t({__name:"Suggestions",props:{keyWord:{type:String,required:!0}},emits:["toSearch"],setup(e,{expose:t,emit:s}){const n=oe(),h=ue(),g=s,y=a(null),b=a("text"),S=a([]),x=a(null),E=a(null),I=a(0),T=e,B=((e,t)=>{let a;return(...l)=>{clearTimeout(a),a=setTimeout((()=>{e.apply(globalThis,l)}),t)}})((e=>{const t=null==e?void 0:e.trim();if(!t||""===t)return y.value=null,!1;h.setEngineChangeStatus(!1),y.value=t,y.value&&(async e=>{try{const t=encodeURIComponent(e),a=await z(`https://suggestion.baidu.com/su?wd=${t}&cb=json`,{jsonpCallback:"cb"});return(await a.json()).s}catch(t){return console.error("处理搜索建议发生错误：",t),null}})(t).then((e=>{S.value=Array.from(e),$().then((()=>{D()}))})).catch((e=>{S.value=[],console.error("处理搜索建议发生错误：",e)}))}),300),D=()=>{var e,t;try{const a=null==(e=E.value)?void 0:e.offsetHeight,l=null==(t=x.value)?void 0:t.offsetHeight;I.value=(l||0)+(a||0)}catch(a){console.error("计算高度时出现错误："+a)}},U=(e,t=1)=>{g("toSearch",e,t)};return l((()=>T.keyWord),(e=>{n.showSuggestions&&(S.value=[],b.value=Ie(e),B(e))})),t({keyboardEvents:(e,t)=>{try{const a=document.getElementById("main-input");if((38===e||40===e)&&(t.preventDefault(),a&&E.value&&S.value[0])){const t=E.value.querySelectorAll(".s-result");if(t.length>0){const l=document.querySelector(".s-result.focus"),s=Array.from(t).indexOf(l);t.forEach((e=>e.classList.toggle("focus",!1)));let n=38===e?s-1:s+1;n=Math.max(0,Math.min(n,t.length-1)),-1!==n&&(t[n].classList.toggle("focus",!0),a.value=t[n].querySelector(".text").textContent)}}13===e&&U(a.value,1)}catch(a){$message.error("出现问题，请尝试重置程序"),console.error("键盘事件出现错误："+a)}}}),(t,a)=>{const l=C;return o(),w(v,{name:"fadeDown",mode:"out-in"},{default:d((()=>[c(n).showSuggestions&&null!==y.value&&"focus"===c(h).siteStatus&&!c(h).engineChangeStatus?(o(),u("div",{key:0,class:"suggestions",style:j({height:`${I.value}px`})},[m(c(O),{style:{"max-height":"45vh"}},{default:d((()=>[m(v,{name:"fade",mode:"out-in",onAfterEnter:D,onAfterLeave:D},{default:d((()=>[null!==y.value?(o(),u("div",{key:0,class:"special-result",ref_key:"specialallResultsRef",ref:x},["text"===b.value?(o(),u("div",{key:0,class:"s-result",onClick:a[0]||(a[0]=f((t=>U(e.keyWord,2)),["stop"]))},[m(l,{component:"Language",theme:"outline",size:"18",fill:"#fff"}),i("span",Te,"快捷翻译："+r(e.keyWord),1)])):p("",!0),"text"!==b.value?(o(),u("div",{key:1,class:"s-result",onClick:a[1]||(a[1]=f((e=>U(y.value,"email"===b.value?3:4)),["stop"]))},[m(l,{component:"Mail"===b.value?"Mail":"Link",theme:"outline",size:"18",fill:"#fff"},null,8,["component"]),i("span",Be,r("Mail"===b.value?"发送邮件至":"直接访问")+"："+r(y.value),1)])):p("",!0)],512)):p("",!0)])),_:1}),m(v,{name:"fade",mode:"out-in",onAfterEnter:D,onAfterLeave:D},{default:d((()=>[null!==y.value&&S.value[0]?(o(),u("div",{key:0,class:"all-result",ref_key:"allResultsRef",ref:E},[(o(!0),u(_,null,k(S.value,(e=>(o(),u("div",{class:"s-result",key:e,onClick:f((t=>U(e,1)),["stop"])},[m(l,{component:"search",theme:"outline",size:"18",fill:"#fff"}),i("span",Ue,r(e),1)],8,De)))),128))],512)):p("",!0)])),_:1})])),_:1})],4)):p("",!0)])),_:1})}}},[["__scopeId","data-v-8fb43479"]]),Ae=["placeholder"],ze=t({__name:"SearchInp",setup(e){const t=oe(),l=ue(),s={}.VITE_INPUT_TIP??"想要搜点什么",n=a(null),r=a(null),g=a(null),y=(e=!1)=>{var a;e&&!t.autoInputBlur?l.setSiteStatus("focus"):(l.setSearchInputValue(""),l.setSiteStatus("normal"),null==(a=r.value)||a.blur()),l.setEngineChangeStatus(!1)},_=(e,a=1)=>{var s,n;const o=null==e?void 0:e.trim(),u=e=>{"href"===t.urlJumpType?window.location.href=e:"open"===t.urlJumpType&&window.open(e,"_blank")};if(o){const e=encodeURIComponent(o);switch(a){case 1:if("custom"!==t.searchEngine){const a=be[t.searchEngine];u((null==a?void 0:a.url)+e)}else u(t.customEngineUrl+e);break;case 2:{const a=null==(s=be[t.searchEngine])?void 0:s.translation;u(a?a+e:`https://fanyi.baidu.com/#en/zh/${e}`);break}case 3:u(`mailto:${e}`);break;case 4:u(/^(https?:\/\/)/i.test(e)?e:`//${e}`);break}y(!0)}else"focus"===l.siteStatus&&$message.info("请输入搜索内容",{duration:1500}),l.setSiteStatus("focus"),null==(n=r.value)||n.focus()},k=()=>{var e;t.autoFocus&&(l.setSiteStatus("focus"),null==(e=r.value)||e.focus())},b=e=>{var t;const a=e.keyCode;null==(t=g.value)||t.keyboardEvents(a,e)},S=()=>{l.setSiteStatus("focus",!1),l.setEngineChangeStatus(!l.engineChangeStatus)};return(e,a)=>{const x=C;return o(),u("div",{class:h(["search-input",c(t).smallInput?"small":null,"focus"===c(l).siteStatus?"focus":null]),onClick:a[6]||(a[6]=f((()=>{}),["stop"]))},["focus"===c(l).siteStatus?(o(),u("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>y(!1)),onContextmenu:a[1]||(a[1]=f((e=>{e.preventDefault()}),["stop"]))},null,32)):p("",!0),i("div",{class:"all",ref_key:"searchAllRef",ref:n,onAnimationend:k},[i("div",{class:"engine",title:"切换搜索引擎",onClick:S},[m(v,{name:"fade",mode:"out-in"},{default:d((()=>{var e;return[(o(),w(x,{component:"Earth"!==c(t).searchEngine?null==(e=c(be)[c(t).searchEngine])?void 0:e.icon:"Earth",theme:"outline",size:"20",fill:"focus"===c(l).siteStatus?"#000":"#fff",key:c(t).searchEngine},null,8,["component","fill"]))]})),_:1})]),I(i("input",{class:"input",id:"main-input",ref_key:"searchInputRef",ref:r,type:"text",label:"search",title:"请输入搜索内容",autocomplete:"false",placeholder:c(s),"onUpdate:modelValue":a[2]||(a[2]=e=>c(l).searchInputValue=e),onFocus:a[3]||(a[3]=e=>c(l).setSiteStatus("focus")),onClick:a[4]||(a[4]=f((e=>c(l).setEngineChangeStatus(!1)),["stop"])),onKeydown:f(b,["stop"])},null,40,Ae),[[T,c(l).searchInputValue]]),i("div",{class:"go",title:"搜索",onClick:a[5]||(a[5]=e=>_(c(l).searchInputValue))},[m(x,{size:"18",component:"Search",fill:"focus"===c(l).siteStatus?"#000":"#fff"},null,8,["fill"])])],544),m($e),m(Le,{ref_key:"suggestionsRef",ref:g,keyWord:c(l).searchInputValue,onToSearch:_},null,8,["keyWord"])],2)}}},[["__scopeId","data-v-171259e8"]]),Re=e=>(g("data-v-28930d95"),e=e(),y(),e),qe={class:"all-box-wrapper"},Fe={class:"shortcut__layout"},He={class:"shortcut"},Pe={class:"name"},Oe=Re((()=>i("span",{class:"name"},"添加捷径",-1))),We=Re((()=>i("input",{type:"file",name:"上传",id:"allBoxUploadInput",style:{display:"none"}},null,-1))),Me=t({__name:"AllBox",setup(e){oe();const t=se(),{shortcutData:l}=B(t),p=a(null),v=a(!1),f=a(!1),h=a(0),g=a({id:null,name:"",url:""}),y={id:{required:!0,type:"number",message:"请输入合法 ID",trigger:["input","blur"]},name:{required:!0,message:"请输入名称",trigger:["input","blur"]},url:{required:!0,validator:(e,t)=>t?"url"===Ie(t)||new Error("请检查是否为正确的网址"):new Error("请输入站点链接"),trigger:["input","blur"]}},E=a(null),j=a(!1),I=a(null),T=a({title:""}),D=a(0),U=a(0),L=a(!1),A=[{label:"编辑",key:"edit",icon:"edit"},{label:"删除",key:"delete",icon:"delete-1"}],z=a(0),R=a(0),q=a(!1),F=[{label:"编辑分类",key:"edit",icon:"edit"},{label:"删除分类",key:"delete",icon:"delete-1"}],K=()=>{v.value=!1,g.value={id:null,name:"",url:""}},X=()=>{var e;null==(e=p.value)||e.validate((e=>{if(e)return $message.error("请检查您的输入"),!1;if(f.value){const e=l.value[h.value].items.findIndex((e=>e.id===g.value.id));return-1===e?($message.error("捷径中不存在该项，请重试"),!1):(l.value[h.value].items[e].name=g.value.name,l.value[h.value].items[e].url=g.value.url,$message.success("捷径编辑成功"),K(),!0)}return l.value[h.value].items.some((e=>e.name===g.value.name||e.url===g.value.url))?($message.error("新增名称或链接与已有捷径重复"),!1):(l.value[h.value].items.push({id:g.value.id,name:g.value.name,url:g.value.url}),$message.success("捷径添加成功"),K(),!0)}))},Q=e=>{switch(L.value=!1,e){case"edit":f.value=!0,v.value=!0;break;case"delete":$dialog.warning({title:"删除捷径",content:`确认删除 ${g.value.name} 捷径？此操作将无法恢复！`,positiveText:"删除",negativeText:"取消",onPositiveClick:()=>{(()=>{const e=g.value.id;if("number"==typeof e){const t=l.value[h.value].items.findIndex((t=>t.id===e));if(-1!==t){l.value[h.value].items.splice(t,1);for(let e=t;e<l.value[h.value].items.length;e++)l.value[h.value].items[e].id=e+1;return $message.success("捷径删除成功"),!0}$message.error("捷径删除失败，请重试")}else $message.error("捷径删除失败，请重试")})()}})}},ee=()=>{I.value=null,T.value={title:""},j.value=!0},te=()=>{j.value=!1,T.value={title:""},I.value=null},ae=()=>{if(!T.value.title)return void $message.error("分类名称不能为空");l.value.some(((e,t)=>e.title===T.value.title&&t!==I.value))?$message.error("分类名称已存在"):(null!==I.value?(l.value[I.value].title=T.value.title,$message.success("分类编辑成功")):(l.value.push({title:T.value.title,items:[]}),$message.success("分类添加成功")),te())},le=e=>{switch(q.value=!1,e){case"edit":j.value=!0;break;case"delete":if(l.value.length<=1)return void $message.error("至少保留一个分类");$dialog.warning({title:"删除分类",content:`确认删除 ${l.value[I.value].title} 分类？此操作将删除该分类下所有捷径！`,positiveText:"删除",negativeText:"取消",onPositiveClick:()=>{l.value.splice(I.value,1),$message.success("分类删除成功")}})}},ne=()=>{$((()=>{document.querySelectorAll(".n-tabs-tab").forEach(((e,t)=>{e.addEventListener("contextmenu",(e=>((e,t)=>{e.preventDefault(),q.value=!1,I.value=t,T.value={title:l.value[t].title},$().then((()=>{q.value=!0,z.value=e.clientX,R.value=e.clientY}))})(e,t)))}))}))};function ue(){let e="";l.value.forEach(((t,a)=>{e+=`<DT><H3>${t.title}</H3>\n<DL><p>\n`,t.items.forEach((t=>{e+=`<DT><A HREF="${t.url}">${t.name}</A>\n`})),e+="</DL><p>\n"}));const t=`\n    <!DOCTYPE NETSCAPE-Bookmark-file-1>\n    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n    <meta http-equiv="Content-Security-Policy"\n      content="default-src 'self'; script-src 'none'; img-src data: *; object-src 'none'"></meta>\n    <TITLE>Bookmarks</TITLE>\n    <H1>Whome导航文件</H1>\n\n    <DL><p>\n        <DT><H3 ADD_DATE="${Date.now()}" LAST_MODIFIED="${Date.now()}">Whome导航文件</H3>\n        <DL><p>\n            ${e}\n        </DL><p>\n    </DL>\n  `,a=new Blob([t],{type:"text/html"}),s=URL.createObjectURL(a),n=document.createElement("a");n.href=s,n.download="Whome导航文件.html",n.click(),URL.revokeObjectURL(s)}function ie(e){const t=e.target.files;if(t&&t.length>0){const e=new FileReader;e.readAsText(t[0]),e.onload=function(){"string"==typeof e.result&&function(e){const t=new DOMParser,a=t.parseFromString(e,"text/html").querySelectorAll("h3"),s=[];a.forEach((e=>{if("Whome导航文件"===e.textContent||"SNav导航文件"===e.textContent)return;let t=e.nextElementSibling;for(;t&&"DL"!==t.tagName;)t=t.nextElementSibling;if(t){const a=t.querySelectorAll("a");if(a.length>0){const t=e.textContent||`分类${s.length+1}`,n=l.value.findIndex((e=>e.title===t)),o=[];if(a.forEach((e=>{o.push({id:o.length+1,name:e.textContent||"未命名",url:e.href})})),-1!==n){const e=l.value[n].items;o.forEach((t=>{e.some((e=>e.name===t.name||e.url===t.url))||e.push({id:e.length+1,name:t.name,url:t.url})}))}else s.push({title:t,items:o})}}})),s.forEach((e=>{l.value.push(e)})),s.length>0?$message.success(`成功导入${s.length}个分类`):$message.info("未找到有效的分类数据");const n=document.getElementById("allBoxUploadInput");n&&(n.value="")}(e.result)}}}function re(){const e=document.getElementById("allBoxUploadInput");e?e.click():$message.error("上传组件未找到")}return s((()=>{ne();const e=document.getElementById("allBoxUploadInput");e&&e.addEventListener("change",ie)})),n((()=>{const e=document.getElementById("allBoxUploadInput");e&&e.removeEventListener("change",ie)})),(e,t)=>{const a=C;return o(),u("div",qe,[m(c(Y),{class:"all-box",size:"large","justify-content":"space-evenly",animated:""},{suffix:d((()=>[m(c(S),{text:"",onClick:ee,class:"add-category-btn",title:"添加分类"},{icon:d((()=>[m(a,{component:"AddCircle",theme:"outline",size:"18",fill:"#fff"})])),_:1}),m(c(S),{text:"",onClick:ue,class:"action-btn",title:"下载"},{icon:d((()=>[m(a,{component:"ArrowDown",theme:"outline",size:"18",fill:"#fff"})])),_:1}),m(c(S),{text:"",onClick:re,class:"action-btn",title:"上传"},{icon:d((()=>[m(a,{component:"CloudUpload",theme:"outline",size:"18",fill:"#fff"})])),_:1}),We])),default:d((()=>[(o(!0),u(_,null,k(c(l),((e,s)=>(o(),w(c(J),{key:s,name:e.title,tab:e.title,class:"no-padding height--full"},{default:d((()=>[i("div",Fe,[i("div",He,[m(c(O),{class:"scrollbar"},{default:d((()=>[m(c(W),{class:"all-shortcut",responsive:"screen",cols:"2 s:3 m:4 l:5","x-gap":10,"y-gap":10},{default:d((()=>[(o(!0),u(_,null,k(e.items,(e=>(o(),w(c(M),{key:e.id,class:"shortcut-item",onContextmenu:t=>((e,t,a)=>{e.preventDefault(),L.value=!1,h.value=a;const{id:l,name:s,url:n}=t;g.value={id:l,name:s,url:n},$().then((()=>{L.value=!0,D.value=e.clientX,U.value=e.clientY}))})(t,e,s),onClick:t=>(e=>{const t=/^(https?:\/\/)/i.test(e)?e:`//${e}`;window.open(t,"_blank")})(e.url)},{default:d((()=>[i("span",Pe,r(e.name),1)])),_:2},1032,["onContextmenu","onClick"])))),128)),m(c(M),{class:"shortcut-item add-item",onContextmenu:t[0]||(t[0]=e=>{e.preventDefault()}),onClick:e=>(e=>{h.value=e;const t=l.value[e].items.reduce(((e,t)=>t.id>e?t.id:e),0);g.value={id:t+1,name:"",url:""},f.value=!1,v.value=!0})(s)},{default:d((()=>[m(a,{component:"AddCircle",theme:"outline",size:"24",fill:"#fff"}),Oe])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])])])),_:2},1032,["name","tab"])))),128))])),_:1}),m(c(b),{preset:"card",show:v.value,"onUpdate:show":t[4]||(t[4]=e=>v.value=e),title:(f.value?"编辑":"添加")+"捷径",bordered:!1,onMaskClick:K},{footer:d((()=>[m(c(V),{justify:"end"},{default:d((()=>[m(c(S),{strong:"",secondary:"",onClick:K},{default:d((()=>[x(" 取消")])),_:1}),m(c(S),{strong:"",secondary:"",onClick:X},{default:d((()=>[x(r(f.value?"编辑":"添加"),1)])),_:1})])),_:1})])),default:d((()=>[m(c(H),{ref_key:"addShortcutRef",ref:p,rules:y,model:g.value,"label-width":80},{default:d((()=>[m(c(P),{label:"ID",path:"id"},{default:d((()=>[m(c(Z),{disabled:"",placeholder:"请输入ID",value:g.value.id,"onUpdate:value":t[1]||(t[1]=e=>g.value.id=e),style:{width:"100%"},"show-button":!1},null,8,["value"])])),_:1}),m(c(P),{label:"捷径名称",path:"name"},{default:d((()=>[m(c(G),{clearable:"","show-count":"",maxlength:"14",value:g.value.name,"onUpdate:value":t[2]||(t[2]=e=>g.value.name=e),placeholder:"请输入捷径名称"},null,8,["value"])])),_:1}),m(c(P),{label:"站点链接",path:"url"},{default:d((()=>[m(c(G),{clearable:"",value:g.value.url,"onUpdate:value":t[3]||(t[3]=e=>g.value.url=e),placeholder:"请输入站点链接"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show","title"]),m(c(b),{preset:"card",show:j.value,"onUpdate:show":t[6]||(t[6]=e=>j.value=e),title:(null!==I.value?"编辑":"添加")+"分类",bordered:!1,onMaskClick:te},{footer:d((()=>[m(c(V),{justify:"end"},{default:d((()=>[m(c(S),{strong:"",secondary:"",onClick:te},{default:d((()=>[x(" 取消")])),_:1}),m(c(S),{strong:"",secondary:"",onClick:ae},{default:d((()=>[x(r(null!==I.value?"编辑":"添加"),1)])),_:1})])),_:1})])),default:d((()=>[m(c(H),{ref_key:"addCategoryRef",ref:E,model:T.value,"label-width":80},{default:d((()=>[m(c(P),{label:"分类名称",path:"title"},{default:d((()=>[m(c(G),{clearable:"","show-count":"",maxlength:"20",value:T.value.title,"onUpdate:value":t[5]||(t[5]=e=>T.value.title=e),placeholder:"请输入分类名称"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show","title"]),m(c(N),{placement:"bottom-start",trigger:"manual",size:"large",x:D.value,y:U.value,options:A,show:L.value,"on-clickoutside":()=>{L.value=!1},onSelect:Q},null,8,["x","y","show","on-clickoutside"]),m(c(N),{placement:"bottom-start",trigger:"manual",size:"large",x:z.value,y:R.value,options:F,show:q.value,"on-clickoutside":()=>{q.value=!1},onSelect:le},null,8,["x","y","show","on-clickoutside"])])}}},[["__scopeId","data-v-28930d95"]]),Ve={class:"all-set"},Ge=i("div",{class:"name"},[i("span",{class:"title"},"主题类别"),i("span",{class:"tip"},"切换全站主题类别")],-1),Ne={class:"desc"},Je=i("div",{class:"name"},[i("span",{class:"title"},"壁纸偏好"),i("span",{class:"tip"}," 除默认以外的其他选项可能会导致页面载入缓慢 ")],-1),Ye=["innerHTML"],Ze=i("div",{class:"name"},[i("span",{class:"title"},"搜索引擎"),i("span",{class:"tip"},"切换或自定义搜索引擎")],-1),Ke=i("div",{class:"name"},[i("span",{class:"title"},"搜索建议"),i("span",{class:"tip"},"是否显示搜索建议")],-1),Xe=i("div",{class:"name"},[i("span",{class:"title"},"跳转方式"),i("span",{class:"tip"},"全站链接跳转方式")],-1),Qe=i("div",{class:"name"},[i("span",{class:"title"},"壁纸遮罩"),i("span",{class:"tip"},"壁纸周围是否显示暗色遮罩")],-1),et=i("div",{class:"name"},[i("span",{class:"title"},"壁纸模糊"),i("span",{class:"tip"},"调整壁纸高斯模糊的程度")],-1),tt=i("div",{class:"name"},[i("span",{class:"title"},"天气显示"),i("span",{class:"tip"},"是否在首页时间下展示天气")],-1),at=i("div",{class:"name"},[i("span",{class:"title"},"时钟样式"),i("span",{class:"tip"},"选择一种时钟样式")],-1),lt=i("div",{class:"name"},[i("span",{class:"title"},"时间显秒"),i("span",{class:"tip"},"是否在分钟后面显示秒数")],-1),st=i("div",{class:"name"},[i("span",{class:"title"},"时钟显零"),i("span",{class:"tip"},"是否在时钟小于 10 时补 0")],-1),nt=i("div",{class:"name"},[i("span",{class:"title"},"显示农历")],-1),ot=i("div",{class:"name"},[i("span",{class:"title"},"12 小时制")],-1),ut=i("div",{class:"name"},[i("span",{class:"title"},"自动收缩"),i("span",{class:"tip"},"是否在非搜索状态时收起搜索框")],-1),it=i("div",{class:"name"},[i("span",{class:"title"},"自动聚焦"),i("span",{class:"tip"},"打开网站时自动聚焦搜索框")],-1),rt=i("div",{class:"name"},[i("span",{class:"title"},"自动失焦"),i("span",{class:"tip"},"跳转搜索后搜索框自动失焦")],-1),ct=i("div",{class:"name"},[i("span",{class:"title"},"站点重置"),i("span",{class:"tip"},"若站点显示异常或出现问题时可尝试此操作")],-1),mt=i("div",{class:"name"},[i("span",{class:"title"},"站点备份"),i("span",{class:"tip"},"将站点配置及个性化内容进行备份")],-1),dt=i("div",{class:"name"},[i("span",{class:"title"},"数据恢复"),i("span",{class:"tip"},"将备份的站点内容进行恢复")],-1),pt={__name:"AllSet",setup(e){const t=oe(),l=ue(),{themeType:n,backgroundType:f,backgroundCustom:g,showBackgroundGray:y,backgroundBlur:E,smallInput:j,autoFocus:$,autoInputBlur:I,showLunar:T,showWeather:A,showSeconds:z,showZeroTime:R,use12HourFormat:q,showSuggestions:F,urlJumpType:N,timeStyle:Z}=B(t),te=a(null),ae=a(!1),le=a(""),se=[{name:"本地默认",tip:"默认壁纸，随机更换"},{name:"每日必应",tip:"必应每日一图，每天更新"},{name:"随机风景",tip:"随机风景图，随机更换"},{name:"随机动漫",tip:"随机二次元图，随机更换"}],ne=[{label:"浅色模式",value:"light"},{label:"深色模式",value:"dark"}],ie=(e,t=!1)=>{if(t)return $dialog.warning({title:"壁纸恢复",content:"确认恢复默认壁纸？若当前为自定义壁纸，你的自定义壁纸将丢失！",positiveText:"恢复",negativeText:"取消",onPositiveClick:()=>{f.value=0,$message.info("已恢复为默认壁纸，刷新后生效")}}),!0;f.value=e,$message.success(`已切换为${se[e].name}，刷新后生效`)},re=[{label:"新页面打开",value:"open"},{label:"当前页打开",value:"href"}],ce=[{label:"横向排布",value:"one"},{label:"竖向排布",value:"two"}],me=()=>{"url"===Ie(le.value)?(f.value=4,g.value=le.value,ae.value=!1,$message.error("已切换为自定义壁纸，刷新后生效")):$message.error("请输入正确的网址")},de=()=>{$dialog.warning({title:"站点重置",content:"确认重置站点为默认状态？你的全部数据以及自定义设置都将丢失！",positiveText:"重置",negativeText:"取消",onPositiveClick:()=>{localStorage.clear(),$message.info("站点重置成功，即将刷新"),setTimeout((()=>{window.location.reload()}),1e3)}})},pe=()=>{try{const e=`Snavigation_Backup_${(new Date).toISOString().replace(/[:.]/g,"-")}.json`,a=JSON.stringify(t.$state),l=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(l),n=document.createElement("a");n.href=s,n.download=e,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),$message.success("站点备份成功")}catch(e){console.error("站点备份失败：",e),$message.error("站点备份失败")}},ve=async()=>{try{const e=te.value;if(!(null==e?void 0:e.files.length))return $message.error("请选择要恢复的备份文件"),!1;const a=e.files[0],l=await a.text(),s=JSON.parse(l);$dialog.warning({title:"站点恢复",content:"确认使用该恢复文件？你现有的数据以及自定义设置都将被覆盖！",positiveText:"恢复",negativeText:"取消",onPositiveClick:async()=>{t.recoverSiteData(s)?($message.info("站点恢复成功，即将刷新"),setTimeout((()=>{window.location.reload()}),1e3)):$message.error("站点数据恢复失败，请重试")},onNegativeClick:()=>{te.value.value=null}})}catch(e){console.error("站点数据恢复失败：",e),$message.error("站点数据恢复失败，请重试")}};return s((()=>{g.value&&(le.value=g.value)})),(e,t)=>{const a=C;return o(),u("div",Ve,[m(c(Y),{class:"set",size:"large","justify-content":"space-evenly",animated:""},{default:d((()=>[m(c(J),{name:"main",tab:"基础设置"},{default:d((()=>[m(c(O),{class:"scrollbar"},{default:d((()=>[m(c(K),{prefix:"bar"},{default:d((()=>[x(" 主题与壁纸")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[Ge,m(c(X),{class:"set",value:c(n),"onUpdate:value":t[0]||(t[0]=e=>U(n)?n.value=e:null),options:ne},null,8,["value"])])),_:1}),m(c(D),{class:"set-item cover","content-style":{flexDirection:"column",alignItems:"flex-start"}},{default:d((()=>[i("div",Ne,[Je,m(c(V),null,{default:d((()=>[m(v,{name:"fade",mode:"out-in"},{default:d((()=>[0!==c(f)?(o(),w(c(S),{key:0,strong:"",secondary:"",onClick:t[1]||(t[1]=e=>ie(0,!0))},{default:d((()=>[x(" 恢复默认 ")])),_:1})):p("",!0)])),_:1}),m(c(S),{strong:"",secondary:"",onClick:t[2]||(t[2]=e=>ae.value=!0)},L({default:d((()=>[x(" "+r(4===c(f)?"已开启自定义":"自定义"),1)])),_:2},[4===c(f)?{name:"icon",fn:d((()=>[m(a,{component:"Settings",theme:"outline",size:"18",fill:"#fff"})])),key:"0"}:void 0]),1024)])),_:1})]),m(c(W),{class:"cover-selete",responsive:"screen",cols:"2 s:3 m:4 l:4","x-gap":16,"y-gap":16},{default:d((()=>[(o(),u(_,null,k(se,((e,t)=>m(c(M),{key:t,class:h(t===c(f)?"item check":"item"),onClick:e=>ie(t)},{default:d((()=>[i("span",{class:"name",innerHTML:e.name},null,8,Ye)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),m(c(K),{prefix:"bar"},{default:d((()=>[x(" 搜索")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[Ze,m(c(S),{strong:"",secondary:"",onClick:t[3]||(t[3]=()=>{c(l).setSiteStatus("focus"),c(l).setEngineChangeStatus(!0)})},{default:d((()=>[x(" 前往调整 ")])),_:1})])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[Ke,m(c(Q),{value:c(F),"onUpdate:value":t[4]||(t[4]=e=>U(F)?F.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[Xe,m(c(X),{class:"set",value:c(N),"onUpdate:value":t[5]||(t[5]=e=>U(N)?N.value=e:null),options:re},null,8,["value"])])),_:1})])),_:1})])),_:1}),m(c(J),{name:"personalization",tab:"个性调整"},{default:d((()=>[m(c(O),{class:"scrollbar"},{default:d((()=>[m(c(K),{prefix:"bar"},{default:d((()=>[x(" 壁纸")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[Qe,m(c(Q),{value:c(y),"onUpdate:value":t[6]||(t[6]=e=>U(y)?y.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[et,m(c(ee),{class:"set",value:c(E),"onUpdate:value":t[7]||(t[7]=e=>U(E)?E.value=e:null),step:.01,min:0,max:10,tooltip:!1},null,8,["value"])])),_:1}),m(c(K),{prefix:"bar"},{default:d((()=>[x(" 天气与时间")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[tt,m(c(Q),{value:c(A),"onUpdate:value":t[8]||(t[8]=e=>U(A)?A.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[at,m(c(X),{class:"set",value:c(Z),"onUpdate:value":t[9]||(t[9]=e=>U(Z)?Z.value=e:null),options:ce},null,8,["value"])])),_:1}),"one"===c(Z)?(o(),w(c(D),{key:0,class:"set-item"},{default:d((()=>[lt,m(c(Q),{value:c(z),"onUpdate:value":t[10]||(t[10]=e=>U(z)?z.value=e:null),round:!1},null,8,["value"])])),_:1})):p("",!0),m(c(D),{class:"set-item"},{default:d((()=>[st,m(c(Q),{value:c(R),"onUpdate:value":t[11]||(t[11]=e=>U(R)?R.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[nt,m(c(Q),{value:c(T),"onUpdate:value":t[12]||(t[12]=e=>U(T)?T.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[ot,m(c(Q),{value:c(q),"onUpdate:value":t[13]||(t[13]=e=>U(q)?q.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(K),{prefix:"bar"},{default:d((()=>[x(" 搜索框")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[ut,m(c(Q),{value:c(j),"onUpdate:value":t[14]||(t[14]=e=>U(j)?j.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[it,m(c(Q),{value:c($),"onUpdate:value":t[15]||(t[15]=e=>U($)?$.value=e:null),round:!1},null,8,["value"])])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[rt,m(c(Q),{value:c(I),"onUpdate:value":t[16]||(t[16]=e=>U(I)?I.value=e:null),round:!1},null,8,["value"])])),_:1})])),_:1})])),_:1}),m(c(J),{name:"other",tab:"其他设置"},{default:d((()=>[m(c(O),{class:"scrollbar"},{default:d((()=>[m(c(K),{prefix:"bar"},{default:d((()=>[x(" 重置")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[ct,m(c(S),{strong:"",secondary:"",onClick:de},{default:d((()=>[x(" 重置")])),_:1})])),_:1}),m(c(K),{prefix:"bar"},{default:d((()=>[x(" 备份")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[mt,m(c(S),{strong:"",secondary:"",onClick:pe},{default:d((()=>[x(" 备份")])),_:1})])),_:1}),m(c(K),{prefix:"bar"},{default:d((()=>[x(" 恢复")])),_:1}),m(c(D),{class:"set-item"},{default:d((()=>[dt,i("input",{ref_key:"recoverRef",ref:te,type:"file",style:{display:"none"},accept:".json",onChange:ve},null,544),m(c(S),{strong:"",secondary:"",onClick:t[17]||(t[17]=e=>{var t;return null==(t=te.value)?void 0:t.click()})},{default:d((()=>[x(" 恢复")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(c(b),{preset:"card",title:"自定义壁纸",show:ae.value,"onUpdate:show":t[20]||(t[20]=e=>ae.value=e),bordered:!1},{footer:d((()=>[m(c(V),{justify:"end"},{default:d((()=>[m(c(S),{strong:"",secondary:"",onClick:t[19]||(t[19]=e=>ae.value=!1)},{default:d((()=>[x(" 取消")])),_:1}),m(c(S),{strong:"",secondary:"",onClick:me},{default:d((()=>[x(" 确认")])),_:1})])),_:1})])),default:d((()=>[m(c(H),null,{default:d((()=>[m(c(P),{label:"自定义壁纸链接"},{default:d((()=>[m(c(G),{clearable:"",type:"text",value:le.value,"onUpdate:value":t[18]||(t[18]=e=>le.value=e),placeholder:"请输入自定义壁纸链接"},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["show"])])}}},vt=t({__name:"AllFunc",setup(e){const t=ue();return(e,a)=>(o(),u("div",{class:h(c(t).mainBoxBig?"main-box big":"main-box"),onClick:a[0]||(a[0]=f((()=>{}),["stop"])),onContextmenu:a[1]||(a[1]=f((e=>{e.preventDefault()}),["stop"]))},[m(v,{name:"fade",mode:"out-in"},{default:d((()=>["box"===c(t).siteStatus?(o(),w(Me,{key:0})):"set"===c(t).siteStatus?(o(),w(pt,{key:1})):p("",!0)])),_:1})],34))}},[["__scopeId","data-v-82a61f75"]]),ft={class:"copyright"},ht={href:"/"},gt={class:"year"},yt=t({__name:"Footer",setup(e){const t=(new Date).getFullYear();return(e,a)=>(o(),u("footer",{id:"footer",onClick:a[0]||(a[0]=f((()=>{}),["stop"]))},[i("div",ft,[i("a",ht,[i("span",gt,r(c(t)),1)])])]))}},[["__scopeId","data-v-8f3545d8"]]),wt={class:"all-controls"},_t=["title"],kt=["title"],bt=t({__name:"index",setup(e){const t=te(),n=oe(),r=ue(),g=a(!1),y=e=>{e.preventDefault(),r.setSiteStatus("box")},_=()=>{$().then((()=>{g.value=!0}))},k=e=>{if(13===e.keyCode){const e=document.getElementById("main-input");r.setSiteStatus("focus"),null==e||e.focus()}},b=e=>{const t="light"===e?"light":"dark";document.querySelector("html").setAttribute("theme",t)};return l((()=>n.themeType),(e=>b(e))),s((()=>{b(n.themeType)})),(e,a)=>{const l=C;return o(),w(R,null,{default:d((()=>[m(q,{onLoadComplete:_}),m(v,{name:"fade",mode:"out-in"},{default:d((()=>[c(t).imgLoadStatus?(o(),u("main",{key:0,tabindex:"0",id:"main",class:h(`main-${c(r).siteStatus}`),style:j({pointerEvents:g.value?"auto":"none"}),onClick:a[4]||(a[4]=e=>c(r).setSiteStatus("normal")),onContextmenu:y,onKeydown:k},[m(ke),m(ze,{onContextmenu:a[0]||(a[0]=f((()=>{}),["stop"]))}),m(vt,{onContextmenu:a[1]||(a[1]=f((()=>{}),["stop"]))}),m(yt),m(v,{name:"fade"},{default:d((()=>[I(i("div",wt,[i("div",{class:"change-status",title:c(r).mainBoxBig?"收起":"展开",onClick:a[2]||(a[2]=f((e=>c(r).setMainBoxBig(!c(r).mainBoxBig)),["stop"]))},[m(v,{name:"fade",mode:"out-in"},{default:d((()=>[(o(),w(l,{component:c(r).mainBoxBig?"Scan":"Expand",theme:"outline",size:"26",fill:"#fff",key:c(r).mainBoxBig?"Scan":"Expand"},null,8,["component"]))])),_:1})],8,_t),i("div",{class:"change-status",title:"set"!==c(r).siteStatus?"设置":"首页",onClick:a[3]||(a[3]=f((e=>c(r).setSiteStatus("set"!==c(r).siteStatus?"set":"normal")),["stop"]))},[m(v,{name:"fade",mode:"out-in"},{default:d((()=>[(o(),w(l,{component:"set"!==c(r).siteStatus?"Settings":"Home",theme:"outline",size:"26",fill:"#fff",key:"set"!==c(r).siteStatus?"Settings":"Home"},null,8,["component"]))])),_:1})],8,kt)],512),[[A,"focus"!==c(r).siteStatus&&"normal"!==c(r).siteStatus]])])),_:1})],38)):p("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-99a2223c"]]);export{bt as default};
