import{d as e}from"./artist-160951aa.js";import{cP as t,e as r,f as o,Y as s,o as a,c as i,a as u,u as m,dO as p,e1 as l}from"./index-d93ecfd9.js";import{V as n}from"./VideoLists-4db88240.js";import{P as v}from"./index-e01b8113.js";import"./AllArtists-e33e1687.js";import"./text-f881741e.js";import"./use-compitable-f583eb1a.js";import"./light-6dc1ea6d.js";import"./Avatar-d697b90d.js";import"./utils-5d91cb42.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./light-d2124738.js";import"./Grid-86a1f343.js";import"./next-frame-once-924ab492.js";import"./get-slot-a0e67e91.js";import"./Skeleton-8803bfe7.js";import"./use-houdini-2a8f5bbb.js";import"./Pagination-eed167c0.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./use-merged-state-bb55b613.js";import"./Input-19ebdc3b.js";import"./light-1b9db3a7.js";import"./Select-d00ca0af.js";import"./create-07671515.js";import"./light-25af1eec.js";import"./light-f76c98be.js";import"./light-16e65505.js";import"./cssr-2139d5e3.js";import"./Popover-92ca2497.js";import"./Follower-829f72e1.js";import"./Empty-d19cae85.js";import"./light-f5dc26c8.js";import"./create-ref-setter-ee697025.js";const j={class:"videos"},d={__name:"videos",props:{mvSize:{type:Number,default:0}},setup(d){const g=t(),c=d,h=r(g.currentRoute.value.query.id),f=r([]),y=r(30),b=r(g.currentRoute.value.query.page?Number(g.currentRoute.value.query.page):1),x=r(0),S=(t,r=30,o=0)=>{e(t,r,o).then((e=>{x.value=c.mvSize,f.value=[],e.mvs?e.mvs.forEach((e=>{f.value.push({id:e.id,cover:e.imgurl16v9,name:e.name,artist:[e.artist],playCount:p(e.playCount),duration:l(e.duration)})})):$message.error("搜索内容为空"),"undefined"!=typeof $scrollToTop&&$scrollToTop()}))},q=e=>{g.push({path:"/artist/videos",query:{id:h.value,page:e}})},C=e=>{y.value=e,S(h.value,e,(b.value-1)*y.value)};return o((()=>{S(h.value,y.value,(b.value-1)*y.value)})),s((()=>g.currentRoute.value),(e=>{h.value=e.query.id,b.value=Number(e.query.page?e.query.page:1),"ar-videos"==e.name&&S(h.value,y.value,(b.value-1)*y.value)})),(e,t)=>(a(),i("div",j,[u(n,{listData:m(f)},null,8,["listData"]),u(v,{totalCount:m(x),pageNumber:m(b),onPageSizeChange:C,onPageNumberChange:q},null,8,["totalCount","pageNumber"])]))}};export{d as default};
