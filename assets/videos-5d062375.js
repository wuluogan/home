import{b as e}from"./search-6423cffd.js";import{cN as t,cB as s,e as r,Y as o,f as a,o as i,c as u,a as m,u as l,k as p,q as n,dc as j,dj as v}from"./index-c72c5b0c.js";import{V as c}from"./VideoLists-c14db439.js";import{P as d}from"./index-69256b9d.js";import"./AllArtists-b2fee903.js";import"./text-64fc9966.js";import"./use-compitable-a1866e01.js";import"./light-a7677734.js";import"./Avatar-62f97100.js";import"./utils-48198701.js";import"./Tag-827106b2.js";import"./_common-991711fd.js";import"./light-4ec95d76.js";import"./Grid-1728937a.js";import"./next-frame-once-924ab492.js";import"./get-slot-a0e67e91.js";import"./Skeleton-163a49d9.js";import"./use-houdini-1a86f12f.js";import"./Pagination-10257b2a.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./use-merged-state-74230ec8.js";import"./Input-b4caa030.js";import"./light-6c88686a.js";import"./Select-714380b7.js";import"./create-07671515.js";import"./light-20fa43af.js";import"./light-cb0cf260.js";import"./light-170bfcda.js";import"./cssr-ed8d5782.js";import"./Popover-87b27d79.js";import"./Follower-ef4b8179.js";import"./Empty-3e1da814.js";import"./light-e632ba41.js";import"./create-ref-setter-ee697025.js";const g={class:"videos"},h={__name:"videos",setup(h){const{t:y}=t(),f=s(),q=r(f.currentRoute.value.query.keywords),x=r([]),C=r(0),b=r(30),N=r(f.currentRoute.value.query.page?Number(f.currentRoute.value.query.page):1),k=(t,s=30,r=0,o=1004)=>{e(t,s,r,o).then((e=>{C.value=e.result.mvCount,x.value=[],e.result.mvs?e.result.mvs.forEach((e=>{x.value.push({id:e.id,cover:e.cover,name:e.name,artist:e.artists,playCount:j(e.playCount),duration:v(e.duration)})})):$message.error(y("general.message.acquisitionFailed")),"undefined"!=typeof $scrollToTop&&$scrollToTop()}))};o((()=>f.currentRoute.value),(e=>{q.value=e.query.keywords,N.value=Number(e.query.page?e.query.page:1),"s-videos"==e.name&&k(q.value,b.value,(N.value-1)*b.value)}));const S=e=>{b.value=e,k(q.value,e,(N.value-1)*b.value)},T=e=>{f.push({path:"/music/search/videos",query:{keywords:q.value,page:e}})};return a((()=>{k(q.value,b.value,(N.value-1)*b.value)})),(e,t)=>(i(),u("div",g,[m(c,{listData:l(x)},null,8,["listData"]),l(x)[0]?(i(),p(d,{key:0,pageNumber:l(N),totalCount:l(C),onPageSizeChange:S,onPageNumberChange:T},null,8,["pageNumber","totalCount"])):n("",!0)]))}};export{h as default};
