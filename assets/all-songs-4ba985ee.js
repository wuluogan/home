import{e,a as t}from"./artist-160951aa.js";import{_ as a,d8 as s,cP as o,e as r,Y as i,f as l,o as m,c as n,u as p,F as u,d as g,t as j,q as c,a as v,w as d,k as h,e4 as y,e1 as f,g as b,b as k,p as q,l as S}from"./index-d93ecfd9.js";import{D as x}from"./DataLists-2d284e43.js";import{P as D}from"./index-e01b8113.js";import"./AllArtists-e33e1687.js";import"./text-f881741e.js";import"./use-compitable-f583eb1a.js";import"./light-6dc1ea6d.js";import"./AddPlaylist-0e9ef9cc.js";import"./CreatePlaylist-db76e905.js";import"./Input-19ebdc3b.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./use-merged-state-bb55b613.js";import"./light-1b9db3a7.js";import"./Checkbox-995e550a.js";import"./light-2c22dcb8.js";import"./Space-76cfe381.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./Avatar-d697b90d.js";import"./utils-5d91cb42.js";import"./light-d2124738.js";import"./SmallSongData-d7110d79.js";import"./FormItem-ccd063f6.js";import"./light-d411e82b.js";import"./Popover-92ca2497.js";import"./light-f76c98be.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./InputNumber-43a45814.js";import"./Add-00122154.js";import"./Alert-a6104c4f.js";import"./_common-60fffae6.js";import"./Radio-24bd6234.js";import"./RadioGroup-cb180d59.js";import"./light-ca51619b.js";import"./Dropdown-ca523edc.js";import"./create-07671515.js";import"./light-5ced6f1c.js";import"./create-ref-setter-ee697025.js";import"./DrawerContent-b50dea9b.js";import"./light-51fd1fd4.js";import"./Spin-c12f3861.js";import"./light-f8d78f18.js";import"./Pagination-eed167c0.js";import"./Select-d00ca0af.js";import"./light-25af1eec.js";import"./light-16e65505.js";import"./Empty-d19cae85.js";import"./light-f5dc26c8.js";const A={class:"all-songs"},C={key:0,class:"title"},P={class:"key"},$={key:1,class:"title"},_={class:"key"},w=(e=>(q("data-v-b36b5223"),e=e(),S(),e))((()=>g("br",null,null,-1))),N={key:2,class:"songs"},R=a({__name:"all-songs",setup(a){const{t:q}=s(),S=o(),R=r(S.currentRoute.value.query.id),F=r([]),I=r(null),T=r(0),E=r(30),z=r(S.currentRoute.value.query.page?Number(S.currentRoute.value.query.page):1),B=(a,s=30,o=0,r="hot")=>{if(!a)return!1;e(a,s,o,r).then((e=>{if((e=>{t(e).then((e=>{I.value=e.data.artist.name}))})(a),e.songs[0]){T.value=e.total;const t=e.songs.map((e=>e.id));y(t.join(",")).then((e=>{F.value=[],e.songs.forEach(((e,t)=>{F.value.push({id:e.id,num:t+1+(z.value-1)*E.value,name:e.name,artist:e.ar,album:e.al,alia:e.alia,time:f(e.dt),fee:e.fee,pc:e.pc?e.pc:null,mv:e.mv?e.mv:null})}))}))}else $message.error(q("general.message.acquisitionFailed"));"undefined"!=typeof $scrollToTop&&$scrollToTop()})).catch((e=>{S.go(-1),console.error(q("general.message.acquisitionFailed"),e),$message.error(q("general.message.acquisitionFailed"))}))};i((()=>S.currentRoute.value),(e=>{R.value=e.query.id,z.value=Number(e.query.page?e.query.page:1),"all-songs"==e.name&&B(R.value,E.value,z.value?(z.value-1)*E.value:0)}));const G=e=>{E.value=e,getSearchDataList(R.value,e,(z.value-1)*E.value)},L=e=>{S.push({path:"/all-songs",query:{id:R.value,page:e}})};return l((()=>{B(R.value,E.value,(z.value-1)*E.value)})),(e,t)=>{const a=b;return m(),n("div",A,[p(R)?(m(),n("div",C,[p(F)[0]?(m(),n(u,{key:0},[g("span",P,j(p(I)?p(I):e.$t("general.name.unknownArtist")),1),g("span",null,j(e.$t("general.name.allSong")),1)],64)):c("",!0)])):(m(),n("div",$,[g("span",_,j(e.$t("general.name.noKeywords")),1),w,v(a,{strong:"",secondary:"",onClick:t[0]||(t[0]=e=>p(S).go(-1)),style:{"margin-top":"20px"}},{default:d((()=>[k(j(e.$t("general.name.goBack")),1)])),_:1})])),p(R)?(m(),n("div",N,[v(x,{listData:p(F)},null,8,["listData"]),p(F)[0]?(m(),h(D,{key:0,pageNumber:p(z),totalCount:p(T),onPageSizeChange:G,onPageNumberChange:L},null,8,["pageNumber","totalCount"])):c("",!0)])):c("",!0)])}}},[["__scopeId","data-v-b36b5223"]]);export{R as default};
