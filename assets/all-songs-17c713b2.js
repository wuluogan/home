import{e,a as t}from"./artist-5e2ec7cd.js";import{_ as s,cN as a,cB as o,e as r,Y as i,f as l,o as m,c as p,u as n,F as u,d as j,t as g,q as c,a as d,w as v,k as h,dm as y,dj as f,g as k,b,p as q,l as x}from"./index-c72c5b0c.js";import{D}from"./DataLists-aff5237d.js";import{P as $}from"./index-69256b9d.js";import"./AllArtists-b2fee903.js";import"./text-64fc9966.js";import"./use-compitable-a1866e01.js";import"./light-a7677734.js";import"./AddPlaylist-fbffd947.js";import"./CreatePlaylist-a7b4fb4f.js";import"./Input-b4caa030.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./use-merged-state-74230ec8.js";import"./light-6c88686a.js";import"./Checkbox-edaaabdb.js";import"./light-c071e0c7.js";import"./Space-5d75b1a8.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./Tag-827106b2.js";import"./_common-991711fd.js";import"./Avatar-62f97100.js";import"./utils-48198701.js";import"./light-4ec95d76.js";import"./SmallSongData-c72e9d99.js";import"./FormItem-e0127deb.js";import"./light-8d6c1748.js";import"./Popover-87b27d79.js";import"./light-cb0cf260.js";import"./Follower-ef4b8179.js";import"./next-frame-once-924ab492.js";import"./cssr-ed8d5782.js";import"./InputNumber-3459a9d0.js";import"./Add-b088e338.js";import"./Alert-e807b2ba.js";import"./_common-60fffae6.js";import"./Radio-3c9720cb.js";import"./RadioGroup-b4b538f1.js";import"./light-5b209fbc.js";import"./RecordDisc-b91e091f.js";import"./LinkTwo-8d6bc0a2.js";import"./light-bf1b7eb7.js";import"./PlayOne-22adba7e.js";import"./DeleteFour-7678c621.js";import"./Dropdown-db0b14d8.js";import"./create-07671515.js";import"./light-37eaa122.js";import"./create-ref-setter-ee697025.js";import"./DrawerContent-eda0377e.js";import"./light-ae2f09ac.js";import"./Pagination-10257b2a.js";import"./Select-714380b7.js";import"./light-20fa43af.js";import"./light-170bfcda.js";import"./Empty-3e1da814.js";import"./light-e632ba41.js";const _={class:"all-songs"},A={key:0,class:"title"},C={class:"key"},S={key:1,class:"title"},w={class:"key"},F=(e=>(q("data-v-19739914"),e=e(),x(),e))((()=>j("br",null,null,-1))),N={key:2,class:"songs"},P=s({__name:"all-songs",setup(s){const{t:q}=a(),x=o(),P=r(x.currentRoute.value.query.id),R=r([]),T=r(null),I=r(0),E=r(30),L=r(x.currentRoute.value.query.page?Number(x.currentRoute.value.query.page):1),z=(s,a=30,o=0,r="hot")=>{if(!s)return!1;e(s,a,o,r).then((e=>{if((e=>{t(e).then((e=>{T.value=e.data.artist.name}))})(s),e.songs[0]){I.value=e.total;const t=e.songs.map((e=>e.id));y(t.join(",")).then((e=>{R.value=[],e.songs.forEach(((e,t)=>{R.value.push({id:e.id,num:t+1+(L.value-1)*E.value,name:e.name,artist:e.ar,album:e.al,alia:e.alia,time:f(e.dt),fee:e.fee,pc:e.pc?e.pc:null,mv:e.mv?e.mv:null})}))}))}else $message.error(q("general.message.acquisitionFailed"));"undefined"!=typeof $scrollToTop&&$scrollToTop()})).catch((e=>{x.go(-1),console.error(q("general.message.acquisitionFailed"),e),$message.error(q("general.message.acquisitionFailed"))}))};i((()=>x.currentRoute.value),(e=>{P.value=e.query.id,L.value=Number(e.query.page?e.query.page:1),"all-songs"==e.name&&z(P.value,E.value,L.value?(L.value-1)*E.value:0)}));const B=e=>{E.value=e,getSearchDataList(P.value,e,(L.value-1)*E.value)},G=e=>{x.push({path:"/music/all-songs",query:{id:P.value,page:e}})};return l((()=>{z(P.value,E.value,(L.value-1)*E.value)})),(e,t)=>{const s=k;return m(),p("div",_,[n(P)?(m(),p("div",A,[n(R)[0]?(m(),p(u,{key:0},[j("span",C,g(n(T)?n(T):e.$t("general.name.unknownArtist")),1),j("span",null,g(e.$t("general.name.allSong")),1)],64)):c("",!0)])):(m(),p("div",S,[j("span",w,g(e.$t("general.name.noKeywords")),1),F,d(s,{strong:"",secondary:"",onClick:t[0]||(t[0]=e=>n(x).go(-1)),style:{"margin-top":"20px"}},{default:v((()=>[b(g(e.$t("general.name.goBack")),1)])),_:1})])),n(P)?(m(),p("div",N,[d(D,{listData:n(R)},null,8,["listData"]),n(R)[0]?(m(),h($,{key:0,pageNumber:n(L),totalCount:n(I),onPageSizeChange:B,onPageNumberChange:G},null,8,["pageNumber","totalCount"])):c("",!0)])):c("",!0)])}}},[["__scopeId","data-v-19739914"]]);export{P as default};
