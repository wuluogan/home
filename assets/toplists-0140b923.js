import{_ as s,d8 as t,cP as i,r as a,f as o,o as e,c as r,u as l,k as p,w as m,q as n,a as c,ac as d,dO as j,b as f,t as u,F as g,x as v,d as h,an as _}from"./index-d93ecfd9.js";import{g as L}from"./album-72ad8940.js";import{C as y}from"./CoverLists-0e646f28.js";import{_ as b}from"./Divider-2b26e657.js";import{_ as x}from"./Avatar-d697b90d.js";import{_ as k}from"./text-f881741e.js";import{_ as I,a as T}from"./Grid-86a1f343.js";import"./AllArtists-e33e1687.js";import"./Input-19ebdc3b.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./use-merged-state-bb55b613.js";import"./light-1b9db3a7.js";import"./FormItem-ccd063f6.js";import"./light-d411e82b.js";import"./Popover-92ca2497.js";import"./light-f76c98be.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./use-compitable-f583eb1a.js";import"./Select-d00ca0af.js";import"./create-07671515.js";import"./light-25af1eec.js";import"./light-16e65505.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./Empty-d19cae85.js";import"./Space-76cfe381.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./getCoverUrl-bb08aa65.js";import"./Spin-c12f3861.js";import"./light-f8d78f18.js";import"./Image-46cbaef1.js";import"./utils-5d91cb42.js";import"./light-c2ad2c79.js";import"./Tooltip-0ede3859.js";import"./Skeleton-8803bfe7.js";import"./use-houdini-2a8f5bbb.js";import"./Dropdown-ca523edc.js";import"./light-5ced6f1c.js";import"./create-ref-setter-ee697025.js";import"./light-3a92740e.js";import"./light-d2124738.js";import"./light-6dc1ea6d.js";const C={class:"toplists"},S={class:"cover"},F={class:"data"},D={class:"desc"},$=s({__name:"toplists",setup(s){const{t:$}=t(),A=i(),H=a({officialList:[],globalList:[]});return o((()=>{$setSiteTitle($("nav.discover")+" - "+$("nav.discoverChildren.toplists")),L().then((s=>{H.officialList=[],H.globalList=[],s.list[0]?s.list.forEach((s=>{s.ToplistType?H.officialList.push(s):H.globalList.push({id:s.id,cover:s.coverImgUrl,name:s.name,update:s.updateFrequency,playCount:j(s.playCount)})})):$message.error($("general.message.acquisitionFailed"))}))})),(s,t)=>{const i=b,a=x,o=k,j=_,L=I,$=T;return e(),r("div",C,[l(H).officialList[0]?(e(),p(i,{key:0},{default:m((()=>[f(u(s.$t("nav.officialList")),1)])),_:1})):n("",!0),c(d,{mode:"out-in"},{default:m((()=>[l(H).officialList[0]?(e(),p($,{key:0,class:"official","x-gap":"20","y-gap":"20",cols:2},{default:m((()=>[(e(!0),r(g,null,v(l(H).officialList,(s=>(e(),p(L,{key:s},{default:m((()=>[c(j,{class:"item",bordered:!1,"content-style":{padding:"0",display:"flex",alignItems:"center"},hoverable:"",onClick:t=>l(A).push(`/playlist?id=${s.id}&page=1`)},{default:m((()=>[h("div",S,[c(a,{class:"coverImg",src:s.coverImgUrl.replace(/^http:/,"https:")+"?param=300y300","fallback-src":"/img/music/pic/default.png"},null,8,["src"]),c(o,{class:"update",innerHTML:s.updateFrequency},null,8,["innerHTML"])]),h("div",F,[c(o,{class:"title",innerHTML:s.name},null,8,["innerHTML"]),h("div",D,[(e(!0),r(g,null,v(s.tracks,((s,t)=>(e(),r("div",{class:"song text-hidden",key:s},[c(o,null,{default:m((()=>[f(u(t+1)+". "+u(s.first)+" -",1)])),_:2},1024),c(o,{depth:"3"},{default:m((()=>[f(u(s.second),1)])),_:2},1024)])))),128))])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):n("",!0)])),_:1}),c(i,null,{default:m((()=>[f(u(s.$t("nav.globalList")),1)])),_:1}),c(y,{listData:l(H).globalList,listType:"topList"},null,8,["listData"])])}}},[["__scopeId","data-v-89bd6a3f"]]);export{$ as default};
