import{h as e}from"./hot-b4aaf852.js";import{z as t,$ as s,a4 as l,y as a,C as o,A as n,s as i,aa as r,ab as c,N as d,b_ as m,bX as p,bZ as u,bY as f,_ as h,cP as g,e as v,Y as y,f as x,o as _,k as w,w as z,a as j,u as b,d as C,b as k,t as D,ac as $,c as B,g as S,ae as F,bO as I,cX as T,q as M,cQ as L,F as V,x as A,j as E,n as O,an as R}from"./index-d93ecfd9.js";import{g as P}from"./hot-80e4e7fa.js";import{f as H}from"./getTime-b474c875.js";import{_ as Y}from"./Avatar-d697b90d.js";import{_ as q}from"./Skeleton-8803bfe7.js";import{r as Q}from"./light-c009801c.js";import{_ as U}from"./Space-76cfe381.js";import{_ as W}from"./text-f881741e.js";import{_ as X}from"./Popover-92ca2497.js";import{_ as Z}from"./Scrollbar-b297dc5c.js";import{_ as G,a as J}from"./Grid-86a1f343.js";import{_ as N}from"./Divider-2b26e657.js";import"./dayjs.min-8c8ee1be.js";import"./utils-5d91cb42.js";import"./Tag-9bd41f20.js";import"./_common-991711fd.js";import"./light-d2124738.js";import"./use-houdini-2a8f5bbb.js";import"./get-slot-a0e67e91.js";import"./_common-89f2509f.js";import"./use-compitable-f583eb1a.js";import"./light-6dc1ea6d.js";import"./light-f76c98be.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./use-merged-state-bb55b613.js";import"./light-3a92740e.js";const K=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},t("circle",{fill:"#FFCB4C",cx:"18",cy:"17.018",r:"17"}),t("path",{fill:"#65471B",d:"M14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"}),t("ellipse",{fill:"#65471B",cx:"13.119",cy:"11.174",rx:"2.125",ry:"2.656"}),t("ellipse",{fill:"#65471B",cx:"24.375",cy:"12.236",rx:"2.125",ry:"2.656"}),t("path",{fill:"#F19020",d:"M17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048l3.152-.681z"}),t("path",{fill:"#65471B",d:"M9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z"})),ee=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},t("path",{fill:"#FFCC4D",d:"M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"}),t("ellipse",{fill:"#664500",cx:"18",cy:"27",rx:"5",ry:"6"}),t("path",{fill:"#664500",d:"M5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm24.002 0c-.305 0-.604-.138-.801-.4-2.64-3.521-6.061-3.598-6.206-3.6-.55-.006-.994-.456-.991-1.005C22.006 5.444 22.45 5 23 5c.184 0 4.537.05 7.8 4.4.332.442.242 1.069-.2 1.4-.18.135-.39.2-.599.2zm-16.087 4.5l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L12.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L13.914 15.5zm11 0l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L23.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L24.914 15.5z"})),te=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},t("ellipse",{fill:"#292F33",cx:"18",cy:"26",rx:"18",ry:"10"}),t("ellipse",{fill:"#66757F",cx:"18",cy:"24",rx:"18",ry:"10"}),t("path",{fill:"#E1E8ED",d:"M18 31C3.042 31 1 16 1 12h34c0 2-1.958 19-17 19z"}),t("path",{fill:"#77B255",d:"M35 12.056c0 5.216-7.611 9.444-17 9.444S1 17.271 1 12.056C1 6.84 8.611 3.611 18 3.611s17 3.229 17 8.445z"}),t("ellipse",{fill:"#A6D388",cx:"18",cy:"13",rx:"15",ry:"7"}),t("path",{d:"M21 17c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.739-1.109.9-2.246.478-3.377-.461-1.236-1.438-1.996-1.731-2.077-.553 0-.958-.443-.958-.996 0-.552.491-.995 1.043-.995.997 0 2.395 1.153 3.183 2.625 1.034 1.933.91 4.039-.351 5.929-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.196-.451.294-.707.294zm-6-2c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.727-1.091.893-2.083.494-2.947-.444-.961-1.431-1.469-1.684-1.499-.552 0-.989-.447-.989-1 0-.552.458-1 1.011-1 .997 0 2.585.974 3.36 2.423.481.899 1.052 2.761-.528 5.131-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.197-.451.295-.707.295z",fill:"#5C913B"})),se=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},t("path",{fill:"#EF9645",d:"M15.5 2.965c1.381 0 2.5 1.119 2.5 2.5v.005L20.5.465c1.381 0 2.5 1.119 2.5 2.5V4.25l2.5-1.535c1.381 0 2.5 1.119 2.5 2.5V8.75L29 18H15.458L15.5 2.965z"}),t("path",{fill:"#FFDC5D",d:"M4.625 16.219c1.381-.611 3.354.208 4.75 2.188.917 1.3 1.187 3.151 2.391 3.344.46.073 1.234-.313 1.234-1.397V4.5s0-2 2-2 2 2 2 2v11.633c0-.029 1-.064 1-.082V2s0-2 2-2 2 2 2 2v14.053c0 .017 1 .041 1 .069V4.25s0-2 2-2 2 2 2 2v12.638c0 .118 1 .251 1 .398V8.75s0-2 2-2 2 2 2 2V24c0 6.627-5.373 12-12 12-4.775 0-8.06-2.598-9.896-5.292C8.547 28.423 8.096 26.051 8 25.334c0 0-.123-1.479-1.156-2.865-1.469-1.969-2.5-3.156-3.125-3.866-.317-.359-.625-1.707.906-2.384z"})),le=s("result","\n color: var(--n-text-color);\n line-height: var(--n-line-height);\n font-size: var(--n-font-size);\n transition:\n color .3s var(--n-bezier);\n",[s("result-icon","\n display: flex;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n ",[l("status-image","\n font-size: var(--n-icon-size);\n width: 1em;\n height: 1em;\n "),s("base-icon","\n color: var(--n-icon-color);\n font-size: var(--n-icon-size);\n ")]),s("result-content",{marginTop:"24px"}),s("result-footer","\n margin-top: 24px;\n text-align: center;\n "),s("result-header",[l("title","\n margin-top: 16px;\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n text-align: center;\n color: var(--n-title-text-color);\n font-size: var(--n-title-font-size);\n "),l("description","\n margin-top: 4px;\n text-align: center;\n font-size: var(--n-font-size);\n ")])]),ae={403:se,404:K,418:te,500:ee,info:t(m,null),success:t(p,null),warning:t(u,null),error:t(f,null)},oe=a({name:"Result",props:Object.assign(Object.assign({},n.props),{size:{type:String,default:"medium"},status:{type:String,default:"info"},title:String,description:String}),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:s}=o(e),l=n("Result","-result",le,Q,e,t),a=i((()=>{const{size:t,status:s}=e,{common:{cubicBezierEaseInOut:a},self:{textColor:o,lineHeight:n,titleTextColor:i,titleFontWeight:c,[r("iconColor",s)]:d,[r("fontSize",t)]:m,[r("titleFontSize",t)]:p,[r("iconSize",t)]:u}}=l.value;return{"--n-bezier":a,"--n-font-size":m,"--n-icon-size":u,"--n-line-height":n,"--n-text-color":o,"--n-title-font-size":p,"--n-title-font-weight":c,"--n-title-text-color":i,"--n-icon-color":d||""}})),d=s?c("result",i((()=>{const{size:t,status:s}=e;let l="";return t&&(l+=t[0]),s&&(l+=s[0]),l})),a,e):void 0;return{mergedClsPrefix:t,cssVars:s?void 0:a,themeClass:null==d?void 0:d.themeClass,onRender:null==d?void 0:d.onRender}},render(){var e;const{status:s,$slots:l,mergedClsPrefix:a,onRender:o}=this;return null==o||o(),t("div",{class:[`${a}-result`,this.themeClass],style:this.cssVars},t("div",{class:`${a}-result-icon`},(null===(e=l.icon)||void 0===e?void 0:e.call(l))||t(d,{clsPrefix:a},{default:()=>ae[s]})),t("div",{class:`${a}-result-header`},this.title?t("div",{class:`${a}-result-header__title`},this.title):null,this.description?t("div",{class:`${a}-result-header__description`},this.description):null),l.default&&t("div",{class:`${a}-result-content`},l),l.footer&&t("div",{class:`${a}-result-footer`},l.footer()))}}),ne={class:"name"},ie={key:0,class:"error"},re={key:1,class:"loading"},ce=["id"],de={key:0,class:"loading"},me={key:1,class:"message"},pe=h({__name:"HotList",props:{hotData:{type:Object,default:{}}},setup(t){const s=g(),l=e(),a=t,o=v(null),n=v(localStorage.getItem(`${a.hotData.name}Btn`)||0),i=v(null),r=v(null),c=v(!1),d=v(!1),m=async(e,t=!1)=>{try{d.value=!1;const s=l.newsArr.find((t=>t.name==e)),a=await P(s.name,t,s.params);200===a.code?(c.value=!1,i.value=a,r.value&&r.value.scrollTo({position:"top",behavior:"smooth"})):(d.value=!0,$message.error(a.title+a.message))}catch(s){d.value=!0,$message.error("热榜加载失败，请重试")}},p=()=>{const e=Date.now();e-n.value>6e4?(c.value=!0,m(a.hotData.name,!0),n.value=e,localStorage.setItem(`${a.hotData.name}Btn`,e)):$message.info("请稍后再刷新")},u=()=>{a.hotData.name?s.push({path:"/hot/list",query:{type:a.hotData.name}}):$message.error("数据出错，请重试")};return y((()=>l.timeData),(()=>{i.value&&(o.value=H(i.value.updateTime))})),x((()=>{(()=>{const e="hot-list-"+a.hotData.name,t=document.getElementById(e),s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(m(a.hotData.name),s.unobserve(e.target))}))}));s.observe(t)})()})),(e,s)=>(_(),w(b(R),{"header-style":{padding:"16px"},"content-style":{padding:"0 16px"},"footer-style":{padding:"16px"},id:`hot-list-${t.hotData.name}`,class:"hot-list",hoverable:"",onClick:u},{header:z((()=>[j(b(U),{class:"title",justify:"space-between"},{default:z((()=>{var e;return[C("div",ne,[j(b(Y),{class:"ico",src:`/img/logo/${t.hotData.name}.png`,"fallback-src":"/ico/icon_error.png"},null,8,["src"]),j(b(W),{class:"name-text"},{default:z((()=>[k(D(t.hotData.label),1)])),_:1})]),(null==(e=b(i))?void 0:e.type)?(_(),w(b(W),{key:0,class:"subtitle",depth:2},{default:z((()=>[k(D(b(i).type),1)])),_:1})):(_(),w(b(q),{key:1,width:"60px",text:"",round:""}))]})),_:1})])),footer:z((()=>[j($,{name:"fade",mode:"out-in"},{default:z((()=>[b(i)?(_(),B("div",me,[b(o)?(_(),w(b(W),{key:0,class:"time",depth:3},{default:z((()=>[k(D(b(o)),1)])),_:1})):(_(),w(b(W),{key:1,class:"time",depth:3},{default:z((()=>[k(" 获取失败")])),_:1})),j(b(U),{class:"controls"},{default:z((()=>[b(i).data.length>15?(_(),w(b(X),{key:0},{trigger:z((()=>[j(b(S),{size:"tiny",secondary:"",strong:"",round:"",onClick:F(u,["stop"])},{icon:z((()=>[j(b(I),{component:b(T)},null,8,["component"])])),_:1})])),default:z((()=>[k(" 查看更多 ")])),_:1})):M("",!0),j(b(X),null,{trigger:z((()=>[j(b(S),{size:"tiny",secondary:"",strong:"",round:"",onClick:F(p,["stop"])},{icon:z((()=>[j(b(I),{component:b(L)},null,8,["component"])])),_:1})])),default:z((()=>[k(" 获取最新 ")])),_:1})])),_:1})])):(_(),B("div",de,[j(b(q),{text:"",round:""})]))])),_:1})])),default:z((()=>[j(b(Z),{class:"news-list",ref_key:"scrollbarRef",ref:r},{default:z((()=>[j($,{name:"fade",mode:"out-in"},{default:z((()=>[b(d)?(_(),B("div",ie,[j(b(oe),{size:"small",status:"500",title:"哎呀，加载失败了",description:"生活总会遇到不如意的事情",style:{"margin-top":"40px"}}),j(b(S),{size:"small",secondary:"",strong:"",round:"",onClick:s[0]||(s[0]=F((e=>m(t.hotData.name)),["stop"]))},{icon:z((()=>[j(b(I),{component:b(L)},null,8,["component"])])),default:z((()=>[k(" 重试 ")])),_:1})])):!b(i)||b(c)?(_(),B("div",re,[j(b(q),{text:"",round:"",repeat:10,height:"20px"})])):(_(),B("div",{key:2,class:"lists",id:t.hotData.name+"Lists"},[(_(!0),B(V,null,A(b(i).data.slice(0,15),((e,t)=>(_(),B("div",{class:"item",key:e},[j(b(W),{class:E(["num",0===t?"one":1===t?"two":2===t?"three":null]),depth:2},{default:z((()=>[k(D(t+1),1)])),_:2},1032,["class"]),j(b(W),{style:O({fontSize:b(l).listFontSize+"px"}),class:"text",onClick:F((t=>(e=>{if(!e.url||!e.mobileUrl)return $message.error("链接不存在");const t=window.innerWidth>680?e.url:e.mobileUrl;"open"===l.linkOpenType?window.open(t,"_blank"):"href"===l.linkOpenType&&(window.location.href=t)})(e)),["stop"])},{default:z((()=>[k(D(e.title),1)])),_:2},1032,["style","onClick"])])))),128))],8,ce))])),_:1})])),_:1},512)])),_:1},8,["id"]))}},[["__scopeId","data-v-4233f158"]]),ue={class:"home"},fe={key:1,class:"error"},he=h({__name:"home",setup(t){const s=e(),l=()=>{$dialog.warning({title:"重置站点",content:"确认重置站点？你的自定义数据将会恢复为默认状态！（当设置页面能正常进入并显示时请不要执行此操作！）",positiveText:"重置",negativeText:"取消",onPositiveClick:()=>{$timeInterval&&clearInterval($timeInterval),localStorage.clear(),location.reload()}})};return(e,t)=>(_(),B("div",ue,[b(s).newsArr[0]&&b(s).newsArr.filter((e=>e.show))[0]?(_(),w(b(J),{key:0,cols:"1 560:2 800:3 1100:4 1500:5","x-gap":24,"y-gap":24},{default:z((()=>[(_(!0),B(V,null,A(b(s).newsArr.filter((e=>e.show)),((e,t)=>(_(),w(b(G),{class:"news-card",key:e,style:O({animationDelay:t/10+.2+"s"})},{default:z((()=>[j(pe,{hotData:e},null,8,["hotData"])])),_:2},1032,["style"])))),128))])),_:1})):(_(),B("div",fe,[j(b(N),{dashed:"",class:"tip"},{default:z((()=>[k(" 此处暂无内容")])),_:1}),j(b(U),{justify:"center"},{default:z((()=>[j(b(S),{size:"large",secondary:"",strong:"",onClick:l},{default:z((()=>[k(" 出错了？点此重置 ")])),_:1})])),_:1})]))]))}},[["__scopeId","data-v-b1839f7c"]]);export{he as default};
