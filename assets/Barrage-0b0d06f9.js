import{_ as e,r as t,e as l,h as a,f as s,i,o,c as r,a as n,w as u,b as d,t as m,d as p,n as c,g as v}from"./index-d93ecfd9.js";import{_ as f}from"./Slider-d57b5f15.js";import{_ as x}from"./ColorPicker-9618aede.js";import{_ as y}from"./GradientText-8c62cc47.js";import{N as h}from"./headers-79a1892a.js";import{_}from"./text-f881741e.js";import{_ as b}from"./Input-19ebdc3b.js";import{_ as g}from"./Divider-2b26e657.js";import"./use-merged-state-bb55b613.js";import"./_common-b0d8bea4.js";import"./Follower-829f72e1.js";import"./next-frame-once-924ab492.js";import"./cssr-2139d5e3.js";import"./InputGroup-f41ddb03.js";import"./Suffix-1fd55ec3.js";import"./index-92eb66c0.js";import"./light-12c62e2d.js";import"./light-1b9db3a7.js";import"./use-houdini-2a8f5bbb.js";import"./light-6dc1ea6d.js";import"./use-compitable-f583eb1a.js";import"./light-3a92740e.js";const j={class:"barrage-container"},C={class:"barrage-content"},F={class:"form-item"},k={class:"input-wrapper"},w={class:"form-item"},S={class:"slider-wrapper"},z={class:"form-item"},P={class:"slider-wrapper"},E={class:"form-item"},U={class:"form-item"},A={class:"button-container"},D=e({__name:"Barrage",setup(e){const D=t({title:"手持弹幕",content:"工具坊",barrage:[],speed:200,textSize:500,textColor:"#FFFFFF",bgColor:"#000000",channels:1,extraStyle:"",danmakuFullStyle:"",isPlay:!1,danmakuFullHeight:"100%",danmakuFullWidth:"100%"}),I=l(null),B=l(null),G=l([]),H=()=>{D.isPlay?(L("visibility: hidden;"),Y(),D.isPlay=!1):(L(),N(),T(),D.isPlay=!0)},L=(e="")=>{D.extraStyle="color: "+D.textColor+";font-size: "+D.textSize+"px",D.danmakuFullStyle="z-index: 99; position: fixed; top: 0px; left: 0px; height:"+D.danmakuFullHeight+"; width:"+D.danmakuFullWidth+"; background-color:"+D.bgColor+";"+e},N=()=>{D.barrage=[D.content]},T=()=>{if(I.value){for(;I.value.firstChild;)I.value.removeChild(I.value.firstChild);G.value=[],D.barrage.forEach((e=>{const t=(e=>{const t=document.createElement("div");return t.className="danmaku-item",t.textContent=e,t.style.cssText=D.extraStyle,t.style.position="absolute",t.style.whiteSpace="nowrap",t.style.left="100%",t.style.top="50%",t.style.transform="translateY(-50%)",t})(e);I.value.appendChild(t),G.value.push({element:t,position:100,speed:D.speed/100})})),W()}},W=()=>{G.value.forEach((e=>{e.position-=e.speed,e.element.style.left=`${e.position}%`,e.position<-100&&(e.position=100)})),B.value=requestAnimationFrame(W)},Y=()=>{B.value&&(cancelAnimationFrame(B.value),B.value=null)},q=()=>{H()};a((()=>{L("visibility: hidden;")})),s((()=>{window.addEventListener("resize",R)})),i((()=>{Y(),window.removeEventListener("resize",R)}));const R=()=>{D.isPlay&&(Y(),T())};return(e,t)=>{const l=y,a=h,s=_,i=b,B=f,G=x,N=v,T=g;return o(),r("div",j,[n(a,null,{default:u((()=>[n(l,{type:"info"},{default:u((()=>[d(m(D.title),1)])),_:1})])),_:1}),p("div",{ref_key:"danmakuRef",ref:I,class:"danmaku-container",style:c(D.danmakuFullStyle),onDblclick:q},null,36),p("div",C,[p("div",F,[n(s,{class:"label"},{default:u((()=>[d("弹幕内容:")])),_:1}),p("div",k,[n(i,{value:D.content,"onUpdate:value":t[0]||(t[0]=e=>D.content=e),type:"textarea",rows:3},null,8,["value"])])]),p("div",w,[n(s,{class:"label"},{default:u((()=>[d("播放速度:")])),_:1}),p("div",S,[n(B,{value:D.speed,"onUpdate:value":t[1]||(t[1]=e=>D.speed=e),min:1,max:500},null,8,["value"])])]),p("div",z,[n(s,{class:"label"},{default:u((()=>[d("文字大小:")])),_:1}),p("div",P,[n(B,{value:D.textSize,"onUpdate:value":t[2]||(t[2]=e=>D.textSize=e),min:12,max:1e3},null,8,["value"])])]),p("div",E,[n(s,{class:"label"},{default:u((()=>[d("文字颜色:")])),_:1}),p("div",null,[n(G,{value:D.textColor,"onUpdate:value":[t[3]||(t[3]=e=>D.textColor=e),t[4]||(t[4]=e=>L())],size:"large"},null,8,["value"])])]),p("div",U,[n(s,{class:"label"},{default:u((()=>[d("背景颜色:")])),_:1}),p("div",null,[n(G,{value:D.bgColor,"onUpdate:value":[t[5]||(t[5]=e=>D.bgColor=e),t[6]||(t[6]=e=>L())],size:"large"},null,8,["value"])])]),p("div",A,[n(N,{onClick:H,type:"primary",class:"play-button"},{default:u((()=>[d(m(0==D.isPlay?"播放":"暂停"),1)])),_:1}),n(s,null,{default:u((()=>[d("双击可退出弹幕")])),_:1})])]),n(T,{"title-placement":"left"},{default:u((()=>[d("描述")])),_:1}),n(s,null,{default:u((()=>[d(" 手持弹幕是一种新型的互动沟通工具，可以方便地为各种户外活动、演出嘉年华等活动增加趣味性和互动性。手持弹幕具有轻便、易携带、易操作等优点，可以让每个参与者都变成活动的一部分。同时，手持弹幕还可以通过预先编写的文本、表情等形式，表达参与者的情感和想法，实现沟通互动。在社交媒体时代，手持弹幕的使用也带来了更广泛的社交效应，增加了活动的互动性和传播度。无论是举办方还是参与者，手持弹幕都是一个非常有价值的互动工具。 ")])),_:1})])}}},[["__scopeId","data-v-c87bcdcf"]]);export{D as default};
