import{_ as e,r as t,e as l,h as a,f as s,i,o,c as r,a as n,w as u,b as d,t as m,d as p,n as c,g as v}from"./index-c72c5b0c.js";import{_ as f}from"./Slider-ec730116.js";import{_ as x}from"./ColorPicker-5cbd2c04.js";import{_ as y}from"./GradientText-fc4bdbf9.js";import{N as h}from"./headers-9bed30c4.js";import{_}from"./text-64fc9966.js";import{_ as b}from"./Input-b4caa030.js";import{_ as g}from"./Divider-de4c325a.js";import"./use-merged-state-74230ec8.js";import"./_common-b0d8bea4.js";import"./Follower-ef4b8179.js";import"./next-frame-once-924ab492.js";import"./cssr-ed8d5782.js";import"./InputGroup-9f36320f.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./light-f72e4d05.js";import"./light-6c88686a.js";import"./use-houdini-1a86f12f.js";import"./light-a7677734.js";import"./use-compitable-a1866e01.js";import"./light-5d80b650.js";const j={class:"barrage-container"},F={class:"barrage-content"},C={class:"form-item"},k={class:"input-wrapper"},w={class:"form-item"},S={class:"slider-wrapper"},z={class:"form-item"},P={class:"slider-wrapper"},E={class:"form-item"},U={class:"form-item"},D={class:"button-container"},G=e({__name:"Barrage",setup(e){const G=t({title:"手持弹幕",content:"工具坊",barrage:[],speed:200,textSize:500,textColor:"#FFFFFF",bgColor:"#000000",channels:1,extraStyle:"",danmakuFullStyle:"",isPlay:!1,danmakuFullHeight:"100%",danmakuFullWidth:"100%"}),H=l(null),I=l(null),q=l([]),A=()=>{G.isPlay?(L("visibility: hidden;"),Y(),G.isPlay=!1):(L(),N(),T(),G.isPlay=!0)},L=(e="")=>{G.extraStyle="color: "+G.textColor+";font-size: "+G.textSize+"px",G.danmakuFullStyle="z-index: 99; position: fixed; top: 0px; left: 0px; height:"+G.danmakuFullHeight+"; width:"+G.danmakuFullWidth+"; background-color:"+G.bgColor+";"+e},N=()=>{G.barrage=[G.content]},T=()=>{if(H.value){for(;H.value.firstChild;)H.value.removeChild(H.value.firstChild);q.value=[],G.barrage.forEach((e=>{const t=(e=>{const t=document.createElement("div");return t.className="danmaku-item",t.textContent=e,t.style.cssText=G.extraStyle,t.style.position="absolute",t.style.whiteSpace="nowrap",t.style.left="100%",t.style.top="50%",t.style.transform="translateY(-50%)",t})(e);H.value.appendChild(t),q.value.push({element:t,position:100,speed:G.speed/100})})),W()}},W=()=>{q.value.forEach((e=>{e.position-=e.speed,e.element.style.left=`${e.position}%`,e.position<-100&&(e.position=100)})),I.value=requestAnimationFrame(W)},Y=()=>{I.value&&(cancelAnimationFrame(I.value),I.value=null)},$=()=>{A()};a((()=>{L("visibility: hidden;")})),s((()=>{window.addEventListener("resize",B)})),i((()=>{Y(),window.removeEventListener("resize",B)}));const B=()=>{G.isPlay&&(Y(),T())};return(e,t)=>{const l=y,a=h,s=_,i=b,I=f,q=x,N=v,T=g;return o(),r("div",j,[n(a,null,{default:u((()=>[n(l,{type:"info"},{default:u((()=>[d(m(G.title),1)])),_:1})])),_:1}),p("div",{ref_key:"danmakuRef",ref:H,class:"danmaku-container",style:c(G.danmakuFullStyle),onDblclick:$},null,36),p("div",F,[p("div",C,[n(s,{class:"label"},{default:u((()=>[d("弹幕内容:")])),_:1}),p("div",k,[n(i,{value:G.content,"onUpdate:value":t[0]||(t[0]=e=>G.content=e),type:"textarea",rows:3},null,8,["value"])])]),p("div",w,[n(s,{class:"label"},{default:u((()=>[d("播放速度:")])),_:1}),p("div",S,[n(I,{value:G.speed,"onUpdate:value":t[1]||(t[1]=e=>G.speed=e),min:1,max:500},null,8,["value"])])]),p("div",z,[n(s,{class:"label"},{default:u((()=>[d("文字大小:")])),_:1}),p("div",P,[n(I,{value:G.textSize,"onUpdate:value":t[2]||(t[2]=e=>G.textSize=e),min:12,max:1e3},null,8,["value"])])]),p("div",E,[n(s,{class:"label"},{default:u((()=>[d("文字颜色:")])),_:1}),p("div",null,[n(q,{value:G.textColor,"onUpdate:value":[t[3]||(t[3]=e=>G.textColor=e),t[4]||(t[4]=e=>L())],size:"large"},null,8,["value"])])]),p("div",U,[n(s,{class:"label"},{default:u((()=>[d("背景颜色:")])),_:1}),p("div",null,[n(q,{value:G.bgColor,"onUpdate:value":[t[5]||(t[5]=e=>G.bgColor=e),t[6]||(t[6]=e=>L())],size:"large"},null,8,["value"])])]),p("div",D,[n(N,{onClick:A,type:"primary",class:"play-button"},{default:u((()=>[d(m(0==G.isPlay?"播放":"暂停"),1)])),_:1}),n(s,null,{default:u((()=>[d("双击可退出弹幕")])),_:1})])]),n(T,{"title-placement":"left"},{default:u((()=>[d("描述")])),_:1}),n(s,null,{default:u((()=>[d(" 手持弹幕是一种新型的互动沟通工具，可以方便地为各种户外活动、演出嘉年华等活动增加趣味性和互动性。手持弹幕具有轻便、易携带、易操作等优点，可以让每个参与者都变成活动的一部分。同时，手持弹幕还可以通过预先编写的文本、表情等形式，表达参与者的情感和想法，实现沟通互动。在社交媒体时代，手持弹幕的使用也带来了更广泛的社交效应，增加了活动的互动性和传播度。无论是举办方还是参与者，手持弹幕都是一个非常有价值的互动工具。 ")])),_:1})])}}},[["__scopeId","data-v-c87bcdcf"]]);export{G as default};
