import{d as e}from"./artist-5e2ec7cd.js";import{cB as t,e as r,f as s,Y as o,o as a,c as i,a as u,u as m,dc as p,dj as l}from"./index-c72c5b0c.js";import{V as n}from"./VideoLists-c14db439.js";import{P as j}from"./index-69256b9d.js";import"./AllArtists-b2fee903.js";import"./text-64fc9966.js";import"./use-compitable-a1866e01.js";import"./light-a7677734.js";import"./Avatar-62f97100.js";import"./utils-48198701.js";import"./Tag-827106b2.js";import"./_common-991711fd.js";import"./light-4ec95d76.js";import"./Grid-1728937a.js";import"./next-frame-once-924ab492.js";import"./get-slot-a0e67e91.js";import"./Skeleton-163a49d9.js";import"./use-houdini-1a86f12f.js";import"./Pagination-10257b2a.js";import"./Suffix-af55cfcd.js";import"./index-92eb66c0.js";import"./use-merged-state-74230ec8.js";import"./Input-b4caa030.js";import"./light-6c88686a.js";import"./Select-714380b7.js";import"./create-07671515.js";import"./light-20fa43af.js";import"./light-cb0cf260.js";import"./light-170bfcda.js";import"./cssr-ed8d5782.js";import"./Popover-87b27d79.js";import"./Follower-ef4b8179.js";import"./Empty-3e1da814.js";import"./light-e632ba41.js";import"./create-ref-setter-ee697025.js";const v={class:"videos"},d={__name:"videos",props:{mvSize:{type:Number,default:0}},setup(d){const g=t(),c=d,h=r(g.currentRoute.value.query.id),f=r([]),y=r(30),x=r(g.currentRoute.value.query.page?Number(g.currentRoute.value.query.page):1),b=r(0),q=(t,r=30,s=0)=>{e(t,r,s).then((e=>{b.value=c.mvSize,f.value=[],e.mvs?e.mvs.forEach((e=>{f.value.push({id:e.id,cover:e.imgurl16v9,name:e.name,artist:[e.artist],playCount:p(e.playCount),duration:l(e.duration)})})):$message.error("搜索内容为空"),"undefined"!=typeof $scrollToTop&&$scrollToTop()}))},C=e=>{g.push({path:"/music/artist/videos",query:{id:h.value,page:e}})},N=e=>{y.value=e,q(h.value,e,(x.value-1)*y.value)};return s((()=>{q(h.value,y.value,(x.value-1)*y.value)})),o((()=>g.currentRoute.value),(e=>{h.value=e.query.id,x.value=Number(e.query.page?e.query.page:1),"ar-videos"==e.name&&q(h.value,y.value,(x.value-1)*y.value)})),(e,t)=>(a(),i("div",v,[u(n,{listData:m(f)},null,8,["listData"]),u(j,{totalCount:m(b),pageNumber:m(x),onPageSizeChange:N,onPageNumberChange:C},null,8,["totalCount","pageNumber"])]))}};export{d as default};
